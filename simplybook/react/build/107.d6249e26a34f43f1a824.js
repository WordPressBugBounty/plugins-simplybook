"use strict";(globalThis.webpackChunksimplybook_app=globalThis.webpackChunksimplybook_app||[]).push([[107,809],{6778:(e,t,r)=>{r.d(t,{h:()=>a});var n=r(1609);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(null,arguments)}var a=function(e){return n.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",className:"logo_svg__header--logo-image",viewBox:"0 0 122.55 18.92"},e),n.createElement("g",{"data-name":"Layer 2"},n.createElement("g",{"data-name":"Layer 1"},n.createElement("path",{d:"M4.61 5.9A9.3 9.3 0 0 0 7 6.91l1.1.37a9 9 0 0 1 1 .39l.35.14 3.15-3h.22L4.19 17.05 0 13.27l2.16-2.18 2 1.83 3-2.89c-.43-.16-.93-.32-1.53-.49a10.1 10.1 0 0 1-3.28-1.48 3.89 3.89 0 0 1-1.51-3.3A4.26 4.26 0 0 1 2.37 1.3 5.62 5.62 0 0 1 6.1 0a6 6 0 0 1 5.28 2.84L9.15 5.11a3.2 3.2 0 0 0-3.05-2C4.79 3.07 4 3.73 4 4.67a1.5 1.5 0 0 0 .61 1.23m7.65 5.93a4.31 4.31 0 0 1-1.62 3.53 6.35 6.35 0 0 1-4 1.3l5-7a4.3 4.3 0 0 1 .62 2.17",style:{fill:"#2eabe2",fillRule:"evenodd"}}),n.createElement("path",{d:"M14.92 3.13a1.4 1.4 0 0 0-1.39 1.37 1.4 1.4 0 0 0 2.79 0 1.4 1.4 0 0 0-1.4-1.37m-1.13 12.35h2.27V6.89h-2.27Zm13.64-8.83a3 3 0 0 0-2.62 1.24 2.61 2.61 0 0 0-2.39-1.24A2.76 2.76 0 0 0 20 7.8v-.91h-2.29v8.59H20v-4.83c0-1.25.65-1.94 1.66-1.94s1.47.6 1.47 1.63v5.14h2.27v-4.83c0-1.25.6-1.94 1.64-1.94s1.47.6 1.47 1.63v5.14h2.27v-5.29a3.22 3.22 0 0 0-3.35-3.54m10 0a3.43 3.43 0 0 0-2.82 1.25v-1h-2.26v12h2.26v-4.44a3.44 3.44 0 0 0 2.85 1.26 4 4 0 0 0 3-1.31 4.5 4.5 0 0 0 1.26-3.23A4.46 4.46 0 0 0 40.49 8a4.06 4.06 0 0 0-3.03-1.35Zm1.32 6.28a2.43 2.43 0 0 1-4.17-1.75 2.32 2.32 0 0 1 .69-1.73 2.54 2.54 0 0 1 3.48 0 2.26 2.26 0 0 1 .7 1.73 2.3 2.3 0 0 1-.67 1.75ZM43 15.48h2.27V2.94H43Zm7.67-2.82-2.33-5.77h-2.48l3.6 8.31a2.14 2.14 0 0 1-2.3 1.65v2.06c2.25.12 3.73-1 4.64-3.43L55 6.89h-2.43Zm12.5-3.42a2.88 2.88 0 0 0 1.16-2.4 3.05 3.05 0 0 0-1.09-2.42 3.84 3.84 0 0 0-2.65-1h-4.9v12h5.22a4 4 0 0 0 2.72-1A3.22 3.22 0 0 0 64.74 12a3 3 0 0 0-1.62-2.76Zm-5-3.57h2.43A1.28 1.28 0 0 1 61.86 7a1.29 1.29 0 0 1-1.32 1.33h-2.43Zm2.8 7.59h-2.8v-2.83h2.8a1.42 1.42 0 1 1 0 2.83m9.23-6.61A4.6 4.6 0 0 0 66.83 8a4.32 4.32 0 0 0-1.33 3.21 4.35 4.35 0 0 0 1.33 3.23 4.82 4.82 0 0 0 6.61 0 4.34 4.34 0 0 0 1.36-3.23A4.3 4.3 0 0 0 73.44 8a4.57 4.57 0 0 0-3.3-1.35Zm1.7 6.23a2.38 2.38 0 0 1-4.08-1.7 2.41 2.41 0 0 1 4.08-1.7 2.28 2.28 0 0 1 .69 1.7 2.25 2.25 0 0 1-.75 1.7Zm8.2-6.23A4.57 4.57 0 0 0 76.8 8a4.3 4.3 0 0 0-1.34 3.21 4.32 4.32 0 0 0 1.34 3.23 4.82 4.82 0 0 0 6.61 0 4.37 4.37 0 0 0 1.35-3.23A4.34 4.34 0 0 0 83.41 8a4.6 4.6 0 0 0-3.31-1.35m1.71 6.23a2.41 2.41 0 1 1-1.71-4.07 2.37 2.37 0 0 1 1.71.67 2.28 2.28 0 0 1 .68 1.7 2.25 2.25 0 0 1-.68 1.7m8.57-1.75 3.53-4.24H91.2l-3 3.78V3.46h-2.29v12h2.27v-3.9l3.2 3.9H94Z",style:{fill:"#2eabe2"}}),n.createElement("path",{d:"M122.46 12.09h-6.62a2.22 2.22 0 0 0 2.47 1.62 2.34 2.34 0 0 0 2-.86l1.83 1a4.39 4.39 0 0 1-3.83 1.84 4.78 4.78 0 0 1-3.5-1.29 4.35 4.35 0 0 1-1.32-3.25A4.37 4.37 0 0 1 114.76 8a4.48 4.48 0 0 1 3.34-1.31A4.2 4.2 0 0 1 121.29 8a4.45 4.45 0 0 1 1.26 3.22 5 5 0 0 1-.09.87m-4.36-3.45a2.18 2.18 0 0 0-2.3 1.74h4.48a2.11 2.11 0 0 0-2.18-1.74m-8 1.7c0-1-.54-1.63-1.48-1.63S107 9.4 107 10.65v4.83h-2.27v-5.14c0-1-.54-1.63-1.47-1.63s-1.66.69-1.66 1.94v4.83h-2.28V6.89h2.27v.91A2.76 2.76 0 0 1 104 6.65a2.61 2.61 0 0 1 2.39 1.24 3 3 0 0 1 2.62-1.24 3.22 3.22 0 0 1 3.32 3.54v5.29h-2.23Zm-14.74 4.93a1.44 1.44 0 0 1 0-2.06 1.52 1.52 0 0 1 2.11 0 1.44 1.44 0 0 1 0 2.06 1.52 1.52 0 0 1-2.11 0",style:{fillRule:"evenodd",fill:"#26334b"}}))))}},8800:(e,t,r)=>{r.d(t,{f:()=>a});var n,i=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),a=function(e){function t(r,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var o=e.apply(this,function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}([r],i,!1))||this;return o.name="DataError",o.fields=n,Error.captureStackTrace&&Error.captureStackTrace(o,t),o}return i(t,e),t}(Error)},4576:(e,t,r)=>{r.d(t,{A:()=>c});var n=r(9592),i=r(7723),a=r(8800),o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},s=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))},l=function(e,t){var r,n,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};const c=function(){function e(e){this.route=null,this.getMethodHeaders={"X-WP-NONCE":n.Dv},this.postMethodHeaders={"Content-Type":"application/json",Accept:"application/json","X-WP-NONCE":n.Dv},this.payload={nonce:n.St},e&&(this.route=n.n_+e)}return e.prototype.get=function(){return s(this,void 0,void 0,(function(){var e,t;return l(this,(function(r){switch(r.label){case 0:if(!this.route)throw new Error((0,i.__)("Route is not set","simplybook"));return[4,fetch(this.route,{method:"GET",headers:this.getMethodHeaders})];case 1:return(e=r.sent()).ok?[3,3]:[4,e.json()];case 2:return t=r.sent(),[2,this.handleError(t)];case 3:return[2,e.json()]}}))}))},e.prototype.post=function(e){return s(this,void 0,void 0,(function(){var t,r;return l(this,(function(a){switch(a.label){case 0:if(!this.route)throw new Error((0,i.__)("Route is not set","simplybook"));return this.payload.payloadWasSet||this.setPayload(e),[4,fetch(this.route,{method:"POST",headers:this.postMethodHeaders,body:JSON.stringify(o(o({},this.payload),{nonce:n.St}))})];case 1:return t=a.sent(),this.resetPayload(),t.ok?[3,3]:[4,t.json()];case 2:return r=a.sent(),[2,this.handleError(r)];case 3:return[2,t.json()]}}))}))},e.prototype.put=function(e){return s(this,void 0,void 0,(function(){var t,r,n;return l(this,(function(a){switch(a.label){case 0:if(!this.route)throw new Error((0,i.__)("Route is not set. Use setRoute() before calling put()","simplybook"));return this.payload.payloadWasSet||this.setPayload(e),t=o(o({},this.payload),e&&o({},e)),[4,fetch(this.route,{method:"PUT",headers:this.postMethodHeaders,body:JSON.stringify(o({},t))})];case 1:return r=a.sent(),this.resetPayload(),r.ok?[3,3]:[4,r.json()];case 2:return n=a.sent(),[2,this.handleError(n)];case 3:return[2,r.json()]}}))}))},e.prototype.delete=function(){return s(this,void 0,void 0,(function(){var e,t,r;return l(this,(function(a){switch(a.label){case 0:if(!this.route)throw new Error((0,i.__)("Route is not set. Use setRoute() before calling delete()","simplybook"));return e={nonce:n.St},[4,fetch(this.route,{method:"DELETE",headers:this.postMethodHeaders,body:JSON.stringify(e)})];case 1:return(t=a.sent()).ok?[3,3]:[4,t.json()];case 2:return r=a.sent(),[2,this.handleError(r)];case 3:return[2,t.json()]}}))}))},e.prototype.setRoute=function(e){return this.route=n.n_+e,this},e.prototype.setHeaders=function(e,t){return"get"===t?(this.getMethodHeaders=o(o({},this.getMethodHeaders),e),this):"post"===t?(this.postMethodHeaders=o(o({},this.postMethodHeaders),e),this):this},e.prototype.setPayload=function(e){if(!1===this.isValidPayload(e))throw new Error((0,i.__)("Payload must be a non-empty object.","simplybook"));return this.payload=o(o(o({},this.payload),e),{payloadWasSet:!0}),this},e.prototype.isValidPayload=function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return(t===Object.prototype||t===Array.prototype||null===t)&&(Array.isArray(e)?e.length>0:Object.keys(e).length>0)},e.prototype.resetPayload=function(){this.payload={nonce:n.St}},e.prototype.handleError=function(e){var t,r=(0,i.__)("An unknown error occurred. Please try again.","simplybook");if("internal_server_error"===(null==e?void 0:e.code))throw new Error(r);throw"string"==typeof e&&(r=e),(null==e?void 0:e.message)&&(r=e.message),(null==e?void 0:e.error)&&(r=e.error),(null==e?void 0:e.errors)&&(t=e.errors),new a.f(r,t)},e}()},1674:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(790),i=r(1609),a=r(4164),o=(0,i.memo)((function(e){var t=e.className,r=void 0===t?"":t,i=e.children;return(0,n.jsx)("div",{className:(0,a.A)("content-block bg-white shadow-md rounded-xl flex flex-col",r),children:i})}));o.displayName="Block";const s=o},1888:(e,t,r)=>{r.d(t,{A:()=>c});var n=r(790),i=r(4164),a=r(9681),o=r(1577),s=r(1314),l=function(e){var t=e.className,r=void 0===t?"":t,l=e.children,c=e.link,d=void 0===c?"":c,u=e.linkClassName,m=void 0===u?"":u,v=e.btnVariant,p=e.disabled,f=void 0!==p&&p,g=e.target,h=e.loginLink,y=void 0===h?"":h,b=(e.icon,e.iconName),x=void 0===b?"":b,w=e.iconSize,_=void 0===w?"":w,E=e.iconClass,k=void 0===E?"":E,N=e.iconStyle,S=e.onClick,j=e.reverseIcon,A=void 0!==j&&j,C=(0,s.A)().fetchLinkData,P=(0,i.A)("flex items-center justify-center rounded-full transition-all duration-200 px-3 py-1",{"bg-primary text-white hover:bg-primary-dark !p-4 text-base":"primary"==v,"bg-primary text-white hover:bg-primary-dark ":"primary-small"==v,"bg-secondary text-white hover:bg-secondary-dark !p-4 text-base":"secondary"==v,"bg-secondary text-white hover:bg-secondary-dark ":"secondary-small"==v,"bg-tertiary text-white hover:bg-tertiary-light hover:text-tertiary !p-4 text-base":"tertiary"==v,"bg-tertiary text-white hover:bg-tertiary-light hover:text-tertiary":"tertiary-small"==v,"border-2 border-black bg-transparent !p-4 text-base":"ghost"==v,"border-2 border-black bg-transparent":"ghost-small"==v,"bg-primary text-white rounded-md hover:bg-primary-dark !p-4 text-base":"square"==v,"rounded-md text-white":"square-small"==v,"border-2 border-primary text-primary rounded-md !p-4 text-base":"square-ghost"==v,"border-2 border-primary text-primary rounded-md":"square-ghost-small"==v}),R=f?"opacity-50 cursor-not-allowed pointer-events-none":"",T=A?"flex-row-reverse":"flex-row";return r.length>0&&(P=P+" "+r),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.N_,{className:(0,i.A)(m,"text-sm font-semibold",R),to:d,onClick:y?function(e){return function(e,t){e.preventDefault(),C().then((function(e){var r,n=null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.simplybook_external_login_url;if(n){var i="".concat(n,"/").concat(t,"/");if(n.includes("by-hash")){var a=new URL(n);a.searchParams.append("back_url","/".concat(t,"/")),i=a.toString()}window.open(i,"_blank"),window.focus()}else console.error("No link found in response")})).catch((function(e){console.error("Error fetching login URL:",e)}))}(e,y)}:S,target:g,children:(0,n.jsxs)("div",{className:(0,i.A)(P,T,r),children:[x&&(0,n.jsx)(o.A,{className:(0,i.A)(k,{"me-2":!A,"ms-2":A}),name:x,size:_,style:N}),l]})})})};l.displayName="ButtonLink";const c=l},2846:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(790),i=r(4164);const a=function(e){var t=e.className,r=e.children,a=e.labelVariant,o={"border-2 border-blac text-xs ":"ghost"===a,"bg-succes-light text-succes":"trial"===a,"bg-yellow-100 text-yellow-900":"warning"===a,"bg-red-100 text-red-600":"trial-expired"===a,"bg-yellow-900 text-black":"task-open"===a,"bg-red-600 text-white":"task-urgent"===a,"bg-slate-600 text-white":"task-premium"===a,"bg-succes text-white":"task-completed"===a},s=(0,i.A)("py-1 px-2 min-w-20 text-center text-sm rounded-md font-semibold",o,t);return(0,n.jsx)("span",{className:(0,i.A)(s,t),children:r})}},1559:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(790),i=r(1609),a=r(7723);const o=function(e){var t=e.closeButton,r=void 0===t||t,o=e.isOpen,s=e.onClose,l=e.children;return(0,i.useEffect)((function(){var e=function(e){"modal-overlay"===e.target.id&&s()};return o?(document.addEventListener("click",e),document.body.classList.add("overflow-hidden")):(document.removeEventListener("click",e),document.body.classList.remove("overflow-hidden")),function(){document.removeEventListener("click",e),document.body.classList.remove("overflow-hidden")}}),[o,s]),o?(0,n.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center z-99999",children:[(0,n.jsx)("div",{id:"modal-overlay",className:"modal-background bg-black/50 cursor-pointer inset-0 absolute"}),(0,n.jsxs)("div",{id:"modal-body",className:"bg-white p-6 rounded shadow-lg z-60 cursor-default relative w-[65vw] max-w-[46rem] h-auto overflow-y-auto",children:[l,(0,n.jsx)("div",{id:"modal-footer",children:r&&(0,n.jsx)("button",{type:"button",className:"flex items-center justify-center transition-all duration-200 px-3 py-1 rounded-md text-white text-sm font-bold cursor-pointer  flex-row bg-secondary hover:bg-secondary-dark w-20",onClick:s,children:(0,a.__)("Close","simplybook")})})]})]}):null}},4251:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(790),i=r(1409),a=r(1577);const o=function(){function e(e,t){this.type=t,this.message=e}return e.prototype.setType=function(e){return this.type=e,this},e.prototype.setMessage=function(e){return this.message=e,this},e.prototype.render=function(){"success"===this.type&&(0,i.oR)(this.createToast(this.message,"circle-check","green")),"error"===this.type&&(0,i.oR)(this.createToast(this.message,"circle-xmark","red")),"warning"===this.type&&(0,i.oR)(this.createToast(this.message,"warning","var(--color-warning)")),this.type||console.error("ToastNotice: No type has been defined, aborted."),this.cleanUp()},e.prototype.createToast=function(e,t,r){return e&&t&&r?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(a.A,{className:"h-5",name:t,color:r,size:"2x"}),(0,n.jsx)("p",{className:"text-black font-normal text-[0.85rem] m-0",children:e})]})}):(0,n.jsx)(n.Fragment,{})},e.prototype.cleanUp=function(){this.message="No notice message has been defined",this.type="warning"},e}()},5946:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(790),i=r(1577),a=r(7008);const o=function(e){var t=e.message,r=e.type,o=e.iconType,s=void 0===o?"":o,l=e.iconColor,c=void 0===l?"":l;if(!s||!c)switch(r){case"warning":s="warning-circle",c="var(--color-yellow-500)";break;case"error":s="warning-circle",c="var(--color-red-500)";break;default:s="info-circle",c="var(--color-black-900)"}return t?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.A,{name:s,color:c,className:"tooltip-icon ms-2","data-tooltip-id":"field-tooltip","data-tooltip-content":t,"aria-hidden":"false","aria-label":t}),(0,n.jsx)(a.m_,{id:"field-tooltip",place:"bottom",openEvents:{mouseover:!0,focus:!0,click:!0}})]}):null}},7967:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(790),i=r(5920),a=r(1609);var o=r(5946),s=(0,a.memo)((function(e){var t=e.label,r=e.context,a=e.tooltip,s=e.reverseLabel,l=void 0!==s&&s,c=e.className,d=void 0===c?"":c,u=e.inputId,m=e.required,v=void 0!==m&&m,p=e.type,f=void 0===p?"text":p,g=e.children,h=e.fieldState,y=function(e){var t="pattern"==e.type,r="invalid-field";return"required"==e.type&&(r+="-required"),t&&(r+="-regex"),r},b=["flex flex-col",d,"mb-4",(null==h?void 0:h.error)?y(null==h?void 0:h.error):""].filter(Boolean).join(" "),x=["flex flex-col w-full",l?"flex-col-reverse":""].filter(Boolean).join(" ");return(0,n.jsxs)("div",{className:b,children:[(0,n.jsxs)("div",{className:x,children:["checkbox"===f&&g,t&&(0,n.jsxs)(i.b,{className:"cursor-pointer pb-1 font-medium text-black text-label ",htmlFor:u,children:[t,v,a&&(0,n.jsx)(o.A,{message:null==a?void 0:a.message,type:null==a?void 0:a.type})]}),"checkbox"!==f&&g]}),r&&(0,n.jsx)("p",{className:"mt-2 text-xs font-light text-gray-600",children:r})]})}));s.displayName="FieldWrapper";const l=s},8908:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(790),i=r(4164),a=function(e){var t=e.className,r=void 0===t?"":t,a=e.type,o=e.children,s=e.onClick,l=e.btnVariant,c=void 0===l?"primary":l,d=e.disabled,u=void 0!==d&&d,m=(0,i.$)("flex items-center justify-center rounded-full transition-all duration-200 px-3 py-1 text-sm",{"bg-primary text-white hover:bg-primary-dark !p-4 text-base":"primary"==c,"bg-primary text-white hover:bg-primary-dark ":"primary-small"==c,"bg-secondary text-white hover:bg-secondary-dark !p-4 text-base":"secondary"==c,"bg-secondary text-white hover:bg-secondary-dark ":"secondary-small"==c,"bg-tertiary text-white hover:bg-tertiary-light hover:text-tertiary !p-4 text-base":"tertiary"==c,"bg-tertiary text-white hover:bg-tertiary-light hover:text-tertiary":"tertiary-small"==c,"border-2 border-black bg-transparent !p-4 text-base":"ghost"==c,"border-2 border-black bg-transparent":"ghost-small"==c,"border-2 border-inherit bg-primary text-white rounded-md text-base":"square"==c,"border-2 border-primary text-primary rounded-md text-base":"square-ghost"==c,"rounded-md text-white":"square-small"==c,"border-2 border-primary text-primary rounded-md":"square-ghost-small"==c,"opacity-50 cursor-not-allowed":u,"cursor-pointer":!u});return r.length>0&&(m=m+" "+r),(0,n.jsx)("button",{type:a,onClick:s,className:m,disabled:u,children:o})};a.displayName="ButtonInput";const o=a},359:(e,t,r)=>{r.d(t,{A:()=>c});var n=r(790),i=r(1609),a=r.n(i),o=r(4164),s=function(){return s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)},l=function(e){var t=e.name,r=e.placeholder,i=e.type,l=e.className,c=e.clickToSelect,d=void 0!==c&&c,u=e.disabled,m=void 0!==u&&u,v=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(e,["name","placeholder","type","className","clickToSelect","disabled"]),p=a().useState("Copy"),f=p[0],g=p[1],h=a().useState(!1),y=h[0],b=h[1],x=function(){var e=document.querySelector(".copy-button");document.querySelector(".copy-input"),"string"==typeof v.value&&navigator.clipboard.writeText(v.value).then((function(){if(!e)throw new Error("Button not found");g("Copied!"),b(!0),setTimeout((function(){g("Copy"),b(!1)}),1e3)})).catch((function(e){console.error("Error copying text: ",e)}))},w=m?"bg-gray-200 border-gray-200 text-black cursor-not-allowed":"";return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"w-full relative",children:[(0,n.jsx)("input",s({name:t,placeholder:r,type:i,onClick:d?x:void 0,className:(0,o.A)("input-base copy-input transition-[border-color] duration-300 ease-in-out "+w+" "+l),disabled:m},v)),d&&f&&(0,n.jsx)("button",{onClick:d?x:void 0,type:"button","aria-label":t,className:(0,o.A)(y?"bg-green-100 text-green-600":"bg-gray-50 text-gray-600","absolute cursor-pointer right-[0.5rem] top-5.5 transform -translate-y-1/2 rounded-md px-2 py-1 text-xs font-semibold copy-button"),children:f})]})})};l.displayName="TextInput";const c=l},9964:(e,t,r)=>{r.d(t,{V:()=>g,r:()=>f});var n=r(790),i=r(1609),a=r(8468),o=r.n(a),s=r(9866),l=r(8981),c=r(7723),d=r(4251),u=r(8800),m=function(){return m=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},m.apply(this,arguments)},v=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},p=(0,i.createContext)(null),f=function(){var e=(0,i.useContext)(p);if(!e)throw Error("useCrudContext can only be used by child components inside the CrudContextProvider");return e},g=function(e){var t=e.children,r=(0,i.useReducer)(h,x),a=r[0],o=r[1],v=(0,l.A)(),f=v.getServices,g=v.createService,y=v.updateService,w=v.deleteService,_=v.isLoading,E=(0,s.A)(),k=E.getProviders,N=E.createProvider,S=E.updateProvider,j=E.deleteProvider,A=E.isLoading,C=new d.A;return(0,i.useEffect)((function(){o({dispatchType:"loadingChanged",change:{isLoading:A||_}})}),[A,_]),(0,i.useEffect)((function(){switch(a.itemType){case"service":if(a.servicesHasUnsavedChanges)break;f().then((function(e){var t=e.data.data,r=t.flatMap((function(e){return e.is_visible?e.id:[]}));return o({dispatchType:"servicesUpdated",change:{services:t,currentlyVisibleServices:r}}),t})).catch((function(e){console.error(e),o({dispatchType:"generalError",change:{generalError:e.message}})}));break;case"provider":if(a.providersHasUnsavedChanges)break;k().then((function(e){var t=e.data.data,r=t.flatMap((function(e){return e.is_visible?e.id:[]}));return o({dispatchType:"providersUpdated",change:{providers:t,currentlyVisibleProviders:r}}),t})).catch((function(e){console.error(e),o({dispatchType:"generalError",change:{generalError:e.message}})}))}}),[a.itemType]),(0,n.jsx)(p.Provider,{value:{crudState:a,dispatch:o,handleDeletingItem:function(e){var t,r,n;switch(a.itemType){case"provider":t=j,r=(0,c.__)("Are you sure you want to delete this Service Provider?","simplybook"),n="providerDeleted";break;case"service":t=w,r=(0,c.__)("Are you sure you want to delete this Service?","simplybook"),n="serviceDeleted";break;default:throw new Error("ItemType not set")}window.confirm(r)&&t(e).then((function(){o({dispatchType:n,change:{item:{id:e}}})})).catch((function(e){console.error("Error on deletion:",e)}))},saveItems:function(){var e,t,r,n,i;switch(a.generalError&&o({dispatchType:"generalError",change:{generalError:""}}),a.itemType){case"provider":e=a.unsavedProviders,t=N,r=S,n={create:(0,c.__)("Error creating Service Provider","simplybook"),update:(0,c.__)("Error updating Service Provider","simplybook")},i={create:"providerCreatedSuccessfully",update:"providerUpdatedSuccessfully"};break;case"service":e=a.unsavedServices,t=g,r=y,n={create:(0,c.__)("Error creating Service","simplybook"),update:(0,c.__)("Error updating Service","simplybook")},i={create:"serviceCreatedSuccessfully",update:"serviceUpdatedSuccessfully"};break;default:throw new Error("ItemType not set")}if(0===Object.keys(e).length)throw o({dispatchType:"savingChanged",change:{isSaving:!1}}),new Error("Nothing to save");for(var s=function(e,t,r){var i,s;throw void 0===t&&(t=""),console.error("Error on save:",e),e.fields?o({dispatchType:"errorsOnFields",change:m(m({},"provider"===a.itemType&&{providerErrors:(i={},i[r]=e.fields,i)}),"service"===a.itemType&&{serviceErrors:(s={},s[r]=e.fields,s)})}):o({dispatchType:"generalError",change:{generalError:e.message}}),C.setMessage(t?n[t]:(0,c.__)("An error occurred trying to save your changes","simplybook")).setType("error").render(),o({dispatchType:"savingChanged",change:{isSaving:!1}}),e},l=function(e){if(e.name||s(new u.f("No name provided",{name:[(0,c.__)("Name is a required field.","simplybook")]}),"",e.id),!e.id)throw new Error("No ID provided");var n=b(m({},e));"new"===e.id?t(n).then((function(e){o({dispatchType:i.create,change:{item:e.data}}),C.setMessage(e.message).setType("success").render(),o({dispatchType:"savingChanged",change:{isSaving:!1}})})).catch((function(e){s(e,"create","new")})):r({id:e.id,data:n}).then((function(e){o({dispatchType:i.update,change:{item:e.data}}),C.setMessage(e.message).setType("success").render(),o({dispatchType:"savingChanged",change:{isSaving:!1}})})).catch((function(t){s(t,"update",e.id)}))},d=0,v=e;d<v.length;d++)l(v[d])}},children:t})},h=function(e,t){var r,n,i,a,s,l,c,d,u,p,f,g,h,b,w,_,E,k,N,S,j,_x,A,C,P,R,T,O,q,I,L;switch(t.dispatchType){case"crudItemTypeChanged":return m(m({},e),{itemType:t.change.itemType?t.change.itemType:null});case"unsavedChangesToProviders":if(!t.change.item)throw new Error("Item to update not set");var F=e.providers?e.providers.find((function(e){var r;return e.id===(null===(r=t.change.item)||void 0===r?void 0:r.id)})):null,V=e.unsavedProviders?e.unsavedProviders.find((function(e){var r;return e.id===(null===(r=t.change.item)||void 0===r?void 0:r.id)})):null,H=m(m({},V||F),t.change.item),U=o().isEqual(F,H),D=null!==(i=e.currentlyVisibleProviders)&&void 0!==i?i:[],M=Object.keys(t.change.item).includes("is_visible");if(U){var B=null!==(s=null===(a=e.unsavedProviders)||void 0===a?void 0:a.filter((function(e){return H.id!=e.id})))&&void 0!==s?s:[];return m(m(m({},e),{unsavedProviders:B,providersHasUnsavedChanges:!!B.length&&B.length>0}),M&&{currentlyVisibleProviders:y(Number(H.id),D,!!H.is_visible)})}var z=e.unsavedProviders?e.unsavedProviders.findIndex((function(e){return e.id===H.id})):-1,$=e.unsavedProviders?v([],e.unsavedProviders,!0):[];return-1!=z?$[z]=H:$.push(H),m(m(m({},e),{unsavedProviders:$,providersHasUnsavedChanges:!0}),M&&{currentlyVisibleProviders:y(Number(H.id),D,!!H.is_visible)});case"unsavedChangesToServices":if(!t.change.item)throw new Error("Item to update not set");var K=e.services?e.services.find((function(e){var r;return e.id===(null===(r=t.change.item)||void 0===r?void 0:r.id)})):null,Q=e.unsavedServices?e.unsavedServices.find((function(e){var r;return e.id===(null===(r=t.change.item)||void 0===r?void 0:r.id)})):null,G=m(m({},Q||K),t.change.item),W=o().isEqual(K,G),Z=null!==(l=e.currentlyVisibleServices)&&void 0!==l?l:[];if(M=Object.keys(t.change.item).includes("is_visible"),W){var Y=null!==(d=null===(c=e.unsavedServices)||void 0===c?void 0:c.filter((function(e){return G.id!=e.id})))&&void 0!==d?d:[];return m(m(m({},e),{unsavedServices:Y,servicesHasUnsavedChanges:!!Y.length&&Y.length>0}),M&&{currentlyVisibleServices:y(Number(G.id),Z,!!G.is_visible)})}var J=e.unsavedServices?e.unsavedServices.findIndex((function(e){return e.id===G.id})):-1,X=e.unsavedServices?v([],e.unsavedServices,!0):[];return-1!=J?X[J]=G:X.push(G),m(m(m({},e),{unsavedServices:X,servicesHasUnsavedChanges:!0}),M&&{currentlyVisibleServices:y(Number(G.id),Z,!!G.is_visible)});case"providersUpdated":if(!t.change.providers)throw Error("Providers not set");return m(m(m({},e),{providers:t.change.providers}),t.change.currentlyVisibleProviders&&{currentlyVisibleProviders:t.change.currentlyVisibleProviders});case"servicesUpdated":if(!t.change.services)throw Error("Services not set");return m(m(m({},e),{services:t.change.services}),t.change.currentlyVisibleServices&&{currentlyVisibleServices:t.change.currentlyVisibleServices});case"isCreatingNewChanged":if(!t.change.isCreatingNewProvider&&!t.change.isCreatingNewService)throw new Error("No creating new state provided");return m(m(m({},e),"provider"===e.itemType&&{isCreatingNewProvider:t.change.isCreatingNewProvider}),"service"===e.itemType&&{isCreatingNewService:t.change.isCreatingNewService});case"cancelAllUnsavedChanges":var ee=void 0;switch(e.itemType){case"provider":ee=null===(u=e.providers)||void 0===u?void 0:u.filter((function(e){return e.is_visible})).map((function(e){return e.id}));break;case"service":ee=null===(p=e.services)||void 0===p?void 0:p.filter((function(e){return e.is_visible})).map((function(e){return e.id}));break;default:throw new Error("ItemType not set")}return m(m(m(m({},e),{generalError:""}),"provider"===e.itemType&&{providersHasUnsavedChanges:!1,currentlyVisibleProviders:ee,unsavedProviders:[],isCreatingNewProvider:!1,providerErrors:{}}),"service"===e.itemType&&{servicesHasUnsavedChanges:!1,currentlyVisibleServices:ee,unsavedServices:[],isCreatingNewService:!1,serviceErrors:{}});case"providerUpdatedSuccessfully":if(!t.change.item)throw new Error("No provider provided");var te=e.unsavedProviders?null===(f=e.unsavedProviders)||void 0===f?void 0:f.filter((function(e){var r;return e.id!==(null===(r=t.change.item)||void 0===r?void 0:r.id)})):[],re=e.providers?e.providers.map((function(e){var r;return e.id===(null===(r=t.change.item)||void 0===r?void 0:r.id)?m(m({},e),t.change.item):e})):[],ne=re.flatMap((function(e){return e.is_visible?e.id:[]}));return m(m({},e),{providers:re,unsavedProviders:te,providersHasUnsavedChanges:0!==te.length,currentlyVisibleProviders:ne});case"providerCreatedSuccessfully":if(!t.change.item)throw new Error("No provider provided");te=e.unsavedProviders?null===(g=e.unsavedProviders)||void 0===g?void 0:g.filter((function(e){return"new"!==e.id})):[];var ie=null!==(h=e.providers)&&void 0!==h?h:[];return ne=(re=v(v([],ie,!0),[t.change.item],!1)).flatMap((function(e){return e.is_visible?e.id:[]})),m(m({},e),{isCreatingNewProvider:!1,providers:re,unsavedProviders:te,providersHasUnsavedChanges:0!==te.length,currentlyVisibleProviders:ne});case"serviceUpdatedSuccessfully":if(!t.change.item)throw new Error("No service provided");var ae=e.unsavedServices?null===(b=e.unsavedServices)||void 0===b?void 0:b.filter((function(e){var r;return e.id!==(null===(r=t.change.item)||void 0===r?void 0:r.id)})):[],oe=e.services?e.services.map((function(e){var r;return e.id===(null===(r=t.change.item)||void 0===r?void 0:r.id)?m(m({},e),t.change.item):e})):[],se=oe.flatMap((function(e){return e.is_visible?e.id:[]}));return m(m({},e),{services:oe,unsavedServices:ae,servicesHasUnsavedChanges:0!==ae.length,currentlyVisibleServices:se});case"serviceCreatedSuccessfully":if(!t.change.item)throw new Error("No new service provided");ae=e.unsavedServices?null===(w=e.unsavedServices)||void 0===w?void 0:w.filter((function(e){return"new"!==e.id})):[];var le=null!==(_=e.services)&&void 0!==_?_:[];return se=(oe=v(v([],le,!0),[t.change.item],!1)).flatMap((function(e){return e.is_visible?e.id:[]})),m(m({},e),{isCreatingNewService:!1,services:oe,unsavedServices:ae,servicesHasUnsavedChanges:0!==ae.length,currentlyVisibleServices:se});case"createNewCanceled":var ce=void 0;switch(e.itemType){case"provider":ce=null!==(k=null===(E=e.unsavedProviders)||void 0===E?void 0:E.filter((function(e){return"new"!=e.id})))&&void 0!==k?k:[];break;case"service":ce=null!==(S=null===(N=e.unsavedServices)||void 0===N?void 0:N.filter((function(e){return"new"!=e.id})))&&void 0!==S?S:[];break;default:throw new Error("ItemType not set")}return m(m(m({},e),"provider"===e.itemType&&{providersHasUnsavedChanges:!!ce.length&&ce.length>0,isCreatingNewProvider:!1,unsavedProviders:ce}),"service"===e.itemType&&{servicesHasUnsavedChanges:!!ce.length&&ce.length>0,isCreatingNewService:!1,unsavedProviders:ce});case"providerDeleted":if(!t.change.item)throw new Error("Item to delete not set");var de=e.providers?e.providers.filter((function(e){var r;return e.id!==(null===(r=t.change.item)||void 0===r?void 0:r.id)})):[],ue=null!==(_x=null===(j=e.unsavedProviders)||void 0===j?void 0:j.filter((function(e){var r;return e.id!=(null===(r=t.change.item)||void 0===r?void 0:r.id)})))&&void 0!==_x?_x:[],me=!!t.change.item&&(null===(A=e.currentlyVisibleProviders)||void 0===A?void 0:A.includes(t.change.item.id));return D=null!==(C=e.currentlyVisibleProviders)&&void 0!==C?C:[],m(m(m({},e),{providers:de,unsavedProviders:ue,servicesHasUnsavedChanges:!!ue.length&&ue.length>0}),me&&{currentlyVisibleProviders:D.filter((function(e){var r;return e!=(null===(r=t.change.item)||void 0===r?void 0:r.id)}))});case"serviceDeleted":if(!t.change.item)throw new Error("Item to delete not set");var ve=e.services?e.services.filter((function(e){var r;return e.id!==(null===(r=t.change.item)||void 0===r?void 0:r.id)})):[],pe=null!==(R=null===(P=e.unsavedServices)||void 0===P?void 0:P.filter((function(e){var r;return e.id!=(null===(r=t.change.item)||void 0===r?void 0:r.id)})))&&void 0!==R?R:[];return me=!!t.change.item&&(null===(T=e.currentlyVisibleServices)||void 0===T?void 0:T.includes(t.change.item.id)),Z=null!==(O=e.currentlyVisibleServices)&&void 0!==O?O:[],m(m(m({},e),{services:ve,unsavedServices:pe,servicesHasUnsavedChanges:!!pe.length&&pe.length>0}),me&&{currentlyVisibleServices:Z.filter((function(e){var r;return e!=(null===(r=t.change.item)||void 0===r?void 0:r.id)}))});case"errorsOnFields":if(!t.change.providerErrors&&!t.change.serviceErrors)throw new Error("No errors provided ");var fe=void 0,ge=void 0,he=void 0;switch(e.itemType){case"provider":fe=e.providerErrors,ge=t.change.providerErrors,he=t.change.providerErrors&&Object.keys(t.change.providerErrors)[0];break;case"service":fe=e.serviceErrors,ge=t.change.serviceErrors,he=t.change.serviceErrors&&Object.keys(t.change.serviceErrors)[0];break;default:throw new Error("ItemType not set")}var ye=he&&fe?fe[he]:null,be=m(m({},ye),he&&ge&&m({},ge[he])),xe=m(m({},fe),he&&((r={})[he]=m({},be),r));return m(m(m({},e),"provider"===e.itemType&&{providerErrors:m({},xe)}),"service"===e.itemType&&{serviceErrors:m({},xe)});case"generalError":if("string"!=typeof t.change.generalError)throw new Error("No error provided");return m(m({},e),{generalError:t.change.generalError});case"clearErrorsForField":if(!t.change.item)throw new Error("No item provided");var we=Object.keys(t.change.item).find((function(e){return"id"!==e}));if(!we)throw new Error("No field provided");fe="provider"===e.itemType?e.providerErrors:e.serviceErrors;var _e=(null===(q=t.change.item)||void 0===q?void 0:q.id)&&fe?fe[t.change.item.id]:null;return _e&&we&&delete _e[we],xe=m(m({},fe),t.change.item.id&&_e&&((n={})[t.change.item.id]=_e,n)),_e&&0===Object.keys(_e).length&&delete xe[t.change.item.id],m(m(m({},e),"provider"===e.itemType&&{providerErrors:m({},xe)}),"service"===e.itemType&&{serviceErrors:m({},xe)});case"clearAllErrorsForItem":if(!t.change.item)throw new Error("No item provided");return delete(ye="provider"===e.itemType?null!==(I=e.providerErrors)&&void 0!==I?I:{}:null!==(L=e.serviceErrors)&&void 0!==L?L:{})[t.change.item.id],m(m(m(m({},e),{generalError:""}),"provider"===e.itemType&&{providerErrors:m({},ye)}),"service"===e.itemType&&{serviceErrors:m({},ye)});case"loadingChanged":if(void 0===t.change.isLoading)throw new Error("isLoading not set");return m(m({},e),{isLoading:t.change.isLoading});case"savingChanged":if(void 0===t.change.isSaving)throw new Error("isLoading not set");return m(m({},e),{isSaving:t.change.isSaving});case"reset":return x;default:throw new Error("Unknown action: "+t.dispatchType)}},y=function(e,t,r){var n,i=t.includes(e);switch(r){case!0:i||t.push(e),n=t;break;case!1:i&&(t=null==t?void 0:t.filter((function(t){return t!==e}))),n=t}return n},b=function(e){var t;return m(m(m(m(m({name:e.name,is_visible:null===(t=e.is_visible)||void 0===t||t},e.id&&"new"!==e.id&&{id:e.id}),e.qty&&{qty:Math.max(Number(e.qty)||1,1)}),e.email&&{email:e.email||""}),e.phone&&{phone:e.phone||""}),e.duration&&{duration:e.duration})},x={itemType:null,item:null,unsavedProviders:[],unsavedServices:[],providerErrors:{},serviceErrors:{},currentlyVisibleProviders:[],currentlyVisibleServices:[],isLoading:!1,isSaving:!1,servicesHasUnsavedChanges:!1,providersHasUnsavedChanges:!1,isCreatingNewProvider:!1,isCreatingNewService:!1,generalError:""}},5591:(e,t,r)=>{r.d(t,{p:()=>u,E:()=>d});var n=r(790),i=r(1609),a=r(9270),o=r(4576);var s=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},l={activeNotifications:[],getNotification:function(){},triggerNotification:function(){return!1},triggerNotificationById:function(){return!1},getAllNotifications:function(){return!1}},c=(0,i.createContext)(l),d=function(){return(0,i.useContext)(c)},u=function(e){var t=e.children,r=function(){var e,t="get_notices",r=new o.A,n=(0,a.I)({queryKey:[t],queryFn:function(){return r.setRoute(t).get()},staleTime:3e5}),i=n.data,s=n.isLoading,l=n.error;return null!==l&&console.error("Error fetching notices: ",l.message),{allNotices:null==i?void 0:i.data,isLoading:s,hasError:null!==l,message:null!==(e=null==i?void 0:i.message)&&void 0!==e?e:null==l?void 0:l.message}}(),l=r.allNotices,d=r.isLoading,u=(0,i.useState)([]),m=u[0],v=u[1];(0,i.useEffect)((function(){if(l){var e=l.filter((function(e){return e.active}));e.length>0&&v((function(t){var r=e.filter((function(e){return!t.some((function(t){return t.id===e.id}))}));return s(s([],t,!0),r,!0)}))}}),[l]);var p=function(e){return l.find((function(t){return t.id===e}))},f=function(e){v((function(t){return t.some((function(t){return t.id===e.id}))?t:s(s([],t,!0),[e],!1)}))};if(!d)return(0,n.jsx)(c.Provider,{value:{activeNotifications:m,getNotification:p,triggerNotification:f,triggerNotificationById:function(e){var t=p(e);if(!t)return console.warn('Notification "'.concat(e,'" not found'));f(t)},getAllNotifications:function(){return m}},children:t})}},2001:(e,t,r)=>{r.d(t,{A:()=>d});var n=r(7665),i=r(9270),a=r(7097),o=r(4576),s=function(){return s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)},l=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))},c=function(e,t){var r,n,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};const d=function(e){var t,r,d,u,m,v,p,f=new o.A(e),g=(0,n.jE)(),h=(0,i.I)({queryKey:[e],queryFn:function(){return f.get()},staleTime:3e5,retry:1}),y=h.refetch,b=h.isLoading,x=h.error,w=h.data,_=(0,a.n)({mutationFn:function(e){return f.post(e)},onSuccess:function(){g.invalidateQueries({queryKey:[e]})}}),E=(0,a.n)({mutationFn:function(t){return l(void 0,void 0,void 0,(function(){return c(this,(function(r){switch(r.label){case 0:return[4,f.setRoute("".concat(e,"/").concat(t.id)).put(t.data)];case 1:return[2,r.sent()]}}))}))},onMutate:function(t){return l(void 0,void 0,void 0,(function(){var r;return c(this,(function(n){switch(n.label){case 0:return[4,g.cancelQueries({queryKey:[e]})];case 1:return n.sent(),r=g.getQueryData([e]),g.setQueryData([e],(function(e){return(null==e?void 0:e.data)?s(s({},e),{data:e.data.map((function(e){return e.id===t.id?s(s({},e),t.data):e}))}):e})),[2,{previousData:r}]}}))}))},onError:function(t,r,n){(null==n?void 0:n.previousData)&&g.setQueryData([e],n.previousData)},onSettled:function(){g.invalidateQueries({queryKey:[e]})}}),k=(0,a.n)({mutationFn:function(t){return f.setRoute("".concat(e,"/").concat(t)).delete()},onSuccess:function(){g.invalidateQueries({queryKey:[e]})}});return{data:null!==(t=null==w?void 0:w.data)&&void 0!==t?t:[],dataFetched:!b&&!x,isLoading:null!=b&&b,error:null!=x?x:null,get:y,create:_.mutateAsync,update:E.mutateAsync,delete:k.mutateAsync,isCreating:null!==(r=_.isPending)&&void 0!==r&&r,isUpdating:null!==(d=E.isPending)&&void 0!==d&&d,isDeleting:null!==(u=k.isPending)&&void 0!==u&&u,createError:null!==(m=_.error)&&void 0!==m?m:null,updateError:null!==(v=E.error)&&void 0!==v?v:null,deleteError:null!==(p=k.error)&&void 0!==p?p:null}}},1314:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(7665),i=r(9270),a=r(4576),o={data:{simplybook_external_login_url:""}};const s=function(){var e=(0,n.jE)(),t="get_login_url",r=new a.A(t),s=(0,i.I)({queryKey:[t],queryFn:function(){return r.get()},staleTime:36e5,retry:0,enabled:!1,initialData:o,refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1});return{loginData:s.data,fetchLinkData:function(){return r=void 0,n=void 0,a=function(){var r;return function(e,t){var r,n,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}(this,(function(n){switch(n.label){case 0:return[4,s.refetch()];case 1:return r=n.sent(),e.setQueryData([t],null==r?void 0:r.data),[2,null==r?void 0:r.data]}}))},new((i=void 0)||(i=Promise))((function(e,t){function o(e){try{l(a.next(e))}catch(e){t(e)}}function s(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof i?r:new i((function(e){e(r)}))).then(o,s)}l((a=a.apply(r,n||[])).next())}));var r,n,i,a}}}},9866:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(1609),i=r(2001),a=r(5591);const o=function(){var e,t,r,o,s,l,c,d,u,m,v,p=(0,i.A)("providers"),f=(0,a.E)().triggerNotificationById;return(0,n.useEffect)((function(){var e;p.dataFetched&&0===(null===(e=p.data)||void 0===e?void 0:e.length)&&f("add_mandatory_provider")}),[p.dataFetched,null===(e=p.data)||void 0===e?void 0:e.length]),(0,n.useEffect)((function(){p.error&&console.error("Error fetching providers: ",p.error.message)}),[p.error]),{providers:null!==(t=p.data)&&void 0!==t?t:[],providersFetched:null!==(r=p.dataFetched)&&void 0!==r&&r,isLoading:null!==(o=p.isLoading)&&void 0!==o&&o,error:null!==(s=p.error)&&void 0!==s?s:null,getProviders:p.get,createProvider:p.create,updateProvider:p.update,deleteProvider:p.delete,isCreating:null!==(l=p.isCreating)&&void 0!==l&&l,isUpdating:null!==(c=p.isUpdating)&&void 0!==c&&c,isDeleting:null!==(d=p.isDeleting)&&void 0!==d&&d,createError:null!==(u=p.createError)&&void 0!==u?u:null,updateError:null!==(m=p.updateError)&&void 0!==m?m:null,deleteError:null!==(v=p.deleteError)&&void 0!==v?v:null}}},8981:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(1609),i=r(2001),a=r(5591);const o=function(){var e,t,r,o,s,l,c,d,u,m,v,p=(0,i.A)("services"),f=(0,a.E)().triggerNotificationById;return(0,n.useEffect)((function(){var e;p.dataFetched&&0===(null===(e=p.data)||void 0===e?void 0:e.length)&&f("add_mandatory_service")}),[p.dataFetched,null===(e=p.data)||void 0===e?void 0:e.length]),(0,n.useEffect)((function(){p.error&&console.error("Error fetching services: ",p.error.message)}),[p.error]),{services:null!==(t=p.data)&&void 0!==t?t:[],servicesFetched:null!==(r=p.dataFetched)&&void 0!==r&&r,isLoading:null!==(o=p.isLoading)&&void 0!==o&&o,error:null!==(s=p.error)&&void 0!==s?s:null,getServices:p.get,createService:p.create,updateService:p.update,deleteService:p.delete,isCreating:null!==(l=p.isCreating)&&void 0!==l&&l,isUpdating:null!==(c=p.isUpdating)&&void 0!==c&&c,isDeleting:null!==(d=p.isDeleting)&&void 0!==d&&d,createError:null!==(u=p.createError)&&void 0!==u?u:null,updateError:null!==(m=p.updateError)&&void 0!==m?m:null,deleteError:null!==(v=p.deleteError)&&void 0!==v?v:null}}},3042:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(9270),i=r(8846),a=r(4576),o=r(5591);const s=function(){var e,t,r,s,l,c,d,u,m,v,p,f,g,h,y,b,x,w,_,E,k,_x,N,S,j,A,C,P,R,T,O,q,I,L=(0,i.A)().onboardingCompleted,F=(0,o.E)().triggerNotificationById,V="subscription_data",H=new a.A(V),U=(0,n.I)({queryKey:[V],queryFn:function(){return H.get()},staleTime:36e5,retry:0,enabled:!!L}),D=U.isLoading,M=U.error,B=U.data,z=U.refetch;return null!==M&&console.error("Error fetching subscription data: ",M.message),0===(null===(r=null===(t=null===(e=null==B?void 0:B.data)||void 0===e?void 0:e.limits)||void 0===t?void 0:t.provider_limit)||void 0===r?void 0:r.rest)&&F("maxed_out_providers"),{subscription:null==B?void 0:B.data,subscriptionPlan:null!==(l=null===(s=null==B?void 0:B.data)||void 0===s?void 0:s.subscription_name)&&void 0!==l?l:"",expiresIn:null!==(d=null===(c=null==B?void 0:B.data)||void 0===c?void 0:c.expire_in)&&void 0!==d?d:0,isExpired:null!==(m=null===(u=null==B?void 0:B.data)||void 0===u?void 0:u.is_expired)&&void 0!==m&&m,smsRemaining:null!==(g=null===(f=null===(p=null===(v=null==B?void 0:B.data)||void 0===v?void 0:v.limits)||void 0===p?void 0:p.sms_limit)||void 0===f?void 0:f.rest)&&void 0!==g?g:0,smsTotal:null!==(x=null===(b=null===(y=null===(h=null==B?void 0:B.data)||void 0===h?void 0:h.limits)||void 0===y?void 0:y.sms_limit)||void 0===b?void 0:b.total)&&void 0!==x?x:0,bookingsRemaining:null!==(k=null===(E=null===(_=null===(w=null==B?void 0:B.data)||void 0===w?void 0:w.limits)||void 0===_?void 0:_.sheduler_limit)||void 0===E?void 0:E.rest)&&void 0!==k?k:0,bookingsTotal:null!==(j=null===(S=null===(N=null===(_x=null==B?void 0:B.data)||void 0===_x?void 0:_x.limits)||void 0===N?void 0:N.sheduler_limit)||void 0===S?void 0:S.total)&&void 0!==j?j:0,providersRemaining:null!==(R=null===(P=null===(C=null===(A=null==B?void 0:B.data)||void 0===A?void 0:A.limits)||void 0===C?void 0:C.provider_limit)||void 0===P?void 0:P.rest)&&void 0!==R?R:0,providersTotal:null!==(I=null===(q=null===(O=null===(T=null==B?void 0:B.data)||void 0===T?void 0:T.limits)||void 0===O?void 0:O.provider_limit)||void 0===q?void 0:q.total)&&void 0!==I?I:0,getSubscriptionData:z,isLoading:D,hasError:null!==M}}},7062:(e,t,r)=>{r.d(t,{A:()=>u});var n=r(7665),i=r(9270),a=r(7097),o=r(4576),s=r(8846),l=function(){return l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},l.apply(this,arguments)},c=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))},d=function(e,t){var r,n,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};const u=function(){var e,t={urgent:0,upgrade:5,open:10,completed:20,dismissed:30,hidden:40},r=(0,n.jE)(),u=(0,s.A)().onboardingCompleted,m="get_tasks",v=new o.A,p=(0,i.I)({queryKey:[m],queryFn:function(){return v.setRoute(m).get()},staleTime:3e5,retry:0,enabled:!!u}),f=p.data,g=p.isLoading,h=p.error;null!==h&&console.error("Error fetching tasks: ",h.message);var y=[];Array.isArray(null==f?void 0:f.data)&&(y=null==f?void 0:f.data.map((function(e){var r,n=null!==(r=t[e.status])&&void 0!==r?r:69;return(e.premium||e.special_feature)&&(n=15),l(l({},e),{priority:n})})).sort((function(e,t){return e.priority-t.priority})),y=y.filter((function(e){return"hidden"!==e.status})));var b=(0,a.n)({mutationFn:function(e){return c(void 0,void 0,void 0,(function(){return d(this,(function(t){return[2,v.setRoute("dismiss_task").setPayload({taskId:e}).post()]}))}))},onSuccess:function(){r.invalidateQueries({queryKey:[m]})},onError:function(e){console.error("Error dismissing task: ",e.message)}}).mutate,x=(0,a.n)({mutationFn:function(e){return c(void 0,void 0,void 0,(function(){return d(this,(function(t){return[2,v.setRoute("snooze_task").setPayload({taskId:e}).post()]}))}))},onSuccess:function(){r.invalidateQueries({queryKey:[m]})},onError:function(e){console.error("Error snoozing task: ",e.message)}}).mutate;return{tasks:y,isLoading:g,hasError:null!==h,message:null!==(e=null==f?void 0:f.message)&&void 0!==e?e:null==h?void 0:h.message,dismissTask:b,snoozeTask:x,getRemainingTasks:function(){return y.filter((function(e){return["open","upgrade","urgent"].includes(e.status)}))},getCompletionPercentage:function(){var e=y.length,t=y.filter((function(e){return"dismissed"===e.status||"completed"===e.status})).length;return Math.round(t/e*100)}}}},9592:(e,t,r)=>{r.d(t,{A2:()=>d,Dv:()=>i,G$:()=>c,St:()=>n,TS:()=>a,Y:()=>v,e8:()=>l,iI:()=>m,n_:()=>o,u9:()=>s,yi:()=>u});const n=simplybook.nonce,i=simplybook.x_wp_nonce,a=simplybook.rest_namespace+"/"+simplybook.rest_version+"/",o=simplybook.rest_url+simplybook.rest_namespace+"/"+simplybook.rest_version+"/",s=p("rest_url"),l=(p("ajax_url"),simplybook.simplybook_domains),c="Other",d=simplybook.recaptcha?.site_key||"",u=simplybook.recaptcha?.script_url||"",m=simplybook.recaptcha?.google_privacy_policy_url||"",v=simplybook.recaptcha?.google_terms_url||"";function p(e){let t=simplybook[e];return"https:"!==window.location.protocol||t.includes("https://")||(t=t.replace("http://","https://")),t}},1793:(e,t,r)=>{r.d(t,{A:()=>i});var n=r(9592);const i=()=>n.u9.includes("?")?"&":"?"},5204:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(1455),i=r.n(n);var a=r(1793);var o=r(9592);const s=async(e,t="POST",r={})=>{const n={path:e,method:t,data:r};n.path=o.TS+n.path+(0,a.A)()+"&token="+Math.random().toString(36).substring(2,7),n.data={...r,nonce:o.St},"GET"===t&&console.log("the request method is not adjusted for GET requests yet. ");try{return await(async(e,t="POST",r={})=>{const n={path:e,method:t,data:r};return await i()(n)})(n.path,n.method,n.data)}catch(e){((e,t)=>{console.error(`API Error at ${t}:`,e.message||e)})(e,n.path)}}},5071:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(1728),i=r(4164);const a=e=>{const t=(0,n.c)(5),{children:r,className:a}=e,o=void 0===a?"":a;let s,l;return t[0]!==o?(s=(0,i.A)("block-content flex-grow",o),t[0]=o,t[1]=s):s=t[1],t[2]!==r||t[3]!==s?(l=React.createElement("div",{className:s},r),t[2]=r,t[3]=s,t[4]=l):l=t[4],l};a.displayName="BlockContent";const o=a},4559:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(1728),i=r(4164);const a=e=>{const t=(0,n.c)(5),{children:r,className:a}=e,o=void 0===a?"":a;let s,l;return t[0]!==o?(s=(0,i.A)("block-footer flex p-4",o),t[0]=o,t[1]=s):s=t[1],t[2]!==r||t[3]!==s?(l=React.createElement("div",{className:s},r),t[2]=r,t[3]=s,t[4]=l):l=t[4],l};a.displayName="BlockFooter";const o=a},7330:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(1728),i=r(4164);const a=e=>{const t=(0,n.c)(14),{title:r,controls:a,className:o,help:s}=e,l=void 0===o?"":o,c=void 0===s?"":s,d=c?"pt-4":"py-4";let u,m,v,p,f;return t[0]!==l||t[1]!==d?(u=(0,i.A)(l,"flex items-center justify-between px-4 py-5",d),t[0]=l,t[1]=d,t[2]=u):u=t[2],t[3]!==r?(m=React.createElement("h2",{className:"text-lg font-semibold m-0"},r),t[3]=r,t[4]=m):m=t[4],t[5]!==a||t[6]!==u||t[7]!==m?(v=React.createElement("div",{className:u},m,a),t[5]=a,t[6]=u,t[7]=m,t[8]=v):v=t[8],t[9]!==c?(p=c&&React.createElement("div",{className:"px-4 pb-4 text-sm text-gray-500"},c),t[9]=c,t[10]=p):p=t[10],t[11]!==v||t[12]!==p?(f=React.createElement(React.Fragment,null,v,p),t[11]=v,t[12]=p,t[13]=f):f=t[13],f};a.displayName="BlockHeading";const o=a},4705:(e,t,r)=>{r.d(t,{A:()=>m});var n=r(1728),i=r(1609),a=r.n(i),o=r(8846),s=r(7723);const l=()=>{const e=(0,n.c)(21),[t,r]=(0,i.useState)(0),{onboardingCompleted:l}=(0,o.A)(),[c,d]=(0,i.useState)(!1),[u,m]=(0,i.useState)(0);let v,p,f;e[0]!==u||e[1]!==l?(v=()=>{const e=setInterval((()=>{r((t=>{let r=t+.3333333333333333;return r>90&&!l&&(d(!0),r=5,m(u+1)),u>5&&!l&&(r=100),r>=100?(clearInterval(e),d(!1),100):r}))}),100);return()=>clearInterval(e)},e[0]=u,e[1]=l,e[2]=v):v=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(p=[],e[3]=p):p=e[3],(0,i.useEffect)(v,p),e[4]===Symbol.for("react.memo_cache_sentinel")?(f=window.location.href.includes("onboarding"),e[4]=f):f=e[4];const g=f,h=g?"animate-pulse":"";let y,b,x,w,_,E,k,N,S,j;return e[5]!==t?(y=g&&a().createElement("div",{className:"w-full"},a().createElement("div",{className:"w-full h-1 bg-gray-200 rounded-t-lg overflow-hidden"},a().createElement("div",{className:"h-full bg-blue-500 transition-all duration-100",style:{width:`${t}%`}}))),e[5]=t,e[6]=y):y=e[6],e[7]!==u||e[8]!==c?(b=g&&a().createElement(a().Fragment,null,u<=5&&a().createElement(a().Fragment,null,!c&&a().createElement("p",null,(0,s.__)("Please wait while your registration is being processed. This usually takes about 30 seconds.","simplybook")),c&&a().createElement("p",null,(0,s.__)("This is taking a bit longer than expected. Please wait while we retry a few times.","simplybook"))),u>5&&a().createElement("p",null,(0,s.__)("We're sorry, but it seems there is a problem with your registration. Please try again later.","simplybook"))),e[7]=u,e[8]=c,e[9]=b):b=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(x=!g&&a().createElement("p",null,(0,s.__)("Please complete the onboarding first to register your account.","simplybook")),e[10]=x):x=e[10],e[11]!==b?(w=a().createElement("div",{className:"text-gray-400 text-center p-3  bg-gray-100"},b,x),e[11]=b,e[12]=w):w=e[12],e[13]===Symbol.for("react.memo_cache_sentinel")?(_=a().createElement("div",{className:"p-4"},a().createElement("div",{className:"text-center h-40"},a().createElement("div",{className:"w-full h-full bg-gray-100 rounded-md"}))),e[13]=_):_=e[13],e[14]===Symbol.for("react.memo_cache_sentinel")?(E=a().createElement("h4",{className:"text-gray-700 font-bold mb-4"},a().createElement("div",{className:"h-6 bg-gray-100 rounded-md"})),e[14]=E):E=e[14],e[15]===Symbol.for("react.memo_cache_sentinel")?(k=a().createElement("div",{className:"grid grid-cols-3 gap-3"},a().createElement("div",{className:"text-white text-center py-2 rounded-md bg-gray-100 w-full h-10"}),a().createElement("div",{className:"text-white text-center py-2 rounded-md bg-gray-100 w-full h-10"}),a().createElement("div",{className:"text-white text-center py-2 rounded-md bg-gray-100 w-full h-10"}),a().createElement("div",{className:"text-white text-center py-2 rounded-md bg-gray-100 w-full h-10"}),a().createElement("div",{className:"text-white text-center py-2 rounded-md bg-gray-100 w-full h-10"}),a().createElement("div",{className:"text-white text-center py-2 rounded-md bg-gray-100 w-full h-10"})),e[15]=k):k=e[15],e[16]===Symbol.for("react.memo_cache_sentinel")?(N=a().createElement("span",{className:"inline-block w-3 h-3 rounded-full bg-gray-100"}),e[16]=N):N=e[16],e[17]===Symbol.for("react.memo_cache_sentinel")?(S=a().createElement("div",{className:"p-4 border-t"},E,k,a().createElement("div",{className:"text-gray-500 text-sm mt-3"},N," - ",a().createElement("span",{className:"font-medium"}))),e[17]=S):S=e[17],e[18]!==y||e[19]!==w?(j=a().createElement("div",{className:"w-full max-w-md bg-white shadow-md mt-5 "+h},y,w,_,S),e[18]=y,e[19]=w,e[20]=j):j=e[20],j};var c=r(3775),d=r(9270),u=r(5204);const m=e=>{const t=(0,n.c)(12),{primary:r,secondary:a,active:s,onboardingCompleted:m}=e,{createPreviewWidget:p}=(0,c.A)(),{startPolling:f,pollingEnabled:g,pollingSuccess:h}=(()=>{const e=(0,n.c)(20),{onboardingCompleted:t,setOnboardingCompleted:r}=(0,o.A)(),[a,s]=(0,i.useState)(!t);let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l={status:"waiting"},e[0]=l):l=e[0];const[c,m]=(0,i.useState)(l),[v,p]=(0,i.useState)(0),[f,g]=(0,i.useState)(!1);let h,y,b;e[1]===Symbol.for("react.memo_cache_sentinel")?(h=["registration_callback_status"],y={status:"waiting"},e[1]=h,e[2]=y):(h=e[1],y=e[2]),e[3]!==v||e[4]!==a||e[5]!==c||e[6]!==r?(b=async()=>{if(!a)return console.log("Polling disabled"),c;p(v+1);const e=await(0,u.A)("check_registration_callback_status","POST",{data:{status:"waiting"}});return m(e.data),"completed"===e.data.status&&(s(!1),g(!0),r(!0)),v>100&&s(!1),e.data},e[3]=v,e[4]=a,e[5]=c,e[6]=r,e[7]=b):b=e[7];const x=!!a;let w,_,E;e[8]!==a?(w=e=>!!a&&3e3,e[8]=a,e[9]=w):w=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(_=e=>{s(!1)},e[10]=_):_=e[10],e[11]!==b||e[12]!==x||e[13]!==w?(E={queryKey:h,initialData:y,queryFn:b,enabled:x,refetchInterval:w,onError:_},e[11]=b,e[12]=x,e[13]=w,e[14]=E):E=e[14];const{isFetching:k}=(0,d.I)(E);let N,S;return e[15]===Symbol.for("react.memo_cache_sentinel")?(N=()=>s(!0),e[15]=N):N=e[15],e[16]!==k||e[17]!==a||e[18]!==f?(S={startPolling:N,pollingEnabled:a,isPolling:k,pollingSuccess:f},e[16]=k,e[17]=a,e[18]=f,e[19]=S):S=e[19],S})();let y,b,x;t[0]!==g||t[1]!==f?(y=()=>{!1===g&&f()},t[0]=g,t[1]=f,t[2]=y):y=t[2],t[3]!==m?(b=[m],t[3]=m,t[4]=b):b=t[4],(0,i.useEffect)(y,b),t[5]!==s||t[6]!==h||t[7]!==r||t[8]!==a?(x=[r,a,s,h],t[5]=s,t[6]=h,t[7]=r,t[8]=a,t[9]=x):x=t[9],(0,i.useEffect)((()=>{h&&w(r,a,s)}),x);const w=(e,t,r)=>{p({onboarding:!0,primary:e,secondary:t,active:r}).then(v)};if(!m){let e;return t[10]===Symbol.for("react.memo_cache_sentinel")?(e=React.createElement(l,null),t[10]=e):e=t[10],e}let _;return t[11]===Symbol.for("react.memo_cache_sentinel")?(_=React.createElement("div",{id:"sbw_z0hg2i_calendar",className:"w-full",style:{height:"1200px"}}),t[11]=_):_=t[11],_};function v(e){const t=document.createElement("script");t.id="simplybook-preview-widget-script",t.innerHTML=e.data.widget,document.body.appendChild(t),document.dispatchEvent(new CustomEvent("loadSimplyBookPreviewWidget"))}},9361:(e,t,r)=>{r.d(t,{A:()=>h});var n=r(4676),i=r(9681),a=r(6778),o=r(323),s=r(7723),l=r(1609),c=r(8846),d=r(3042),u=r(7062),m=(r(1577),r(1888)),v=r(2846),p=r(790);const f=function(e){var t,r,n=(0,l.useState)(null),i=n[0],a=n[1];if(null===(r=null===(t=window.simplybook)||void 0===t?void 0:t.support)||void 0===r?void 0:r.enabled)return(0,l.useEffect)((function(){var e=document.createElement("script");e.id="la_x2s6df8d",e.defer=!0,e.src=window.simplybook.support.widget.url,e.onload=function(){if(window.LiveAgent){var t=window.LiveAgent.createButton("0r62zimg",e);a(t)}},document.head.appendChild(e)}),[]),(0,p.jsx)("div",{onClick:function(){(null==i?void 0:i.onClick)&&i.onClick()},className:"bg-transparent text-primary text-base font-bold px-3 py-1 rounded border-2 border-primary cursor-pointer text-center",children:(0,s.__)("Live Help","simplybook")})},g=()=>{const{onboardingCompleted:e}=(0,c.A)(),{subscriptionPlan:t,expiresIn:r,isExpired:p,isLoading:g,hasError:h}=(0,d.A)(),{isLoading:y,getRemainingTasks:b}=(0,u.A)(),x=b().length,w=(e,t=!0)=>!1!==(0,n._f)()({to:e,fuzzy:t});(0,l.useEffect)((()=>{e||!location||-1!==window.location.pathname.indexOf("onboarding/")||simplybook.debug||(window.location.href=window.location.href.replace(/page=simplybook-integration.*/,"page=simplybook-integration#/onboarding/create-your-account"))}),[e]);const _="text-base px-4 py-[23px] text-tertiary border-b-4  border-transparent [&.active]:border-tertiary focus:outline-hidden relative ease-in-out duration-300 hover:text-primary";let E=t;return("TRIAL"===t.toUpperCase()||r<30)&&(E=`${t} - ${r} ${(0,s.__)("days left","simplybook")}`),React.createElement("div",{className:"bg-white "},React.createElement("header",{className:"mx-auto flex max-w-screen-2xl flex-wrap xl:flex-wrap pt-4 xl:pt-0 items-center"},React.createElement("div",{className:"self-center"},React.createElement(i.N_,{to:"/"},React.createElement(a.h,{className:" w-40 me-4"}))),React.createElement("div",{className:"header-navigation flex items-center me-4 order-6 justify-center w-full pt-4 xl:order-0 xl:justify-normal xl:w-auto xl:p-0"},React.createElement(i.N_,{to:"/",className:_+(w("/dashboard")?" active":"")},!y&&x>0&&React.createElement("div",{className:"notification-bubble flex items-center justify-center absolute -end-0.5 top-2.5 text-center text-xxs w-[18px] h-[18px]  text-white rounded-full bg-red-600 p-2"},x),(0,s.__)("Dashboard","simplybook")),React.createElement(o.A,{iconName:"square-arrow-up-right",iconClass:"px-2",className:_,page:"client"},(0,s.__)("Clients","simplybook")),React.createElement(o.A,{iconName:"square-arrow-up-right",iconClass:"px-2",className:_,page:"index/index"},(0,s.__)("Calendar","simplybook")),React.createElement(i.N_,{to:"/settings/general",className:_+(w("/settings")?" active":"")},(0,s.__)("Settings","simplybook"))),React.createElement(m.A,{className:"border-tertiary-border border-2 bg-tertiary-light hover:bg-tertiary hover:text-white hover:border-primary-border focus:border-tertiary",target:"_blank",link:"https://help.simplybook.me/index.php/Help_Center",icon:!0,iconName:"support",iconSize:"1x",name:"support"},(0,s.__)("Help Center","simplybook")),React.createElement("div",{className:" py-6 w-full ms-auto flex items-center justify-between px-0 xl:py-0 xl:w-auto xl:justify-center xl:gap-6 xl:px-4 "},!g&&!p&&t&&React.createElement(v.A,{labelVariant:"trial"},E),!g&&p&&t&&React.createElement(v.A,{labelVariant:"trial-expired"},t," ",(0,s.__)("is expired.","simplybook")),React.createElement(f,null))))};g.displayName="Header";const h=g},1577:(e,t,r)=>{r.d(t,{A:()=>d});var n=r(1728),i=r(982),a=r(6188),o=r(9656),s=r(7875);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(null,arguments)}const c={"calendar-day":o.isQ,"calendar-week":o.aXh,retry:o.buE,"square-arrow-up-right":a.fLi,"circle-check":a.QRE,"circle-xmark":a.bnw,warning:a.JAe,spinner:a.z1G,"chevron-down":a.Jt$,"chevron-up":a.w2A,check:a.e68,"info-circle":o.iW_,"warning-circle":o.lEd,times:a.GRI,trophy:a.iHh,"user-group":a.USd,eye:a.pS3,bullhorn:a.e4L,support:o.Bwz,clock:a.a$,circle:a.GEE,cart:a._Ro,"target-blank":a.Ju_,youtube:s.B4m,tips:a.Jew},d=e=>{const t=(0,n.c)(18);let r,o,s,d,u;t[0]!==e?(({name:r,color:s,size:d,className:u,...o}=e),t[0]=e,t[1]=r,t[2]=o,t[3]=s,t[4]=d,t[5]=u):(r=t[1],o=t[2],s=t[3],d=t[4],u=t[5]);const m=void 0===s?"black":s,v=void 0===d?"1x":d,p=void 0===u?"":u;let f=c[r];f||(console.warn(`Icon "${r}" does not exist in iconMap.`),f=a.GEE);const g="spinner"===r;let h,y,b;return t[6]!==r?(h="spinner"===r&&{animationDuration:"2s"},t[6]=r,t[7]=h):h=t[7],t[8]!==m||t[9]!==h?(y={color:m,...h},t[8]=m,t[9]=h,t[10]=y):y=t[10],t[11]!==p||t[12]!==f||t[13]!==o||t[14]!==v||t[15]!==g||t[16]!==y?(b=React.createElement(i.g,l({icon:f,size:v,spin:g,className:p,style:y},o)),t[11]=p,t[12]=f,t[13]=o,t[14]=v,t[15]=g,t[16]=y,t[17]=b):b=t[17],b}},323:(e,t,r)=>{r.d(t,{A:()=>m});var n=r(1728),i=r(1609),a=r.n(i),o=r(1577),s=r(4164),l=r(8908),c=r(8846),d=r(1314);const u=e=>{const t=(0,n.c)(27),{className:r,page:i,isButton:u,size:m,btnVariant:f,children:g,disabled:h,iconName:y,iconSize:b,iconClass:x,iconStyle:w,onClick:_,reverseIcon:E}=e,k=void 0===r?"":r,N=void 0===i?"":i,S=void 0!==u&&u,j=void 0===m?"md":m,A=void 0===f?"primary":f,C=void 0===g?"":g,P=void 0!==h&&h,R=void 0===y?"":y,T=void 0===b?"":b,O=void 0===x?"":x,q=void 0===w?"":w,I=void 0===_?v:_,L=void 0!==E&&E,{fetchLinkData:F}=(0,d.A)();let V;(0,c.A)(),t[0]!==F||t[1]!==I?(V=(e,t)=>{e.preventDefault(),I(e),F().then((e=>{const r=e?.data.simplybook_external_login_url;if(!r)return void console.error("No link found in response");let n=`${r}/${t}/`;if(r.includes("by-hash")){const e=new URL(r);e.searchParams.append("back_url",`/${t}/`),n=e.toString()}window.open(n,"_blank"),window.focus()})).catch(p)},t[0]=F,t[1]=I,t[2]=V):V=t[2];const H=V,U=`${P?"pointer-events-none opacity-50 cursor-not-allowed":""}${k} `;if(S){let e,r;return t[3]!==H||t[4]!==N?(e=e=>H(e,N),t[3]=H,t[4]=N,t[5]=e):e=t[5],t[6]!==A||t[7]!==C||t[8]!==U||t[9]!==P||t[10]!==j||t[11]!==e?(r=a().createElement(l.A,{disabled:P,label:C,onClick:e,className:U,btnVarisant:A,size:j},C),t[6]=A,t[7]=C,t[8]=U,t[9]=P,t[10]=j,t[11]=e,t[12]=r):r=t[12],r}let D,M,B;return t[13]!==H||t[14]!==N?(D=e=>H(e,N),t[13]=H,t[14]=N,t[15]=D):D=t[15],t[16]!==O||t[17]!==R||t[18]!==T||t[19]!==q||t[20]!==L?(M=R.length>0&&a().createElement(o.A,{className:(0,s.A)(O,{"me-2":!L,"ms-2":L}),name:R,size:T,style:q}),t[16]=O,t[17]=R,t[18]=T,t[19]=q,t[20]=L,t[21]=M):M=t[21],t[22]!==C||t[23]!==U||t[24]!==D||t[25]!==M?(B=a().createElement("a",{href:"#",className:U,onClick:D},C,M),t[22]=C,t[23]=U,t[24]=D,t[25]=M,t[26]=B):B=t[26],B};u.displayName="LoginLink";const m=u;function v(){}function p(e){console.error("Error fetching login URL:",e)}},332:(e,t,r)=>{r.d(t,{A:()=>d});var n=r(1728),i=r(1609),a=r(8908),o=r(7967),s=r(1577);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(null,arguments)}const c=(0,i.forwardRef)(((e,t)=>{const r=(0,n.c)(22);let i,c,d,u,m,v,p;if(r[0]!==e){const{setting:t,label:n,help:a,context:o,className:s,button:l,showLoader:f,...g}=e;m=n,u=a,d=o,c=s,i=l,p=f,v=g,r[0]=e,r[1]=i,r[2]=c,r[3]=d,r[4]=u,r[5]=m,r[6]=v,r[7]=p}else i=r[1],c=r[2],d=r[3],u=r[4],m=r[5],v=r[6],p=r[7];const f=i?.btnVariant,g=i?.disabled,h=i?.onClick;let y,b,x;return r[8]!==p?(y=p&&React.createElement(s.A,{color:"white",name:"spinner",size:"1x",className:"me-2"}),r[8]=p,r[9]=y):y=r[9],r[10]!==m||r[11]!==v||r[12]!==f||r[13]!==g||r[14]!==h||r[15]!==y?(b=React.createElement(a.A,l({btnVariant:f,disabled:g,onClick:h},v),y,m),r[10]=m,r[11]=v,r[12]=f,r[13]=g,r[14]=h,r[15]=y,r[16]=b):b=r[16],r[17]!==c||r[18]!==d||r[19]!==u||r[20]!==b?(x=React.createElement(o.A,{label:"",help:u,context:d,className:c,inputId:""},b),r[17]=c,r[18]=d,r[19]=u,r[20]=b,r[21]=x):x=r[21],x}));c.displayName="ButtonField";const d=c},7581:(e,t,r)=>{r.d(t,{A:()=>m});var n=r(1728),i=r(1609),a=r(790),o=r(5189),s=(0,i.forwardRef)((function(e,t){var r=e.colorValue,n=void 0===r?"#ffffff":r,s=e.onChangeComplete,l=(0,i.useState)(n),c=l[0],d=l[1];return(0,a.jsx)("div",{ref:t,children:(0,a.jsx)(o.xk,{color:c,onChange:function(e){d(e.hex)},onChangeComplete:function(e){return null==s?void 0:s(e.hex)},disableAlpha:!0})})}));s.displayName="ColorPicker";const l=s;var c=r(7967),d=r(9922);const u=(0,i.forwardRef)(((e,t)=>{const r=(0,n.c)(38);let a,o,s,u,m,p,f,g,h;if(r[0]!==e){const{setting:t,fieldState:n,label:i,help:l,context:c,className:d,onChange:v,defaultValue:y,setColorOnClose:b,...x}=e;h=t,s=n,m=i,u=l,o=c,a=d,p=v,g=b,f=x,r[0]=e,r[1]=a,r[2]=o,r[3]=s,r[4]=u,r[5]=m,r[6]=p,r[7]=f,r[8]=g,r[9]=h}else a=r[1],o=r[2],s=r[3],u=r[4],m=r[5],p=r[6],f=r[7],g=r[8],h=r[9];const[y,b]=(0,i.useState)(h.value||h.default),[x,w]=(0,i.useState)(!1);let _,E,k;r[10]!==y||r[11]!==f.value?(_=()=>{f.value&&f.value!==y&&b(f.value)},r[10]=y,r[11]=f.value,r[12]=_):_=r[12],r[13]!==f.value?(E=[f.value],r[13]=f.value,r[14]=E):E=r[14],(0,i.useEffect)(_,E),r[15]!==y||r[16]!==g?(k=e=>{w(e),!e&&g&&g(y)},r[15]=y,r[16]=g,r[17]=k):k=r[17];const N=k;let S;r[18]!==p?(S=(e,t)=>{b(e),p&&p(e)},r[18]=p,r[19]=S):S=r[19];const j=S;let A;r[20]!==y||r[21]!==j||r[22]!==N||r[23]!==x||r[24]!==h.disabled?(A=e=>{const{label:t}=e,r=h.disabled?"opacity-50 cursor-not-allowed":"cursor-pointer";return React.createElement(React.Fragment,null,React.createElement(d.bL,{open:x,onOpenChange:h.disabled?v:N},React.createElement(d.l9,{className:"p-1 w-full bg-transparent rounded-md border border-gray-400 min-w-[140px] text-base"},React.createElement("div",{className:r+" text-start xl:whitespace-wrap xl:text-center min-w-5 flex p-1.5 gap-3.5 items-center"},React.createElement("div",{className:"rounded-full min-w-5 h-5 border border-gray-300",style:{backgroundColor:y}}),t)),React.createElement(d.ZL,null,React.createElement(d.UC,{style:{zIndex:11}},React.createElement(l,{colorValue:y,onChangeComplete:j})))))},r[20]=y,r[21]=j,r[22]=N,r[23]=x,r[24]=h.disabled,r[25]=A):A=r[25];const C=A,P=s?.error?.message;let R,T;return r[26]!==C||r[27]!==m||r[28]!==h?(R=React.createElement(C,{setting:h,label:m}),r[26]=C,r[27]=m,r[28]=h,r[29]=R):R=r[29],r[30]!==a||r[31]!==o||r[32]!==u||r[33]!==f.required||r[34]!==h.id||r[35]!==P||r[36]!==R?(T=React.createElement(React.Fragment,null,React.createElement(c.A,{label:"",help:u,error:P,context:o,className:a,inputId:h.id,required:f.required},R)),r[30]=a,r[31]=o,r[32]=u,r[33]=f.required,r[34]=h.id,r[35]=P,r[36]=R,r[37]=T):T=r[37],T}));u.displayName="ColorPickerField";const m=u;function v(){}},704:(e,t,r)=>{r.d(t,{A:()=>p});var n=r(1728),i=r(1609),a=r.n(i),o=r(7967),s=r(790),l=r(7723),c=r(4164),d=function(){return d=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},d.apply(this,arguments)};const u=a().forwardRef((function(e,t){var r=e.name,n=(e.fieldState,e.value),i=e.onChange,a=e.options,o=void 0===a?[]:a,u=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(e,["name","fieldState","value","onChange","options"]),m=Array.isArray(o)?o:Object.keys(o).map((function(e){return{key:e,value:e,label:o[e]}})),v=n?"":"border-gray-200 text-gray-500 italic";return(0,s.jsxs)("select",d({className:(0,c.A)("input-base transition-[border-color] duration-300 ease-in-out",v),name:r,value:n,onChange:i,ref:t},u,{children:[!n&&(0,s.jsxs)("option",{value:"",disabled:!0,children:["- ",(0,l.__)("Select an option","simplybook")," -"]}),m.map((function(e){return(0,s.jsx)("option",{value:e.value,children:e.label},e.key?e.key:e.value)}))]}))}));function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m.apply(null,arguments)}const v=(0,i.forwardRef)(((e,t)=>{const r=(0,n.c)(29);let i,a,s,l,c,d,v,p,f;r[0]!==e?(({setting:f,field:s,fieldState:l,label:d,help:c,context:a,className:i,options:v,...p}=e),r[0]=e,r[1]=i,r[2]=a,r[3]=s,r[4]=l,r[5]=c,r[6]=d,r[7]=v,r[8]=p,r[9]=f):(i=r[1],a=r[2],s=r[3],l=r[4],c=r[5],d=r[6],v=r[7],p=r[8],f=r[9]);const g=f.id,h=l?.error?.message,y=!!l?.error?.message;let b,x;return r[10]!==s||r[11]!==l||r[12]!==g||r[13]!==v||r[14]!==p||r[15]!==t||r[16]!==y?(b=React.createElement(u,m({id:g,options:v,fieldState:l,"aria-invalid":y},s,{ref:t},p)),r[10]=s,r[11]=l,r[12]=g,r[13]=v,r[14]=p,r[15]=t,r[16]=y,r[17]=b):b=r[17],r[18]!==i||r[19]!==a||r[20]!==l||r[21]!==c||r[22]!==g||r[23]!==d||r[24]!==p.required||r[25]!==p.tooltip||r[26]!==h||r[27]!==b?(x=React.createElement(o.A,{label:d,tooltip:p.tooltip,help:c,error:h,context:a,className:i,inputId:g,required:p.required,fieldState:l},b),r[18]=i,r[19]=a,r[20]=l,r[21]=c,r[22]=g,r[23]=d,r[24]=p.required,r[25]=p.tooltip,r[26]=h,r[27]=b,r[28]=x):x=r[28],x}));v.displayName="SelectField";const p=v},4499:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(1728),i=r(359),a=r(7967);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(null,arguments)}const s=e=>{const t=(0,n.c)(27);let r,s,l,c,d,u,m,v,p,f;if(t[0]!==e){const{setting:n,fieldState:i,name:a,label:o,help:g,context:h,className:y,type:b,copyField:x,required:w,..._}=e;p=n,c=i,u=a,d=o,s=h,r=y,f=b,l=x,v=w,m=_,t[0]=e,t[1]=r,t[2]=s,t[3]=l,t[4]=c,t[5]=d,t[6]=u,t[7]=m,t[8]=v,t[9]=p,t[10]=f}else r=t[1],s=t[2],l=t[3],c=t[4],d=t[5],u=t[6],m=t[7],v=t[8],p=t[9],f=t[10];const g=p.id,h=!!c?.error?.message,y=l??!1;let b,x;return t[11]!==g||t[12]!==u||t[13]!==m||t[14]!==h||t[15]!==y||t[16]!==f?(b=React.createElement(i.A,o({name:u,id:g,type:f,"aria-invalid":h,clickToSelect:y},m)),t[11]=g,t[12]=u,t[13]=m,t[14]=h,t[15]=y,t[16]=f,t[17]=b):b=t[17],t[18]!==r||t[19]!==s||t[20]!==c||t[21]!==g||t[22]!==d||t[23]!==m.tooltip||t[24]!==v||t[25]!==b?(x=React.createElement(a.A,{label:d,tooltip:m.tooltip,context:s,className:r,inputId:g,required:v,fieldState:c},b),t[18]=r,t[19]=s,t[20]=c,t[21]=g,t[22]=d,t[23]=m.tooltip,t[24]=v,t[25]=b,t[26]=x):x=t[26],x};s.displayName="TextField";const l=s},9815:(e,t,r)=>{r.d(t,{A:()=>Ee});var n=r(1728),i=r(1609),a=r.n(i),o=r(9785),s=r(4499),l=r(790),c=function(){return c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},c.apply(this,arguments)},d=(0,i.forwardRef)((function(e,t){e.type,e.className;var r=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(e,["type","className"]);return(0,l.jsx)("input",c({ref:t,type:"hidden"},r))}));d.displayName="HiddenInput";const u=d;function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m.apply(null,arguments)}const v=(0,i.forwardRef)(((e,t)=>{const r=(0,n.c)(10);let i,a,o,s;if(r[0]!==e){const{setting:t,field:n,fieldState:l,label:c,help:d,context:u,className:m,...v}=e;s=t,i=n,a=l,o=v,r[0]=e,r[1]=i,r[2]=a,r[3]=o,r[4]=s}else i=r[1],a=r[2],o=r[3],s=r[4];const l=!!a?.error?.message;let c;return r[5]!==i||r[6]!==o||r[7]!==s.id||r[8]!==l?(c=React.createElement(u,m({},i,{id:s.id,type:"hidden","aria-invalid":l},o)),r[5]=i,r[6]=o,r[7]=s.id,r[8]=l,r[9]=c):c=r[9],c}));v.displayName="HiddenField";const p=v;var f=r(4164),g=r(9418),h=r(5946),y=function(){return y=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},y.apply(this,arguments)},b=(0,i.forwardRef)((function(e,t){var r=e.label,n=e.className,a=e.tooltip,o=e.value,s=e.onChange,c=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(e,["label","className","tooltip","value","onChange"]),d=(0,i.useState)(1==o),u=d[0],m=d[1],v=(0,i.useState)(1==o?1:0),p=v[0],b=v[1],x=(0,f.A)("input-type-checkbox relative shrink-0 w-10 h-6 bg-gray-200 peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:bg-blue-600","peer-checked:after:translate-x-[1.125rem] rtl:peer-checked:after:-translate-x-[1.125rem] peer-checked:after:border-white after:content-[''] after:absolute after:top-1 after:start-0.5 after:bg-white after:border-gray-200 after:border","after:rounded-full after:aspect-square after:h-4 after:w-4 after:transition-all");return(0,l.jsxs)("label",{className:"checkbox-field relative inline-flex items-center cursor-pointer",children:[(0,l.jsx)("input",y({type:"checkbox",checked:u,onChange:function(e){b(e.target.checked?1:0),m(e.target.checked),s&&s(e)},className:"sr-only peer",value:p},c)),(0,l.jsx)("div",{className:(0,f.A)(x,n)}),r&&(0,l.jsx)("span",{className:"ms-2 leading-5 font-medium text-black text-label ".concat(n||""),dangerouslySetInnerHTML:{__html:g.A.sanitize(r)}}),a&&(0,l.jsx)(h.A,{message:null==a?void 0:a.message,type:null==a?void 0:a.type})]})}));b.displayName="CheckboxInput";const x=b;var w=r(7967);function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_.apply(null,arguments)}const E=(0,i.forwardRef)(((e,t)=>{const r=(0,n.c)(22);let i,a,o,s,l,c,d;r[0]!==e?(({setting:d,fieldState:o,label:l,help:s,context:a,className:i,...c}=e),r[0]=e,r[1]=i,r[2]=a,r[3]=o,r[4]=s,r[5]=l,r[6]=c,r[7]=d):(i=r[1],a=r[2],o=r[3],s=r[4],l=r[5],c=r[6],d=r[7]);const u=d.id,m=o?.error?.message,v=!!o?.error?.message;let p,f;return r[8]!==u||r[9]!==l||r[10]!==c||r[11]!==v?(p=React.createElement(x,_({tooltip:c.tooltip,label:l,id:u,"aria-invalid":v},c)),r[8]=u,r[9]=l,r[10]=c,r[11]=v,r[12]=p):p=r[12],r[13]!==i||r[14]!==a||r[15]!==o||r[16]!==s||r[17]!==u||r[18]!==c.required||r[19]!==m||r[20]!==p?(f=React.createElement(w.A,{label:"",help:s,error:m,context:a,className:i,inputId:u,fieldState:o,required:c.required,type:"checkbox"},p),r[13]=i,r[14]=a,r[15]=o,r[16]=s,r[17]=u,r[18]=c.required,r[19]=m,r[20]=p,r[21]=f):f=r[21],f}));E.displayName="CheckboxField";const k=E;var N=r(704),S=r(6244),j=r(7723),A=r(7581),C=r(8981),P=r(323),R=r(9270),T=r(8846),O=r(4576);const q=function(){var e,t,r=(0,T.A)().onboardingCompleted,n="get_domain",i=new O.A(n),a=(0,R.I)({queryKey:[n],queryFn:function(){return i.get()},staleTime:36e5,retry:0,enabled:!!r}),o=a.isLoading,s=a.error,l=a.data;return null!==s&&console.error("Error fetching domain data:",s.message),{domain:null===(e=null==l?void 0:l.data)||void 0===e?void 0:e.domain,domainFetched:!o,hasError:null!==s,message:null!==(t=null==l?void 0:l.message)&&void 0!==t?t:null==s?void 0:s.message}};var I=r(1888),L=r(1577);const F=(0,i.forwardRef)(((e,t)=>{const r=(0,n.c)(39),{upgrade:i,link:o,item:s}=e,{domain:l,domainFetched:c,hasError:d}=q(),u=c&&s.picture_preview&&s.picture_preview.length>0,m=i?"justify-start":"justify-between";let v,p,g,h,y,b,x,w,_,E,k;return r[0]!==m?(v=(0,f.A)(m,"flex flex-row items-center w-full space-x-3 text-base"),r[0]=m,r[1]=v):v=r[1],r[2]===Symbol.for("react.memo_cache_sentinel")?(p=(0,f.A)("flex items-center"),r[2]=p):p=r[2],r[3]!==l||r[4]!==c||r[5]!==d||r[6]!==u||r[7]!==s.picture_preview||r[8]!==i?(g=!i&&c&&!d&&u&&a().createElement("img",{className:"w-20 h-20 max-w-[48px] max-h-[48px] bg-blue-100 text-xs flex items-center justify-center overflow-hidden rounded-md",src:l+s.picture_preview,alt:(0,j.__)("Loading","simplybook")}),r[3]=l,r[4]=c,r[5]=d,r[6]=u,r[7]=s.picture_preview,r[8]=i,r[9]=g):g=r[9],r[10]!==c||r[11]!==d||r[12]!==u||r[13]!==s.name||r[14]!==i?(h=!i&&c&&!d&&!u&&a().createElement("div",{className:"w-20 h-20 max-w-[48px] max-h-[48px] bg-blue-100 text-xs flex items-center justify-center overflow-hidden rounded-md font-bold"},s.name.charAt(0).toUpperCase()),r[10]=c,r[11]=d,r[12]=u,r[13]=s.name,r[14]=i,r[15]=h):h=r[15],r[16]!==i?(y=i&&a().createElement("div",{className:"w-20 h-20 max-w-[48px] max-h-[48px] bg-tertiary text-xs flex items-center justify-center overflow-hidden rounded-md font-bold text-white"},a().createElement(L.A,{name:"chevron-up",style:{color:"white"}})),r[16]=i,r[17]=y):y=r[17],r[18]!==s.name?(b=a().createElement("div",{className:"font-bold ms-4"},s.name),r[18]=s.name,r[19]=b):b=r[19],r[20]!==g||r[21]!==h||r[22]!==y||r[23]!==b?(x=a().createElement("div",{className:p},g,h,y,b),r[20]=g,r[21]=h,r[22]=y,r[23]=b,r[24]=x):x=r[24],r[25]!==c||r[26]!==d||r[27]!==o||r[28]!==i?(w=!i&&c&&!d&&a().createElement(P.A,{icon:!0,iconName:"square-arrow-up-right",iconClass:"px-2",className:"text-black flex items-center",page:o},(0,j.__)("Edit","simplybook")),r[25]=c,r[26]=d,r[27]=o,r[28]=i,r[29]=w):w=r[29],r[30]!==v||r[31]!==x||r[32]!==w?(_=a().createElement("div",{className:v},x,w),r[30]=v,r[31]=x,r[32]=w,r[33]=_):_=r[33],r[34]!==i?(E=i&&a().createElement("div",{className:"flex items-center flex-grow"},a().createElement("div",{className:"relative"},a().createElement(I.A,{className:"bg-tertiary text-white hover:bg-tertiary-light hover:text-tertiary",btnVariant:"square-small",target:"_blank",loginLink:"v2/r/payment-widget"},(0,j.__)("Upgrade","simplybook")))),r[34]=i,r[35]=E):E=r[35],r[36]!==_||r[37]!==E?(k=a().createElement(a().Fragment,null,a().createElement("div",{className:"w-full flex items-center justify-between px-4 py-5 mb-4 bg-gray-100"},_,E)),r[36]=_,r[37]=E,r[38]=k):k=r[38],k}));F.displayName="ListItem";const V=F;var H=r(9866),U=r(3042);const D=(0,i.forwardRef)(((e,t)=>{const r=(0,n.c)(42),{setting:a,label:o}=e,{services:s,servicesFetched:l}=(0,C.A)(),{providers:c,providersFetched:d}=(0,H.A)();let u;r[0]===Symbol.for("react.memo_cache_sentinel")?(u=[],r[0]=u):u=r[0];const[m,v]=(0,i.useState)(u),[p,f]=(0,i.useState)(!1),[g,h]=(0,i.useState)(!1),{providersRemaining:y}=(0,U.A)();let b;r[1]!==s||r[2]!==l?(b={fetched:l,data:s,show_upsell:!1},r[1]=s,r[2]=l,r[3]=b):b=r[3];const x=y<4;let w,_;r[4]!==c||r[5]!==d||r[6]!==x?(w={fetched:d,data:c,show_upsell:x},r[4]=c,r[5]=d,r[6]=x,r[7]=w):w=r[7],r[8]!==b||r[9]!==w?(_={services:b,providers:w},r[8]=b,r[9]=w,r[10]=_):_=r[10];const E=_;let k;r[11]!==a.source||r[12]!==E?(k=()=>{v(E[a.source]?.data),f(E[a.source]?.fetched),h(E[a.source]?.show_upsell)},r[11]=a.source,r[12]=E,r[13]=k):k=r[13];const N=E[a.source];let S,A;r[14]!==N?(S=[N],r[14]=N,r[15]=S):S=r[15],(0,i.useEffect)(k,S),r[16]!==a.edit_link||r[17]!==a.link?(A=e=>a?.edit_link?.replace("{ID}",e)??a.link,r[16]=a.edit_link,r[17]=a.link,r[18]=A):A=r[18];const P=A;if(p&&!Array.isArray(m)){let e,t;return r[19]!==a.label?(e=(0,j.sprintf)((0,j.__)("No %s found."),a.label.toLowerCase()),r[19]=a.label,r[20]=e):e=r[20],r[21]!==e?(t=React.createElement(React.Fragment,null,e),r[21]=e,r[22]=t):t=r[22],t}const R=a?.premiumText??"";let T;r[23]!==R?(T={id:"upgrade",name:R,picture_preview:""},r[23]=R,r[24]=T):T=r[24];const O=T;let q,I,L,F;return r[25]!==p||r[26]!==a.label?(q=!p&&React.createElement("p",{className:"mb-4"},(0,j.sprintf)((0,j.__)("Loading %s..."),a.label.toLowerCase())),r[25]=p,r[26]=a.label,r[27]=q):q=r[27],r[28]!==P||r[29]!==o||r[30]!==m||r[31]!==p?(I=p&&m.map((e=>React.createElement(V,{upgrade:!1,key:e.id+e.source,label:o,link:P(e.id),item:e}))),r[28]=P,r[29]=o,r[30]=m,r[31]=p,r[32]=I):I=r[32],r[33]!==o||r[34]!==O||r[35]!==d||r[36]!==g?(L=d&&g&&React.createElement(V,{upgrade:!0,label:o,link:"v2/r/payment-widget",item:O}),r[33]=o,r[34]=O,r[35]=d,r[36]=g,r[37]=L):L=r[37],r[38]!==q||r[39]!==I||r[40]!==L?(F=React.createElement("div",{className:"w-full"},q,I,L),r[38]=q,r[39]=I,r[40]=L,r[41]=F):F=r[41],F}));D.displayName="ListField";const M=D;var B=r(1730),z=function(e){var t=e.id,r=e.label,n=e.colors,o=e.onChange,s=e.value,c=e.setShowPreview,d=a().useState(n),u=d[0],m=d[1],v=(0,B.A)(),p=v.getValue,f=v.setValue,g=v.settings;return v.saveSettings,v.invalidateSettings,(0,i.useEffect)((function(){if("custom"===t){var e=[];e.push(p("sb_base_color")),e.push(p("btn_color_1")),e.push(p("body_bg_color")),e.push(p("light_font_color")),e.push(p("dark_font_color")),m(e)}}),[g]),console.log("value ",s),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"pb-1 font-medium text-black text-md ",children:r}),(0,l.jsxs)("div",{className:"flex space-x-2 pb-4",children:[(0,l.jsx)("div",{className:"border border-gray-300 p-2 gap-2 flex cursor-pointer",onClick:function(e){return console.log(t),void(o&&t&&("custom"!==t&&Array.isArray(n)&&Object.entries({sb_base_color:0,booking_nav_bg_color:0,btn_color_1:1,body_bg_color:2,light_font_color:3,dark_font_color:4}).forEach((function(e){var t=e[0],r=e[1];n&&n.hasOwnProperty(r)&&(console.log("set color",t,n[r],"of index",r),f(t,n[r]))})),console.log("palettes",t,"value",s),f("palette",t),o(t)))},children:null==u?void 0:u.map((function(e,t){return(0,l.jsx)("div",{style:{backgroundColor:e},className:"w-20 h-6 border border-gray-300"},t)}))}),(0,l.jsxs)("div",{className:"flex items-center space-x-2 cursor-pointer",onClick:function(e){return c&&c(!0)},children:[(0,l.jsx)(L.A,{name:"eye"}),(0,l.jsx)("span",{children:s===t?(0,j.__)("live","simplybook"):(0,j.__)("preview","simplybook")})]})]})]})};z.displayName="PaletteInput";const $=z;var K=r(4705);const Q=(0,i.forwardRef)(((e,t)=>{const r=(0,n.c)(29);let o,s,l,c,d,u,m;r[0]!==e?(({setting:m,fieldState:l,label:d,help:c,context:s,className:o,...u}=e),r[0]=e,r[1]=o,r[2]=s,r[3]=l,r[4]=c,r[5]=d,r[6]=u,r[7]=m):(o=r[1],s=r[2],l=r[3],c=r[4],d=r[5],u=r[6],m=r[7]);const v=m.id,[p,f]=(0,i.useState)(!1),g=(0,i.useRef)(null);let h,y;r[8]===Symbol.for("react.memo_cache_sentinel")?(h=()=>{const e=e=>{g.current&&!g.current.contains(e.target)&&f&&f(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},y=[f],r[8]=h,r[9]=y):(h=r[8],y=r[9]),(0,i.useEffect)(h,y);const b=l?.error?.message,x=o+" relative",_=u.required;let E,k,N;if(r[10]!==u.onChange||r[11]!==u.value||r[12]!==m.options){let e;r[14]!==u.onChange||r[15]!==u.value?(e=(e,t)=>a().createElement($,{key:t,id:e.id,label:e.label,colors:e.colors,onChange:u?.onChange,value:u?.value,setShowPreview:f}),r[14]=u.onChange,r[15]=u.value,r[16]=e):e=r[16],E=m.options.map(e),r[10]=u.onChange,r[11]=u.value,r[12]=m.options,r[13]=E}else E=r[13];return r[17]!==p?(k=p&&a().createElement("div",{ref:g,style:{insetInlineEnd:"-200px"},className:"absolute top-0"},a().createElement(K.A,null)),r[17]=p,r[18]=k):k=r[18],r[19]!==s||r[20]!==c||r[21]!==v||r[22]!==d||r[23]!==u.required||r[24]!==b||r[25]!==x||r[26]!==E||r[27]!==k?(N=a().createElement(w.A,{label:d,help:c,error:b,context:s,className:x,inputId:v,required:_},E,k),r[19]=s,r[20]=c,r[21]=v,r[22]=d,r[23]=u.required,r[24]=b,r[25]=x,r[26]=E,r[27]=k,r[28]=N):N=r[28],N}));Q.displayName="PalettesField";const G=Q;var W=r(359);function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z.apply(null,arguments)}r(332);const Y=(0,i.forwardRef)(((e,t)=>{const r=(0,n.c)(26);let i,a,o,s,l,c;if(r[0]!==e){const{setting:t,fieldState:n,label:d,help:u,context:m,className:v,...p}=e;c=t,o=n,s=d,a=m,i=v,l=p,r[0]=e,r[1]=i,r[2]=a,r[3]=o,r[4]=s,r[5]=l,r[6]=c}else i=r[1],a=r[2],o=r[3],s=r[4],l=r[5],c=r[6];const d=c.id;let u;if(r[7]===Symbol.for("react.memo_cache_sentinel")){const e=new O.A("logout");u=async t=>{t.preventDefault();const r=window.confirm((0,j.sprintf)((0,j.__)("Are you sure you want to logout?%1$sAll settings will be lost.%2$sYou need to reset your booking page(s) manually.","simplybook"),"\n\n- ","\n- "));if(r){try{await e.setPayload({user_confirmed:r}).post()}catch(e){const t=e;return void console.error("Logout request failed",t)}window.location.assign(simplybook.dashboard_url)}},r[7]=u}else u=r[7];const m=u,v=l.tooltip,p=l.required,f=!!o?.error?.message;let g;r[8]!==d||r[9]!==l||r[10]!==f?(g=React.createElement(W.A,Z({className:"mb-4",id:d,type:"text","aria-invalid":f},l)),r[8]=d,r[9]=l,r[10]=f,r[11]=g):g=r[11];const h=!!o?.error?.message;let y,b,x,_;return r[12]===Symbol.for("react.memo_cache_sentinel")?(y=(0,j.__)("Log out","simplybook"),r[12]=y):y=r[12],r[13]===Symbol.for("react.memo_cache_sentinel")?(b=(0,j.__)("Log out","simplybook"),r[13]=b):b=r[13],r[14]!==d||r[15]!==h?(x=React.createElement(I.A,{id:d,btnVariant:"tertiary-small","aria-invalid":h,label:y,onClick:m},b),r[14]=d,r[15]=h,r[16]=x):x=r[16],r[17]!==i||r[18]!==a||r[19]!==d||r[20]!==s||r[21]!==l.required||r[22]!==l.tooltip||r[23]!==g||r[24]!==x?(_=React.createElement(w.A,{label:s,tooltip:v,context:a,className:i,inputId:d,required:p},g,x),r[17]=i,r[18]=a,r[19]=d,r[20]=s,r[21]=l.required,r[22]=l.tooltip,r[23]=g,r[24]=x,r[25]=_):_=r[25],_}));Y.displayName="AuthenticationField";const J=Y;function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X.apply(null,arguments)}const ee=(0,i.forwardRef)(((e,t)=>{const r=(0,n.c)(7),{control:i,item:a}=e,s=`theme_settings.${a.config_key}`;let l,c;return r[0]!==a?(l=e=>{const{field:t,fieldState:r}=e;return 0==a.is_visible||0==a.widget_support?null:"checkbox"===a.config_type?React.createElement(k,X({},t,{fieldState:r,setting:a,label:a.config_title,className:"theme-config-field"})):a.config_type.includes("color")?React.createElement(A.A,X({},t,{fieldState:r,setting:a,label:a.config_title,className:"theme-config-field"})):"select"===a.config_type?React.createElement(N.A,X({},t,{fieldState:r,setting:a,label:a.config_title,options:a.values,className:"theme-config-field"})):null},r[0]=a,r[1]=l):l=r[1],r[2]!==i||r[3]!==a.default_value||r[4]!==s||r[5]!==l?(c=React.createElement(o.xI,{control:i,name:s,defaultValue:a.default_value,render:l}),r[2]=i,r[3]=a.default_value,r[4]=s,r[5]=l,r[6]=c):c=r[6],c})),te=(0,i.forwardRef)(((e,t)=>{const r=(0,n.c)(14),{control:i,parentSetting:a,selectedTheme:o}=e;let s;r[0]===Symbol.for("react.memo_cache_sentinel")?(s={checkbox:10,select:9,color:8},r[0]=s):s=r[0];const l=s;let c,d,u;if(r[1]!==i||r[2]!==a?.translations||r[3]!==o?.config){let e;r[6]!==a?.translations?(e=(e,t)=>{const[,r]=t;if(0==r.is_visible||0==r.widget_support)return e;const n={...r};return["color","gradient"].some((e=>n.config_type.includes(e)))&&(n.config_type="color"),e[n.config_type]||(e[n.config_type]=[]),"select"===n.config_type&&(n.values=Object.entries(n.values).map((e=>{const[t,r]=e;return{key:t,value:r,label:String(a?.translations?.[r]??r)}}))),n.config_title?n.config_title=a?.translations[n.config_title]??n.config_title:n.config_title=a?.translations[n.config_key]??n.config_key,e[n.config_type].push(n),e},r[6]=a?.translations,r[7]=e):e=r[7];const t=Object.entries(o?.config).reduce(e,{});let n;r[8]===Symbol.for("react.memo_cache_sentinel")?(n=(e,t)=>{const[r]=e,[n]=t;return(l[n]??0)-(l[r]??0)},r[8]=n):n=r[8];const s=Object.entries(t).sort(n);let u;c="theme-config",r[9]!==i?(u=e=>{const[t,r]=e;return React.createElement("div",{key:t,className:`theme-config-group theme-config-group-${t}`},r.map((e=>React.createElement(ee,{key:e.config_key,control:i,item:e}))))},r[9]=i,r[10]=u):u=r[10],d=s.map(u),r[1]=i,r[2]=a?.translations,r[3]=o?.config,r[4]=c,r[5]=d}else c=r[4],d=r[5];return r[11]!==c||r[12]!==d?(u=React.createElement("div",{className:c},d),r[11]=c,r[12]=d,r[13]=u):u=r[13],u}));function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},re.apply(null,arguments)}const ne=(0,i.forwardRef)(((e,t)=>{const r=(0,n.c)(25);let i,s;if(r[0]!==e){const{control:t,reset:n,...a}=e;i=t,s=a,r[0]=e,r[1]=i,r[2]=s}else i=r[1],s=r[2];const{onboardingCompleted:l}=(0,T.A)();let c;r[3]===Symbol.for("react.memo_cache_sentinel")?(c=new O.A("theme_list"),r[3]=c):c=r[3];const d=c;let u,m;r[4]===Symbol.for("react.memo_cache_sentinel")?(u=["theme_list"],m=()=>d.get(),r[4]=u,r[5]=m):(u=r[4],m=r[5]);const v=!!l;let p;r[6]!==v?(p={queryKey:u,queryFn:m,staleTime:36e5,retry:0,enabled:v},r[6]=v,r[7]=p):p=r[7];const{isLoading:f,error:g,data:h}=(0,R.I)(p);let y,b;null!==g&&console.error("Error fetching domain data:",g.message),r[8]!==h?.data?(b=h?.data?.map(ae)??[],r[8]=h?.data,r[9]=b):b=r[9],y=b;const x=y;let w;r[10]!==h?.data?(w=e=>h?.data?.find((t=>t.name===e)),r[10]=h?.data,r[11]=w):w=r[11];const _=w;let E,k,S;return r[12]!==g?(E=g&&a().createElement("div",{className:"error-message"},(0,j.__)("Error fetching theme settings. Please try again later.","simplybook")),r[12]=g,r[13]=E):E=r[13],r[14]!==i||r[15]!==g||r[16]!==_||r[17]!==f||r[18]!==x||r[19]!==s?.setting||r[20]!==h?.data?(k=!f&&!g&&h?.data&&a().createElement(o.xI,{control:i,name:s?.setting?.id,defaultValue:s?.setting?.value??s?.setting?.default??"",render:e=>{const{field:t,fieldState:r}=e,n=_(t.value);return a().createElement(a().Fragment,null,a().createElement(N.A,re({},t,{setting:s?.setting,options:x,label:s?.setting?.label,help:s?.setting?.help,required:s?.setting?.required,disabled:f,fieldState:r,className:"w-full",onChange:e=>{t.onChange(e.target.value)}})),n?.config&&a().createElement(te,{control:i,parentSetting:s?.setting,selectedTheme:n}))}}),r[14]=i,r[15]=g,r[16]=_,r[17]=f,r[18]=x,r[19]=s?.setting,r[20]=h?.data,r[21]=k):k=r[21],r[22]!==k||r[23]!==E?(S=a().createElement(a().Fragment,null,E,k),r[22]=k,r[23]=E,r[24]=S):S=r[24],S}));ne.displayName="ThemeField";const ie=ne;function ae(e){return{label:e.title.charAt(0).toUpperCase()+e.title.slice(1),value:e.name,key:e.id}}var oe=r(982),se=r(6188),le=r(9964),ce=function(){return ce=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ce.apply(this,arguments)};const de=function(e){var t=e.providerId,r=e.provider;if(!r)return(0,l.jsxs)("div",{className:"text-gray-500",children:[(0,j.__)("Loading","simplybook"),"..."]});var n=(0,le.r)(),a=n.crudState,o=n.dispatch,s=(0,i.useState)(r),c=s[0],d=s[1];(0,i.useEffect)((function(){var e,n=null===(e=a.unsavedProviders)||void 0===e?void 0:e.find((function(e){return e.id===t}));d(null!=n?n:r)}),[]),(0,i.useEffect)((function(){a.providerErrors&&a.providerErrors[t]&&!a.providersHasUnsavedChanges&&o({dispatchType:"clearAllErrorsForItem",change:{item:{id:t}}})}),[a.providerErrors,a.providersHasUnsavedChanges]);var u=function(e,r){var n,i,s=((n={id:t})[e]="qty"===e&&""!==r?Number(r):r,n),l=a.providerErrors?a.providerErrors[t]:{};!!l&&Object.keys(l).includes(e)&&o({dispatchType:"clearErrorsForField",change:{item:(i={id:t},i[e]="",i)}}),a.generalError&&o({dispatchType:"generalError",change:{generalError:""}}),d((function(e){return ce(ce({},e),s)})),o({dispatchType:"unsavedChangesToProviders",change:{item:s}})},m=function(e,r){var n,i,s,l,c=!1;switch(e){case"name":c=""!==r,l=[(0,j.__)("Name is a required field.","simplybook")];break;case"email":c=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)||""===r,l=[(0,j.__)("Please enter a valid email address (e.g., example@domain.com)","simplybook")];break;case"phone":c=/^((\(\+|00\))|(\+|00))[1-9][0-9 \-\(\)\.]{7,32}$/.test(r)||""===r,l=[(0,j.__)("Please enter a valid phone number with country code (e.g., +31 123 456 789)","simplybook")];break;case"qty":var d=Number(r);c=!isNaN(d)&&!(d>99||0===d),d>99||(l=[(0,j.__)("Please enter a valid number between 1 and 99","simplybook")])}if(!c&&l){var u=((n={})[e]=l,n);o({dispatchType:"errorsOnFields",change:{providerErrors:(i={},i[t]=ce({},u),i)}})}else a.providerErrors&&a.providerErrors[t]&&o({dispatchType:"clearErrorsForField",change:{item:(s={id:t},s[e]="",s)}});return c};return(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"col-span-full",children:[(0,l.jsxs)("label",{className:"cursor-pointer pb-1 font-medium text-black text-label block",htmlFor:"provider-name",children:[(0,j.__)("Service provider name","simplybook")," *"]}),(0,l.jsx)("input",{id:"provider-name",type:"text",value:c.name,onChange:function(e){return u("name",e.target.value)},className:(0,f.A)("input-base-no-shadow",a.providerErrors&&a.providerErrors[t]?a.providerErrors[t].name&&"ring-2 ring-red-600":null),required:!0,onBlur:function(e){m("name",e.target.value.trim())}}),a.providerErrors&&a.providerErrors[t]?a.providerErrors[t].name&&(0,l.jsx)("div",{children:a.providerErrors[t].name.map((function(e){return(0,l.jsx)("span",{className:"font-medium text-red-600 ml-[1px] block mt-1",children:e})}))}):null]}),(0,l.jsxs)("div",{className:"col-span-full",children:[(0,l.jsx)("label",{className:"cursor-pointer pb-1 font-medium text-black text-label block",htmlFor:"provider-email",children:(0,j.__)("E-mail","simplybook")}),(0,l.jsx)("input",{id:"provider-email",type:"email",value:c.email,onChange:function(e){return u("email",e.target.value)},onBlur:function(e){m("email",e.target.value.trim())},className:(0,f.A)("input-base-no-shadow",a.providerErrors&&a.providerErrors[t]?a.providerErrors[t].email&&"ring-2 ring-red-600":null)}),a.providerErrors&&a.providerErrors[t]?a.providerErrors[t].email&&(0,l.jsx)("div",{children:a.providerErrors[t].email.map((function(e){return(0,l.jsx)("span",{className:"font-medium text-red-600 ml-[1px] block mt-1",children:e})}))}):null]}),(0,l.jsxs)("div",{className:"col-span-full",children:[(0,l.jsx)("label",{className:"cursor-pointer pb-1 font-medium text-black text-label block",htmlFor:"provider-phone",children:(0,j.__)("Phone","simplybook")}),(0,l.jsx)("input",{id:"provider-phone",type:"tel",value:c.phone,onChange:function(e){return u("phone",e.target.value)},pattern:"[+]?[0-9\\s\\-\\(\\)]{7,20}",title:(0,j.__)("Please enter a valid phone number with country code (e.g., +31 123 456 789)","simplybook"),className:(0,f.A)("input-base-no-shadow",a.providerErrors&&a.providerErrors[t]?a.providerErrors[t].phone&&"ring-2 ring-red-600":null),placeholder:"+31 123 456 789",onBlur:function(e){m("phone",e.target.value.trim())}}),a.providerErrors&&a.providerErrors[t]?a.providerErrors[t].phone&&(0,l.jsx)("div",{children:a.providerErrors[t].phone.map((function(e){return(0,l.jsx)("span",{className:"font-medium text-red-600 ml-[1px] block mt-1",children:e})}))}):null]}),(0,l.jsxs)("div",{className:"col-span-full",children:[(0,l.jsxs)("label",{className:"cursor-pointer pb-1 font-medium text-black text-label block",htmlFor:"provider-qty",children:[(0,j.__)("How many clients can be served at the same time?","simplybook")," *"]}),(0,l.jsx)("input",{id:"provider-qty",type:"text",pattern:"[0-9]",placeholder:"1",value:c.qty,required:!0,onChange:function(e){var r,n=e.target.value.trim();if((""===n||m("qty",n))&&u("qty",n),""===n){var i={qty:[(0,j.__)("Please enter a valid number between 1 and 99","simplybook")]};o({dispatchType:"errorsOnFields",change:{providerErrors:(r={},r[t]=ce({},i),r)}})}},onBlur:function(e){m("qty",e.target.value.trim())},className:(0,f.A)("input-base-no-shadow",a.providerErrors&&a.providerErrors[t]?a.providerErrors[t].qty&&"ring-2 ring-red-600":null)}),a.providerErrors&&a.providerErrors[t]?a.providerErrors[t].qty&&(0,l.jsx)("div",{children:a.providerErrors[t].qty.map((function(e){return(0,l.jsx)("span",{className:"font-medium text-red-600 ml-[1px] block mt-1",children:e})}))}):null]}),t&&"new"!==t&&(0,l.jsx)("div",{className:"mt-4 max-w-fit",children:(0,l.jsx)(I.A,{className:"!border-sb-blue !text-sb-blue flex-row-reverse",icon:!0,iconName:"target-blank",iconClass:"fa-regular",reverseIcon:!0,btnVariant:"square-ghost-small",loginLink:"/v2/management?hash=providers/edit/details/".concat(t),children:(0,j.__)("Advanced settings","simplybook")})})]})},ue=function(e){var t,r=e.provider,n=e.providers,a=(0,le.r)(),o=a.crudState,s=a.dispatch,c=a.handleDeletingItem,d=q().domain,u=(0,i.useState)(!1),m=u[0],v=u[1],p=(0,i.useState)(!1),g=p[0],h=p[1],y=(0,i.useState)(!1),b=y[0],x=y[1],w=(0,i.useState)(n.length<=1),_=w[0],E=w[1],k=(0,i.useState)(!1),N=k[0],S=k[1],A=r.picture_preview&&r.picture_preview.length>0;(0,i.useEffect)((function(){var e,t=null===(e=o.currentlyVisibleProviders)||void 0===e?void 0:e.includes(r.id);h(null!=t?t:!!r.is_visible)}),[]),(0,i.useEffect)((function(){var e,t,n=null===(e=o.providers)||void 0===e?void 0:e.every((function(e){return r.id===e.id})),i=o.currentlyVisibleProviders.every((function(e){return r.id===e}));i!=b&&x(i);var a=null===(t=o.providers)||void 0===t?void 0:t.filter((function(e){return e.is_visible})).every((function(e){return r.id===e.id})),s=null!=a&&null!=n&&(a||i||n);s!=_&&E(s);var l=o.currentlyVisibleProviders.includes(r.id);l!=g&&h(l)}),[o]),(0,i.useEffect)((function(){var e=o.providerErrors?o.providerErrors[r.id]:null;e&&!m&&v(!0),S(!!e)}),[o.providerErrors]);var C=function(){v(!m)};return(0,l.jsxs)("div",{className:"border border-gray-200 rounded-lg mb-4 bg-gray-50",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-t-lg gap-2",onClick:function(){N||C()},children:[(0,l.jsxs)("div",{className:"flex space-x-3 flex-1 max-w-3/5",children:[A?(0,l.jsx)("img",{className:"w-20 h-20 min-w-[36px] max-w-[36px] max-h-[36px] bg-blue-100 text-xs flex items-center justify-center overflow-hidden rounded-full",src:d+r.picture_preview,alt:"..."}):(0,l.jsx)("div",{className:"w-20 h-20 min-w-[36px] max-w-[36px] max-h-[36px] bg-blue-100 text-xs flex items-center justify-center overflow-hidden rounded-full font-bold",children:null===(t=r.name)||void 0===t?void 0:t.charAt(0).toUpperCase()}),(0,l.jsx)("div",{className:"flex items-center flex-1 max-w-2/3",children:(0,l.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate",children:r.name})})]}),(0,l.jsxs)("div",{className:"flex space-x-3",children:[(0,l.jsx)("button",{type:"button",onClick:function(e){e.stopPropagation(),c(r.id)},disabled:o.isLoading||_,className:"text-gray-500 hover:text-red-600 hover:bg-red-100 disabled:opacity-50 p-1 rounded cursor-pointer disabled:cursor-not-allowed flex items-center h-6",title:_?(0,j.__)("Cannot delete the only visible service provider","simplybook"):(0,j.__)("Delete Service Provider","simplybook"),children:(0,l.jsx)(oe.g,{icon:se.yLS,className:"w-4 h-4"})}),(0,l.jsx)("div",{className:"mt-[1px]",onClick:function(e){return e.stopPropagation()},children:(0,l.jsxs)("label",{className:(0,f.A)("relative inline-flex items-center mb-0",b?"cursor-not-allowed":"cursor-pointer"),title:b?(0,j.__)("Cannot hide the only visible service provider","simplybook"):g?(0,j.__)("Visible","simplybook"):(0,j.__)("Hidden","simplybook"),children:[(0,l.jsx)("input",{type:"checkbox",checked:g,onChange:function(e){e.stopPropagation(),s({dispatchType:"unsavedChangesToProviders",change:{item:{id:r.id,is_visible:e.target.checked}}}),h(e.target.checked)},disabled:b,className:"sr-only peer"}),(0,l.jsx)("div",{className:(0,f.A)("w-8 h-[18px] bg-gray-300 peer-focus:ring-2 peer-focus:ring-blue-300 rounded-full peer","peer-checked:bg-blue-600 peer-checked:after:translate-x-[0.8rem] rtl:peer-checked:after:-translate-x-[0.8rem] peer-checked:after:border-white","after:content-[''] after:mx-[0.2rem] flex items-center after:start-0.5 after:bg-white after:border-gray-200","after:border after:rounded-full after:aspect-square after:h-3 after:w-3 after:transition-all",b&&"opacity-50 cursor-not-allowed")})]})}),(0,l.jsx)("button",{type:"button",disabled:N,onClick:function(e){e.stopPropagation(),C()},className:(0,f.A)("px-1 rounded text-gray-500 active:ring-4 focus:ring-4 active:ring-blue-300 focus:ring-blue-300 hover:bg-gray-200 transition-transform duration-200 cursor-pointer flex items-center h-6",N&&"pointer-events-none opacity-50 cursor-not-allowed"),title:m?(0,j.__)("Collapse","simplybook"):(0,j.__)("Expand","simplybook"),children:(0,l.jsx)(oe.g,{icon:se.Jt$,className:(0,f.A)("w-4 h-4 self-start mt-1 transition-transform duration-200",m&&"rotate-180")})})]})]}),m&&(0,l.jsx)("div",{className:"border-t border-gray-200 p-4 bg-gray-50 rounded-b-lg",children:(0,l.jsx)(de,{provider:r,providerId:r.id})})]})};var me=r(8908),ve=r(5959);function pe(e){return null!=e}var fe=function(){return fe=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fe.apply(this,arguments)};const ge=function(e){var t=e.serviceId,r=e.service;if(!r)return(0,l.jsxs)("div",{className:"text-gray-500",children:[(0,j.__)("Loading","simplybook"),"..."]});var n=(0,le.r)(),a=n.crudState,o=n.dispatch,s=(0,i.useState)(r),c=s[0],d=s[1];(0,i.useEffect)((function(){var e,n=null===(e=a.unsavedServices)||void 0===e?void 0:e.find((function(e){return e.id===t}));d(null!=n?n:r)}),[]),(0,i.useEffect)((function(){a.serviceErrors&&a.serviceErrors[t]&&!a.servicesHasUnsavedChanges&&o({dispatchType:"clearAllErrorsForItem",change:{item:{id:t}}})}),[a.serviceErrors,a.servicesHasUnsavedChanges]);var u=function(e,r){var n,i,s=((n={id:t})[e]="duration"===e&&""!==r?Number(r):r,n),l=a.serviceErrors?a.serviceErrors[t]:{};!!l&&Object.keys(l).includes(e)&&o({dispatchType:"clearErrorsForField",change:{item:(i={id:t},i[e]="",i)}}),a.generalError&&o({dispatchType:"generalError",change:{generalError:""}}),d((function(e){return fe(fe({},e),s)})),o({dispatchType:"unsavedChangesToServices",change:{item:s}})},m=function(e,r){var n,i,s,l,c=!1;switch(e){case"name":c=""!==r,l=[(0,j.__)("Name is a required field.","simplybook")];break;case"duration":var d=Number(r);c=!isNaN(d)&&0!==d,l=[(0,j.__)("Please enter a valid number that is a multiple of your selected timeframe","simplybook")]}if(!c&&l){var u=((n={})[e]=l,n);o({dispatchType:"errorsOnFields",change:{serviceErrors:(i={},i[t]=fe({},u),i)}})}else a.serviceErrors&&a.serviceErrors[t]&&o({dispatchType:"clearErrorsForField",change:{item:(s={id:t},s[e]="",s)}});return c};return(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"col-span-full",children:[(0,l.jsxs)("label",{className:"cursor-pointer pb-1 font-medium text-black text-label block",htmlFor:"service-name",children:[(0,j.__)("Service name","simplybook")," *"]}),(0,l.jsx)("input",{id:"service-name",type:"text",value:c.name,onChange:function(e){return u("name",e.target.value)},className:(0,f.A)("input-base-no-shadow",a.serviceErrors&&a.serviceErrors[t]?a.serviceErrors[t].name&&"ring-2 ring-red-600":null),required:!0,onBlur:function(e){m("name",e.target.value.trim())}}),a.serviceErrors&&a.serviceErrors[t]?a.serviceErrors[t].name&&(0,l.jsx)("div",{children:a.serviceErrors[t].name.map((function(e){return(0,l.jsx)("span",{className:"font-medium text-red-600 ml-[1px] block mt-1",children:e})}))}):null]}),(0,l.jsxs)("div",{className:"col-span-full",children:[(0,l.jsxs)("label",{className:"cursor-pointer pb-1 font-medium text-black text-label block",htmlFor:"service-duration",children:[(0,j.__)("Service duration (minutes)","simplybook")," *"]}),(0,l.jsx)("input",{id:"service-duration",type:"text",pattern:"[0-9]",placeholder:"60",value:c.duration,required:!0,onChange:function(e){var r,n=e.target.value.trim();if((""===n||m("duration",n))&&u("duration",n),""===n){var i={duration:[(0,j.__)("Please enter a valid number that is a multiple of your selected timeframe","simplybook")]};o({dispatchType:"errorsOnFields",change:{serviceErrors:(r={},r[t]=fe({},i),r)}})}},onBlur:function(e){m("duration",e.target.value.trim())},className:(0,f.A)("input-base-no-shadow",a.serviceErrors&&a.serviceErrors[t]?a.serviceErrors[t].duration&&"ring-2 ring-red-600":null)}),a.serviceErrors&&a.serviceErrors[t]?a.serviceErrors[t].duration&&(0,l.jsx)("div",{children:a.serviceErrors[t].duration.map((function(e){return(0,l.jsx)("span",{className:"font-medium text-red-600 ml-[1px] block mt-1",children:e})}))}):null]}),t&&"new"!==t&&(0,l.jsx)("div",{className:"mt-4 max-w-fit",children:(0,l.jsx)(I.A,{className:"!border-sb-blue !text-sb-blue flex-row-reverse",icon:!0,iconName:"target-blank",iconClass:"fa-regular",reverseIcon:!0,btnVariant:"square-ghost-small",loginLink:"/v2/management?hash=services/edit/details/".concat(t),children:(0,j.__)("Advanced settings","simplybook")})})]})},he=function(e){var t,r=e.service,n=e.services,a=e.isLoading,o=(0,le.r)(),s=o.crudState,c=o.dispatch,d=o.handleDeletingItem,u=q().domain,m=(0,i.useState)(!1),v=m[0],p=m[1],g=(0,i.useState)(!1),h=g[0],y=g[1],b=(0,i.useState)(!1),x=b[0],w=b[1],_=(0,i.useState)(n.length<=1),E=_[0],k=_[1],N=(0,i.useState)(!1),S=N[0],A=N[1],C=r.picture_preview&&r.picture_preview.length>0;(0,i.useEffect)((function(){var e=s.currentlyVisibleServices.includes(r.id);y(null!=e?e:!!r.is_visible)}),[]),(0,i.useEffect)((function(){var e,t,n=null===(e=s.services)||void 0===e?void 0:e.every((function(e){return r.id===e.id})),i=s.currentlyVisibleServices.every((function(e){return r.id===e}));i!=x&&w(i);var a=null===(t=s.services)||void 0===t?void 0:t.filter((function(e){return e.is_visible})).every((function(e){return r.id===e.id})),o=null!=a&&null!=n&&(a||i||n);o!=E&&k(o);var l=s.currentlyVisibleServices.includes(r.id);l!=h&&y(l)}),[s]),(0,i.useEffect)((function(){var e=s.serviceErrors?s.serviceErrors[r.id]:null;e&&p(!0),A(!!e)}),[s.serviceErrors]);var P=function(){p(!v)};return(0,l.jsxs)("div",{className:"border border-gray-200 rounded-lg mb-4 bg-gray-50",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-t-lg  gap-2",onClick:function(){S||P()},children:[(0,l.jsxs)("div",{className:"flex space-x-3 flex-1 max-w-3/5",children:[C?(0,l.jsx)("img",{className:"w-20 h-20 min-w-[36px] max-w-[36px] max-h-[36px] bg-blue-100 text-xs flex items-center justify-center overflow-hidden rounded-full",src:u+r.picture_preview,alt:"..."}):(0,l.jsx)("div",{className:"w-20 h-20 min-w-[36px] max-w-[36px] max-h-[36px] bg-blue-100 text-xs flex items-center justify-center overflow-hidden rounded-full font-bold",children:null===(t=r.name)||void 0===t?void 0:t.charAt(0).toUpperCase()}),(0,l.jsx)("div",{className:"flex items-center flex-1 max-w-2/3",children:(0,l.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate",children:r.name})})]}),(0,l.jsxs)("div",{className:"flex space-x-3",children:[(0,l.jsx)("button",{type:"button",onClick:function(e){e.stopPropagation(),d(r.id)},disabled:a||E,className:"text-gray-500 hover:text-red-600 hover:bg-red-100 disabled:opacity-50 p-1 cursor-pointer disabled:cursor-not-allowed flex items-center h-6",title:E?(0,j.__)("Cannot delete the only visible service","simplybook"):(0,j.__)("Delete Service","simplybook"),children:(0,l.jsx)(oe.g,{icon:se.yLS,className:"w-4 h-4"})}),(0,l.jsx)("div",{className:"mt-[1px]",onClick:function(e){return e.stopPropagation()},children:(0,l.jsxs)("label",{className:(0,f.A)("relative inline-flex items-center mb-0",x?"cursor-not-allowed":"cursor-pointer"),title:x?(0,j.__)("Cannot hide the last visible service","simplybook"):h?(0,j.__)("Visible","simplybook"):(0,j.__)("Hidden","simplybook"),children:[(0,l.jsx)("input",{type:"checkbox",checked:h,onChange:function(e){e.stopPropagation(),c({dispatchType:"unsavedChangesToServices",change:{item:{id:r.id,is_visible:e.target.checked}}}),y(e.target.checked)},disabled:x,className:"sr-only peer"}),(0,l.jsx)("div",{className:(0,f.A)("w-8 h-[18px] bg-gray-300 peer-focus:ring-2 peer-focus:ring-blue-300 rounded-full peer","peer-checked:bg-blue-600 peer-checked:after:translate-x-[0.8rem] rtl:peer-checked:after:-translate-x-[0.8rem] peer-checked:after:border-white","after:content-[''] after:mx-[0.2rem] flex items-center after:start-0.5 after:bg-white after:border-gray-200","after:border after:rounded-full after:aspect-square after:h-3 after:w-3 after:transition-all",x&&"opacity-50 cursor-not-allowed")})]})}),(0,l.jsx)("button",{type:"button",disabled:S,onClick:function(e){e.stopPropagation(),P()},className:(0,f.A)("px-1 rounded text-gray-500 active:ring-4 focus:ring-4 active:ring-blue-300 focus:ring-blue-300 hover:bg-gray-200 transition-transform duration-200 cursor-pointer flex items-center h-6",S&&"pointer-events-none opacity-50 cursor-not-allowed"),title:v?(0,j.__)("Collapse","simplybook"):(0,j.__)("Expand","simplybook"),children:(0,l.jsx)(oe.g,{icon:se.Jt$,className:(0,f.A)("w-4 h-4 self-start mt-1 transition-transform duration-200",v&&"rotate-180")})})]})]}),v&&(0,l.jsx)("div",{className:"border-t border-gray-200 p-4 bg-gray-50 rounded-b-lg",children:(0,l.jsx)(ge,{service:r,serviceId:r.id})})]})};function ye(e){return null!=e}function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},be.apply(null,arguments)}const xe={text:s.A,textarea:s.A,number:s.A,api:s.A,hidden:p,checkbox:k,select:N.A,colorpicker:A.A,list:M,palettes:G,authentication:J,theme:ie,providers_list:()=>{const e=(0,n.c)(31),{crudState:t,dispatch:r}=(0,le.r)(),{providersRemaining:o,providersTotal:s}=(0,U.A)(),[l,c]=(0,i.useState)(s-o);let d,u,m;e[0]!==t.providers?(d=()=>{t.providers&&c(t.providers.length)},u=[t.providers],e[0]=t.providers,e[1]=d,e[2]=u):(d=e[1],u=e[2]),(0,i.useEffect)(d,u),e[3]!==t.unsavedProviders||e[4]!==t.unsavedServices.length?(m=e=>{const{next:r}=e,n=0!==t.unsavedServices.length||0!==t.unsavedProviders.length;return!(r.pathname.includes("settings")||!n)&&!window.confirm((0,j.__)("You have unsaved changes. Are you sure you want to leave?\n\nYour changes will be lost.","simplybook"))},e[3]=t.unsavedProviders,e[4]=t.unsavedServices.length,e[5]=m):m=e[5];const v=0!==t.unsavedServices.length||0!==t.unsavedProviders.length;let p,f;e[6]!==m||e[7]!==v?(p={shouldBlockFn:m,enableBeforeUnload:v},e[6]=m,e[7]=v,e[8]=p):p=e[8],(0,ve.K)(p),e[9]!==r?(f=()=>{r({dispatchType:"createNewCanceled"}),r({dispatchType:"clearAllErrorsForItem",change:{item:{id:"new"}}})},e[9]=r,e[10]=f):f=e[10];const g=f;let h;e[11]===Symbol.for("react.memo_cache_sentinel")?(h={id:"new",name:"",email:"",phone:"",qty:1},e[11]=h):h=e[11];const y=h;let b;e[12]!==r?(b=()=>{r({dispatchType:"isCreatingNewChanged",change:{isCreatingNewProvider:!0}}),r({dispatchType:"unsavedChangesToProviders",change:{item:y}})},e[12]=r,e[13]=b):b=e[13];const x=b;if(!t.providers||t.isLoading){let t,r;return e[14]===Symbol.for("react.memo_cache_sentinel")?(t=a().createElement("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e[14]=t):t=e[14],e[15]===Symbol.for("react.memo_cache_sentinel")?(r=a().createElement("div",{className:"flex items-center justify-center p-8"},t,a().createElement("span",{className:"ms-2"},(0,j.__)("Loading service providers","simplybook"),"...")),e[15]=r):r=e[15],r}let w,_,E;return e[16]!==t.isLoading||e[17]!==t.providers||e[18]!==o?(w=!t.isLoading&&t.providers&&0===t.providers.length?a().createElement("div",{className:"text-center py-8 text-gray-500"},(0,j.__)("No service providers found.","simplybook")+(o>0?(0,j.__)('Click "Add Service Provider" to create your first service provider.',"simplybook"):"")):a().createElement("div",{className:"space-y-6"},t.providers?.filter(pe).map((e=>a().createElement(ue,{key:e.id,provider:e,providers:t.providers})))),e[16]=t.isLoading,e[17]=t.providers,e[18]=o,e[19]=w):w=e[19],e[20]!==t.isCreatingNewProvider||e[21]!==t.isSaving||e[22]!==x||e[23]!==g||e[24]!==l||e[25]!==o||e[26]!==s?(_=o>0&&a().createElement(a().Fragment,null,a().createElement("div",{className:"flex justify-between items-center mb-4"},a().createElement("div",{className:"flex items-center gap-3"},a().createElement(me.A,{type:"button",className:"font-bold border-secondary bg-secondary text-white",onClick:t.isCreatingNewProvider?g:x,disabled:t.isSaving,btnVariant:"square"},a().createElement(oe.g,{icon:se.QLR,className:"w-4 h-4 me-2 text-white font-bold"}),t.isCreatingNewProvider?(0,j.__)("Cancel New Service Provider","simplybook"):(0,j.__)("Add Service Provider","simplybook"))),a().createElement("div",{className:"rounded-md px-2 py-1 text-tertiary font-bold bg-blue-100"},a().createElement("span",null,`Providers: ${l} / ${s}`))),t.isCreatingNewProvider&&a().createElement("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50"},a().createElement("h4",{className:"text-md font-medium mb-4"},(0,j.__)("Add New Service Provider","simplybook")),a().createElement(de,{providerId:"new",provider:y}))),e[20]=t.isCreatingNewProvider,e[21]=t.isSaving,e[22]=x,e[23]=g,e[24]=l,e[25]=o,e[26]=s,e[27]=_):_=e[27],e[28]!==w||e[29]!==_?(E=a().createElement("div",{className:"w-full"},w,_),e[28]=w,e[29]=_,e[30]=E):E=e[30],E},services_list:()=>{const e=(0,n.c)(29),{crudState:t,dispatch:r}=(0,le.r)();let i;e[0]!==t.unsavedProviders||e[1]!==t.unsavedServices.length?(i=e=>{const{next:r}=e,n=0!==t.unsavedServices.length||0!==t.unsavedProviders.length;return!(r.pathname.includes("settings")||!n)&&!window.confirm((0,j.__)("You have unsaved changes. Are you sure you want to leave?\n\nYour changes will be lost.","simplybook"))},e[0]=t.unsavedProviders,e[1]=t.unsavedServices.length,e[2]=i):i=e[2];const o=0!==t.unsavedServices.length||0!==t.unsavedProviders.length;let s,l;e[3]!==i||e[4]!==o?(s={shouldBlockFn:i,enableBeforeUnload:o},e[3]=i,e[4]=o,e[5]=s):s=e[5],(0,ve.K)(s),e[6]!==r?(l=()=>{r({dispatchType:"createNewCanceled"}),r({dispatchType:"clearAllErrorsForItem",change:{item:{id:"new"}}})},e[6]=r,e[7]=l):l=e[7];const c=l;let d;e[8]===Symbol.for("react.memo_cache_sentinel")?(d={id:"new",name:"",duration:60},e[8]=d):d=e[8];const u=d;let m;e[9]!==r?(m=()=>{r({dispatchType:"isCreatingNewChanged",change:{isCreatingNewService:!0}}),r({dispatchType:"unsavedChangesToServices",change:{item:u}})},e[9]=r,e[10]=m):m=e[10];const v=m;if(!t.services||t.isLoading){let t,r;return e[11]===Symbol.for("react.memo_cache_sentinel")?(t=a().createElement("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e[11]=t):t=e[11],e[12]===Symbol.for("react.memo_cache_sentinel")?(r=a().createElement("div",{className:"flex items-center justify-center p-8"},t,a().createElement("span",{className:"ms-2"},(0,j.__)("Loading services","simplybook"),"...")),e[12]=r):r=e[12],r}let p;e[13]!==t.isLoading||e[14]!==t.services?(p=!t.isLoading&&t.services&&0===t.services.length?a().createElement("div",{className:"text-center py-8 text-gray-500"},(0,j.__)('No services found. Click "Add Service" to create your first service.',"simplybook")):a().createElement("div",{className:"space-y-6"},t.services?.filter(ye).map((e=>a().createElement(he,{key:e.id,service:e,services:t.services})))),e[13]=t.isLoading,e[14]=t.services,e[15]=p):p=e[15];const f=t.isCreatingNewProvider?c:v;let g,h,y,b,x;return e[16]===Symbol.for("react.memo_cache_sentinel")?(g=a().createElement(oe.g,{icon:se.QLR,className:"w-4 h-4 me-2 text-white font-bold"}),e[16]=g):g=e[16],e[17]!==t.isCreatingNewProvider?(h=t.isCreatingNewProvider?(0,j.__)("Cancel New Service","simplybook"):(0,j.__)("Add Service","simplybook"),e[17]=t.isCreatingNewProvider,e[18]=h):h=e[18],e[19]!==t.isSaving||e[20]!==f||e[21]!==h?(y=a().createElement("div",{className:"flex justify-between items-center mb-4"},a().createElement("div",{className:"flex items-center gap-3"},a().createElement(me.A,{type:"button",className:"font-bold !border-secondary bg-secondary text-white",onClick:f,disabled:t.isSaving,btnVariant:"square"},g,h))),e[19]=t.isSaving,e[20]=f,e[21]=h,e[22]=y):y=e[22],e[23]!==t.isCreatingNewService?(b=t.isCreatingNewService&&a().createElement("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50"},a().createElement("h4",{className:"text-md font-medium mb-4"},(0,j.__)("Add New Service","simplybook")),a().createElement(ge,{serviceId:"new",service:u})),e[23]=t.isCreatingNewService,e[24]=b):b=e[24],e[25]!==y||e[26]!==b||e[27]!==p?(x=a().createElement("div",{className:"w-full"},p,y,b),e[25]=y,e[26]=b,e[27]=p,e[28]=x):x=e[28],x}},we=(0,i.memo)((({setting:e,control:t,setValue:r,getValues:n,reset:a,...s})=>{if(!1===e.visible)return React.createElement("input",{type:"hidden",defaultValue:e.value||e.default});const l=xe[e.type],{saveSettings:c,setValue:d,getValue:u,settings:m}=(0,B.A)();if(!l)return React.createElement("div",{className:"w-full"},"Unknown field type:",e.type,", id:",e.id);const v={...e.required&&{validate:{required:e=>!!e||(0,j.__)("This field is required","simplybook")}},...e.validation?.regex&&{pattern:{value:new RegExp(e.validation.regex),message:e.validation.message||(0,j.__)("Invalid format","simplybook")}},...e.min&&{min:e.min},...e.max&&{max:e.max},...e.minLength&&{minLength:e.minLength},...e.maxLength&&{maxLength:e.maxLength},...e.validate&&{validate:e.validate}};let p=e.value||e.default;return"checkbox"===e.type&&(p="1"===p||!0===p||1===p),"self"===e?.control?React.createElement(S.A,null,React.createElement(l,be({className:e.inline_group?"inline-flex":"",setting:e,required:e.required,label:e.label,disabled:s.settingsIsUpdating||e.disabled,context:e.context,help:e.help,options:e.options,control:t,setValue:r,getValues:n,reset:a},s,xe[e.type]))):React.createElement(S.A,null,React.createElement(o.xI,{name:e.id,control:t,rules:v,defaultValue:p,render:({field:t,fieldState:r})=>((0,i.useEffect)((()=>{u(e.id)!==t.value&&e.save_on_change&&t.value.length>0&&(console.log("saving field on change",e.id,t.value),(async t=>{d(e.id,t),e.mapping&&e.mapping.forEach((e=>{d(e,t)}))})(t.value))}),[t.value]),React.createElement(l,be({},s,{className:s.className,setting:e,fieldState:r,required:e.required,label:e.label,copyField:e.copy_field,disabled:s.settingsIsUpdating||e.disabled,context:e.context,tooltip:e.tooltip,help:e.help,options:e.options},t)))}))}));we.displayName="FormField";const _e=we,Ee=e=>{const t=(0,n.c)(13),{fields:r,control:i,getValues:o,setValue:s,reset:l}=e;let c,d;if(t[0]!==i||t[1]!==r||t[2]!==o||t[3]!==l||t[4]!==s){let e;t[6]!==i||t[7]!==o||t[8]!==l||t[9]!==s?(e=e=>a().createElement(_e,{className:"inline"==e?.style?"form-field-inline":"w-full",setting:e,key:e.id,control:i,setValue:s,getValues:o,reset:l}),t[6]=i,t[7]=o,t[8]=l,t[9]=s,t[10]=e):e=t[10],c=r.map(e),t[0]=i,t[1]=r,t[2]=o,t[3]=l,t[4]=s,t[5]=c}else c=t[5];return t[11]!==c?(d=a().createElement(a().Fragment,null,c),t[11]=c,t[12]=d):d=t[12],d}},8846:(e,t,r)=>{r.d(t,{A:()=>m});var n=r(1728),i=r(7723),a=r(7665),o=r(9270),s=r(7097),l=r(1730),c=r(1609),d=r(4576),u=r(9592);const m=()=>{const e=(0,n.c)(8),[t,r]=(0,c.useState)(""),m=(0,a.jE)(),{settings:v}=(0,l.A)(),p=new d.A;let f;e[0]===Symbol.for("react.memo_cache_sentinel")?(f=async()=>{if(!window.grecaptcha?.enterprise)return"";try{return await(e=u.A2,new Promise(((t,r)=>{window.grecaptcha?.enterprise?window.grecaptcha.enterprise.ready((async()=>{try{const r=await window.grecaptcha.enterprise.execute(e,{action:"create_company"});t(r)}catch(e){r(e)}})):r(new Error("reCAPTCHA not loaded"))})))}catch(e){return r((0,i.__)("Captcha verification failed. Please try again.","simplybook")),!1}var e},e[0]=f):f=e[0];const g=f,h=[{id:1,path:"/onboarding/create-your-account",fields:[{id:"email",type:"text",label:(0,i.__)("Email address","simplybook"),required:!0,default:simplybook?.user_email||"",validation:{regex:"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",message:(0,i.__)("Please enter a valid email address","simplybook")}},{required:!0,id:"terms-and-conditions",type:"checkbox",default:!0,label:(0,i.sprintf)((0,i.__)("I agree to the %sterms and conditions%s","simplybook"),'<a href="https://simplybook.me/terms-and-conditions" target="_blank">',"</a>")},{id:"marketing-consent",type:"checkbox",default:!0,label:(0,i.sprintf)((0,i.__)("I wish to receive communications about news and/or promotions from %sSimplyBook.me%s","simplybook"),'<a href="https://simplybook.me/en/policy#direct-marketing" target="_blank">',"</a>")}],beforeSubmit:async e=>{const t=await g();return!1!==t&&await(async(e,t)=>{try{await p.setRoute("onboarding/create_account").setPayload({...e,captcha_token:t}).post()}catch(e){return r(e.message||(0,i.__)("An error occurred while registering.","simplybook")),!1}return r(""),!0})(e,t)}},{id:2,path:"/onboarding/style-widget",beforeSubmit:async e=>{try{await p.setRoute("onboarding/save_widget_style").setPayload({primary_color:e.primary_color,secondary_color:e.secondary_color,active_color:e.active_color}).post()}catch(e){return r(e.message||(0,i.__)("An error occurred while saving the styles.","simplybook")),!1}try{await p.setRoute("onboarding/generate_pages").setPayload({generate:!0}).post()}catch(e){}try{await p.setRoute("onboarding/finish_onboarding").setPayload({finish:!0}).post()}catch(e){return r(e.message||(0,i.__)("An error occurred while finishing the onboarding.","simplybook")),!1}return S(!0),r(""),!0},fields:[]}],y={};h.forEach((e=>{e.fields.forEach((e=>{y[e.id]=void 0!==e.default?e.default:""}))}));const b={};let x;v?.forEach((e=>{e.id in y&&(b[e.id]=e.value)})),e[1]===Symbol.for("react.memo_cache_sentinel")?(x=["onboarding_data"],e[1]=x):x=e[1];const w=(0,o.I)({queryKey:x,initialData:{...y,...b,onboardingCompleted:simplybook.is_onboarding_completed},staleTime:3e5});let _;e[2]!==m?(_={mutationFn:async e=>{m.setQueryData(["onboarding_data"],(t=>({...t,...e}))),m.invalidateQueries(["onboarding_data"])}},e[2]=m,e[3]=_):_=e[3];const{mutate:E}=(0,s.n)(_);let k;e[4]!==m?(k={mutationFn:async e=>{m.setQueryData(["onboarding_data"],(t=>({...t,onboardingCompleted:e})))},onSuccess:()=>{m.invalidateQueries(["onboarding_data"])}},e[4]=m,e[5]=k):k=e[5];const{mutate:N}=(0,s.n)(k),S=N;let j;return e[6]!==S?(j=e=>S(e),e[6]=S,e[7]=j):j=e[7],{steps:h,data:w.data,defaultData:y,updateData:E,getCurrentStepId:e=>h.find((t=>t.path===e))?.id,getCurrentStep:e=>h.find((t=>t.path===e)),getURLForStep:e=>h[e-1]?.path,isLastStep:e=>h.length===h.find((t=>t.path===e))?.id,onboardingCompleted:w.data?.onboardingCompleted||!1,setOnboardingCompleted:j,apiError:t,setApiError:r}}},1730:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(1728),i=r(7665),a=r(9270),o=r(7097),s=r(4576);const l=()=>{const e=(0,n.c)(21),t=(0,i.jE)();let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=new s.A,e[0]=r):r=e[0];const l=r;let d,u,m;e[1]===Symbol.for("react.memo_cache_sentinel")?(d=["setting_fields"],u=()=>l.setRoute("settings/get").setPayload({withValues:!0}).post(),e[1]=d,e[2]=u):(d=e[1],u=e[2]),e[3]===Symbol.for("react.memo_cache_sentinel")?(m={queryKey:d,queryFn:u,staleTime:3e5,initialData:{data:window.simplybook?.settings_fields},retry:0,select:c},e[3]=m):m=e[3];const v=(0,a.I)(m);let p,f;e[4]===Symbol.for("react.memo_cache_sentinel")?(p=async e=>await l.setRoute("settings/save").setPayload(e).post(),e[4]=p):p=e[4],e[5]!==t?(f={mutationFn:p,onSuccess:e=>{if("success"!==e?.status)throw e;t.setQueryData(["setting_fields"],(t=>e?.data?[...e?.data]:[])),t.invalidateQueries({queryKey:["setting_fields"]})}},e[5]=t,e[6]=f):f=e[6];const{mutateAsync:g}=(0,o.n)(f);let h;e[7]!==v?.data?(h=e=>v?.data.find((t=>t.id===e))?.value,e[7]=v?.data,e[8]=h):h=e[8];const y=h;let b;e[9]!==v?.data||e[10]!==g?(b=(e,t)=>{const r=v?.data?.map((r=>r.id===e?{...r,value:t}:r));r&&g(r)},e[9]=v?.data,e[10]=g,e[11]=b):b=e[11];const x=b,w=v?.data,_=v?.isLoading;let E,k;return e[12]!==t?(E=()=>t.invalidateQueries({queryKey:["setting_fields"]}),e[12]=t,e[13]=E):E=e[13],e[14]!==y||e[15]!==g||e[16]!==x||e[17]!==E||e[18]!==w||e[19]!==_?(k={settings:w,saveSettings:g,getValue:y,setValue:x,isSavingSettings:_,invalidateSettings:E},e[14]=y,e[15]=g,e[16]=x,e[17]=E,e[18]=w,e[19]=_,e[20]=k):k=e[20],k};function c(e){return e?.data??e}},6905:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(1728),i=(r(1609),r(9270)),a=r(2737);const o=()=>{const e=(0,n.c)(10),{settingsId:t}=a.Route.useParams();let r,o;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=["settings_menu"],e[0]=r):r=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(o={queryKey:r,queryFn:l,initialData:window.simplybook&&window.simplybook.settings_menu,staleTime:3e5},e[1]=o):o=e[1];const s=(0,i.I)(o);let c;e[2]!==s.data||e[3]!==t?(c=s.data.find((e=>e.id===t))||{},e[2]=s.data,e[3]=t,e[4]=c):c=e[4];const d=c;let u;return e[5]!==d||e[6]!==s.data||e[7]!==s.isError||e[8]!==s.isLoading?(u={menu:s.data,currentForm:d,menuIsLoading:s.isLoading,menuIsError:s.isError},e[5]=d,e[6]=s.data,e[7]=s.isError,e[8]=s.isLoading,e[9]=u):u=e[9],u};function s(e,t){window.simplybook&&window.simplybook.settings_menu&&e(window.simplybook.settings_menu),t(new Error("Settings menu not found"))}function l(){return new Promise(s)}},3775:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(1728),i=r(7665),a=r(9270),o=r(4576);const s=()=>{const e=(0,n.c)(9),t=(0,i.jE)();let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=new o.A,e[0]=r):r=e[0];const s=r;let l;e[1]===Symbol.for("react.memo_cache_sentinel")?(l={queryKey:["get_widget"],queryFn:()=>s.setRoute("get_widget").get(),staleTime:3e5,retry:0,enabled:!1},e[1]=l):l=e[1];const{data:c,refetch:d}=(0,a.I)(l);let u;e[2]!==t||e[3]!==d?(u=async()=>{t.invalidateQueries({queryKey:["get_widget"]}).then((function(e){return d()}))},e[2]=t,e[3]=d,e[4]=u):u=e[4];const m=u;let v;e[5]===Symbol.for("react.memo_cache_sentinel")?(v=async e=>await s.setRoute("get_preview_widget").setPayload(e).post(),e[5]=v):v=e[5];const p=v,f=c?.data?.widget;let g;return e[6]!==m||e[7]!==f?(g={widgetScript:f,invalidateAndRefetchWidgetScript:m,createPreviewWidget:p},e[6]=m,e[7]=f,e[8]=g):g=e[8],g}},3107:(e,t,r)=>{r.r(t),r.d(t,{Route:()=>C});var n=r(1728),i=r(6037),a=r(1245),o=r(4164),s=r(9361),l=r(6244),c=r(1609),d=r.n(c),u=r(6905),m=r(1674),v=r(7330),p=r(7723),f=r(9681),g=r(1577),h=r(323);const y="py-2 px-5 text-base text-sb-gray border-transparent [&.active]:font-semibold [&.active]:text-primary hover:border-gray-500 hover:bg-gray-100 focus:outline-hidden",b=d().memo((e=>{const t=(0,n.c)(10),{item:r}=e,i=Boolean(r.url),a=i?r.url:`/settings/${r.id}`,o=i?"_blank":void 0;let s;t[0]!==i?(s=i?d().createElement(g.A,{name:"square-arrow-up-right",className:"px-2"}):"",t[0]=i,t[1]=s):s=t[1];const l=s;if(i){let e;return t[2]!==r.title||t[3]!==a?(e=d().createElement(h.A,{iconName:"square-arrow-up-right",iconClass:"px-2",className:y,page:a},r.title),t[2]=r.title,t[3]=a,t[4]=e):e=t[4],e}let c;return t[5]!==r.title||t[6]!==o||t[7]!==l||t[8]!==a?(c=d().createElement(f.N_,{to:a,className:y,target:o},r.title,l),t[5]=r.title,t[6]=o,t[7]=l,t[8]=a,t[9]=c):c=t[9],c}));b.displayName="SettingsMenuItem";const x=b,w=()=>{const e=(0,n.c)(16),{menu:t,menuIsLoading:r,menuIsError:i}=(0,u.A)();if(r||i||!t||0===t.length){let n,a,o,s,l;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=d().createElement(v.A,{title:(0,p.__)("Settings","simplybook"),controls:null}),e[0]=n):n=e[0],e[1]!==r?(a=r&&(0,p.__)("Loading menu...","simplybook"),e[1]=r,e[2]=a):a=e[2],e[3]!==i?(o=i&&(0,p.__)("Error loading menu","simplybook"),e[3]=i,e[4]=o):o=e[4],e[5]!==t?(s=!t&&(0,p.__)("No menu items available","simplybook"),e[5]=t,e[6]=s):s=e[6],e[7]!==a||e[8]!==o||e[9]!==s?(l=d().createElement(m.A,{colSpan:3,rowSpan:4,className:"max-w-xs flex-1 pb-2"},n,d().createElement("div",{className:"flex flex-col justify-start"},a,o,s)),e[7]=a,e[8]=o,e[9]=s,e[10]=l):l=e[10],l}let a,o,s;return e[11]===Symbol.for("react.memo_cache_sentinel")?(a=d().createElement(v.A,{title:(0,p.__)("Settings","simplybook"),controls:null}),e[11]=a):a=e[11],e[12]!==t?(o=t.map(E),e[12]=t,e[13]=o):o=e[13],e[14]!==o?(s=d().createElement("div",{className:"col-span-12 lg:col-span-3"},d().createElement(m.A,{className:"flex-1 pb-2 h-max"},a,d().createElement("div",{className:"flex flex-col justify-start"},o))),e[14]=o,e[15]=s):s=e[15],s};w.displayName="SettingsMenu";const _=w;function E(e){return d().createElement(x,{key:e.id,item:e})}var k=r(790);const N=function(e){var t=e.className,r=e.children;return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("aside",{className:(0,o.A)("col-span-12 lg:col-span-3 pt-4",t),children:(0,k.jsxs)("div",{className:"sticky top-16",children:[(0,k.jsx)("h2",{className:"text-xl font-bold pb-2 border-b-1 border-[#e6e6e6]",children:(0,p.__)("Notifications","simplybook")}),(0,k.jsx)("div",{className:"notification-feed",children:r})]})})})};var S=r(5591),j=r(2737);const A=function(){var e=j.Route.useParams().settingsId,t=(0,S.E)().activeNotifications,r=(0,c.useState)(!1),n=r[0],i=r[1],a=(0,c.useState)([]),s=a[0],l=a[1];(0,c.useEffect)((function(){l(t.filter((function(t){return t.route===e})))}),[e,t]);var d=s.length>0,u=0===s.length;return(0,k.jsxs)(k.Fragment,{children:[d&&s.map((function(e){return(0,k.jsxs)("div",{className:"notification-box my-4 "+(t=e.type,(0,o.A)("flex flex-col p-5 rounded-lg shadow-sm",{"bg-red-100":"warning"===t,"bg-blue-100":"info"===t})),children:[(0,k.jsxs)("a",{onClick:function(e){i(!n)},className:"flex flex-row justify-between items-baseline cursor-pointer ease-in-out",children:[(0,k.jsx)("h3",{className:"m-0 text-base",children:e.title}),(0,k.jsx)(g.A,{className:(0,o.A)("ease-in-out duration-300",{"rotate-180":n}),size:"1.5x",name:"chevron-down"})]}),(0,k.jsxs)("div",{className:(0,o.A)("notification-content overflow-hidden ease-in-out",{"max-h-0":n}),children:[(0,k.jsx)("div",{className:" text-sm  py-4 mb-2",children:e.text}),e.action&&e.action.text&&e.action.link&&(0,k.jsx)(f.N_,{to:e.action.link,className:"notification-link text-[#333] text-sm underline",children:e.action.text}),e.action&&e.action.text&&e.action.login_link&&(0,k.jsx)(h.A,{page:e.action.login_link,className:"notification-link text-[#333] text-sm underline",children:e.action.text})]})]},e.id);var t})),u&&(0,k.jsx)("div",{className:"notification-box",children:(0,k.jsx)("p",{className:"text-sm text-gray-400 italic",children:(0,p.__)("You currently have no notifications.","simplybook")})})]})},C=(0,i.uV)("/settings")({component:()=>React.createElement(P,null)}),P=()=>{const e=(0,n.c)(5);let t,r,i,c,d;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=React.createElement(s.A,null),e[0]=t):t=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,o.A)("my-4 w-full grid grid-cols-12 gap-y-4 gap-x-4","lg:gap-y-4"),i=React.createElement(_,null),e[1]=r,e[2]=i):(r=e[1],i=e[2]),e[3]===Symbol.for("react.memo_cache_sentinel")?(c=React.createElement(l.A,null,React.createElement(a.sv,null)),e[3]=c):c=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(d=React.createElement(S.p,null,t,React.createElement("div",{className:"mx-auto flex max-w-screen-2xl w-full"},React.createElement("div",{className:r},i,c,React.createElement(N,null,React.createElement(A,null))))),e[4]=d):d=e[4],d}},2737:(e,t,r)=>{r.r(t),r.d(t,{Route:()=>T});var n=r(6037),i=r(1730),a=r(9785),o=r(6905),s=r(1728),l=r(1609);const c=e=>{const t=(0,s.c)(9),{settingsFormHeight:r}=e,[n,i]=(0,l.useState)(0),[a,o]=(0,l.useState)(!1);let c,d,u,m;if(t[0]!==a?(c=()=>{const e=()=>{const e=document.documentElement.scrollHeight-window.innerHeight,t=Math.round(window.scrollY/e*100);i(t)};return a?(e(),window.addEventListener("scroll",e)):window.removeEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},d=[a],t[0]=a,t[1]=c,t[2]=d):(c=t[1],d=t[2]),(0,l.useEffect)(c,d),t[3]!==a?(u=()=>{const e=document.documentElement.scrollHeight>window.innerHeight;a!==e&&o(e)},t[3]=a,t[4]=u):u=t[4],t[5]!==r?(m=[r],t[5]=r,t[6]=m):m=t[6],(0,l.useEffect)(u,m),!a)return null;const v=`${Math.max(n,5)}%`;let p;return t[7]!==v?(p=React.createElement("div",{className:"h-1 w-full bg-gray-200"},React.createElement("div",{className:"h-full bg-blue-500",style:{width:v}})),t[7]=v,t[8]=p):p=t[8],p};c.displayName="FormScrollProgressLine";const d=c;var u=r(7723),m=r(1888),v=r(790),p=r(1559),f=r(3775),g=function(e){var t=e.className,r=void 0===t?"":t,n=(e.btnVariant,e.getValues),i=(0,l.useState)(!1),a=i[0],o=i[1],s=(0,f.A)().createPreviewWidget,c="rounded-full transition-all duration-200 p-4 cursor-pointer bg-secondary text-white hover:bg-secondary-dark";return r.length>0&&(c=c+" "+r),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("button",{type:"button",className:"flex items-center justify-center rounded-full font-bold  text-sm transition-all duration-200 px-3 py-1 bg-tertiary text-white hover:bg-tertiary-light hover:text-tertiary cursor-pointer flex-row",onClick:function(){var e=[];n&&(e=n()),o(!0),s(e).then((function(e){var t=document.createElement("script");t.id="simplybook-preview-widget-script",t.innerHTML=e.data.widget,document.head.appendChild(t),document.dispatchEvent(new CustomEvent("loadSimplyBookPreviewWidget"))}))},children:(0,u.__)("Preview","simplybook")}),(0,v.jsxs)(p.A,{isOpen:a,onClose:function(){o(!1)},children:[(0,v.jsx)("div",{id:"modal-header",className:"leading-none",children:(0,v.jsx)("h2",{children:(0,u.__)("Preview","simplybook")})}),(0,v.jsx)("div",{id:"sbw_z0hg2i_calendar",className:"h-[70vh] overflow-y-scroll my-4"})]})]})};g.displayName="PreviewButtonInput";const h=g;var y=r(1409),b=r(835),x=r(9964);const w=({onSubmit:e,control:t,getValues:r,settingsFormHeight:n})=>{const o=t?(0,a.lN)({control:t}):{},{isDirty:s=!1,isSubmitting:c=!1,isValidating:v=!1,isValid:p=!0}=o,{crudState:f,dispatch:g,saveItems:w}=(0,x.r)(),{isSavingSettings:_}=(0,i.A)(),E=(0,b.g)({from:"/settings/$settingsId"}),[k,N]=(0,l.useState)(!1),[S,j]=(0,l.useState)(!1);(0,l.useEffect)((()=>{const e=!f.isSaving&&f.providersHasUnsavedChanges&&!Object.keys(f.providerErrors).length>0,t=!f.isSaving&&f.servicesHasUnsavedChanges&&!Object.keys(f.serviceErrors).length>0;switch(f.itemType){case"provider":N(e),j(!f.isSaving&&f.providersHasUnsavedChanges);break;case"service":N(t),j(!f.isSaving&&f.servicesHasUnsavedChanges)}}),[f]),(0,l.useEffect)((()=>{switch(E?.settingsId){case"providers":g({dispatchType:"crudItemTypeChanged",change:{itemType:"provider"}});break;case"services":g({dispatchType:"crudItemTypeChanged",change:{itemType:"service"}});break;default:g({dispatchType:"crudItemTypeChanged",change:{itemType:null}})}}),[E]);const A=[{condition:c,message:(0,u.__)("Saving...","simplybook")},{condition:v,message:(0,u.__)("Validating...","simplybook")},{condition:!p,message:(0,u.__)("Form contains errors","simplybook")},{condition:s,message:(0,u.__)("You have unsaved changes","simplybook")}],C=[{condition:f.generalError,message:f.generalError},{condition:f.isSaving,message:(0,u.__)("Saving...","simplybook")},{condition:S,message:(0,u.__)("You have unsaved changes","simplybook")}],P="providers"===E?.settingsId||"services"===E?.settingsId,R=P?C.find((e=>e.condition)):A.find((e=>e.condition));return React.createElement("div",{className:"sticky bottom-0 start-0 z-10 rounded-b-md bg-gray-50 shadow-md"},React.createElement(d,{settingsFormHeight:n}),React.createElement("div",{className:"flex flex-row justify-end gap-2 items-center p-5 me-2"},R&&React.createElement("p",{className:`text-sm flex items-center gap-2 p-0 m-0 me-2 ${f.generalError&&"text-red-600"}`},R.message),!P&&React.createElement(React.Fragment,null,React.createElement(h,{btnVariant:"tertiary-small",getValues:r}),React.createElement(m.A,{disabled:!s||c||v||_,btnVariant:"secondary-small",onClick:e},c?(0,u.__)("Saving...","simplybook"):(0,u.__)("Save","simplybook"))),P&&React.createElement(React.Fragment,null,React.createElement(m.A,{btnVariant:"tertiary-small",onClick:()=>g({dispatchType:"cancelAllUnsavedChanges"}),disabled:!S},(0,u.__)("Cancel","simplybook")),React.createElement(m.A,{btnVariant:"secondary-small",onClick:()=>(()=>{g({dispatchType:"savingChanged",change:{isSaving:!0}});try{w()}catch(e){g({dispatchType:"generalError",change:{generalError:e.message}})}})(),disabled:!k},(0,u.__)("Save","simplybook")))),React.createElement(y.N9,{toastClassName:"rounded-xl",position:(0,u.isRTL)()?"bottom-left":"bottom-right",autoClose:3e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:(0,u.isRTL)(),pauseOnFocusLoss:!0,pauseOnHover:!0}))};w.displayName="FormFooter";const _=w;var E=r(1674),k=r(7330),N=r(5071),S=r(9815),j=(r(4559),r(4164));const A=(0,l.memo)((e=>{const t=(0,s.c)(16),{group:r,currentGroupFields:n,control:i,isLastGroup:a,formHasSettings:o,getValues:l,setValue:c,reset:d}=e,u=a&&o?"rounded-b-none":"mb-5",m=r.id;let v;t[0]!==u?(v=(0,j.A)(u,""),t[0]=u,t[1]=v):v=t[1];const p=r?.help??"";let f,g,h;return t[2]!==r.title||t[3]!==p?(f=React.createElement(k.A,{className:"mb-[0.70rem]",title:r.title,help:p}),t[2]=r.title,t[3]=p,t[4]=f):f=t[4],t[5]!==i||t[6]!==n||t[7]!==l||t[8]!==d||t[9]!==c?(g=React.createElement(N.A,{className:"px-4"},React.createElement("div",{className:"flex flex-wrap justify-between"},React.createElement(S.A,{fields:n,control:i,getValues:l,setValue:c,reset:d}))),t[5]=i,t[6]=n,t[7]=l,t[8]=d,t[9]=c,t[10]=g):g=t[10],t[11]!==r.id||t[12]!==v||t[13]!==f||t[14]!==g?(h=React.createElement(E.A,{key:m,className:v},f,g),t[11]=r.id,t[12]=v,t[13]=f,t[14]=g,t[15]=h):h=t[15],h}));A.displayName="SettingsGroupBlock";const C=A;var P=r(5959),R=r(4251);const T=(0,n.uV)("/settings/$settingsId")({loader:({params:e})=>(e=>{const t=(window.simplybook?.settings_menu||[]).find((t=>t.id===e));if(!t)throw new Error("Settings not found");return{settingsData:t}})(e.settingsId),component:function(){const{settingsId:e}=T.useParams(),{settings:t,saveSettings:r}=(0,i.A)(),{currentForm:n}=(0,o.A)(),s=new R.A,c=(0,l.useRef)(),[d,m]=(0,l.useState)(),v=(0,l.useMemo)((()=>t.filter((t=>t.menu_id===e))),[t,e]),p=(0,l.useMemo)((()=>O(t,e)),[t,e]),f=(0,l.useMemo)((()=>n.groups[n.groups.length-1]),[n.groups]),g=n.has_settings??!0,{handleSubmit:h,control:y,reset:b,setValue:w,formState:{isDirty:E},getValues:k}=(0,a.mN)({defaultValues:p});return(0,l.useEffect)((()=>{b(p)}),[e,p]),(0,l.useEffect)((()=>{new ResizeObserver((e=>{for(const t of e)t.contentRect.height!==d&&m(t.contentRect.height)})).observe(c.current)}),[]),(0,P.K)({enableBeforeUnload:E,shouldBlockFn:()=>{if(!E)return!1;const e=window.confirm((0,u.__)("You have unsaved changes. Are you sure you want to leave?\n\nYour changes will be lost.","simplybook"));return e&&b(p,{keepDirty:!1}),!e}}),React.createElement(x.V,null,React.createElement("form",{className:"col-span-12 lg:col-span-6",ref:c},n.groups?.map((e=>{const t=f.id===e.id,r=v.filter((t=>t.group_id===e.id));return React.createElement(C,{key:e.id,group:e,currentGroupFields:r,control:y,isLastGroup:t,formHasSettings:g,getValues:k,setValue:w,reset:b})})),g&&React.createElement(_,{getValues:k,onSubmit:h((e=>{r(e).then((()=>(b(e),void s.setMessage((0,u.__)("Settings saved successfully","simplybook")).setType("success").render()))).catch((e=>(e=>{const t=e?.data?.errors;if(!t)return console.error("Error saving settings:",e);t.map((e=>{s.setMessage(e.message).setType("error").render()}))})(e)))})),control:y,settingsFormHeight:d})))}}),O=(e,t)=>{const r={};return e.forEach((e=>{if(e.menu_id===t)if(e?.sub_settings)Object.entries(e.sub_settings).forEach((([t,n])=>{r[e.id]||(r[e.id]={});let i=n.default??"";r[e.id][t]=n.value??i}));else{let t=e.default??"";r[e.id]=e.value??t}})),r}}}]);