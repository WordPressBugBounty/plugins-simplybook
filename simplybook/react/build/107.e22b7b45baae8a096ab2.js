"use strict";(globalThis.webpackChunksimplybook_app=globalThis.webpackChunksimplybook_app||[]).push([[46,107],{6778:(e,t,n)=>{n.d(t,{h:()=>o});var a=n(1609);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r.apply(null,arguments)}var o=function(e){return a.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",className:"logo_svg__header--logo-image",viewBox:"0 0 122.55 18.92"},e),a.createElement("g",{"data-name":"Layer 2"},a.createElement("g",{"data-name":"Layer 1"},a.createElement("path",{d:"M4.61 5.9A9.3 9.3 0 0 0 7 6.91l1.1.37a9 9 0 0 1 1 .39l.35.14 3.15-3h.22L4.19 17.05 0 13.27l2.16-2.18 2 1.83 3-2.89c-.43-.16-.93-.32-1.53-.49a10.1 10.1 0 0 1-3.28-1.48 3.89 3.89 0 0 1-1.51-3.3A4.26 4.26 0 0 1 2.37 1.3 5.62 5.62 0 0 1 6.1 0a6 6 0 0 1 5.28 2.84L9.15 5.11a3.2 3.2 0 0 0-3.05-2C4.79 3.07 4 3.73 4 4.67a1.5 1.5 0 0 0 .61 1.23m7.65 5.93a4.31 4.31 0 0 1-1.62 3.53 6.35 6.35 0 0 1-4 1.3l5-7a4.3 4.3 0 0 1 .62 2.17",style:{fill:"#2eabe2",fillRule:"evenodd"}}),a.createElement("path",{d:"M14.92 3.13a1.4 1.4 0 0 0-1.39 1.37 1.4 1.4 0 0 0 2.79 0 1.4 1.4 0 0 0-1.4-1.37m-1.13 12.35h2.27V6.89h-2.27Zm13.64-8.83a3 3 0 0 0-2.62 1.24 2.61 2.61 0 0 0-2.39-1.24A2.76 2.76 0 0 0 20 7.8v-.91h-2.29v8.59H20v-4.83c0-1.25.65-1.94 1.66-1.94s1.47.6 1.47 1.63v5.14h2.27v-4.83c0-1.25.6-1.94 1.64-1.94s1.47.6 1.47 1.63v5.14h2.27v-5.29a3.22 3.22 0 0 0-3.35-3.54m10 0a3.43 3.43 0 0 0-2.82 1.25v-1h-2.26v12h2.26v-4.44a3.44 3.44 0 0 0 2.85 1.26 4 4 0 0 0 3-1.31 4.5 4.5 0 0 0 1.26-3.23A4.46 4.46 0 0 0 40.49 8a4.06 4.06 0 0 0-3.03-1.35Zm1.32 6.28a2.43 2.43 0 0 1-4.17-1.75 2.32 2.32 0 0 1 .69-1.73 2.54 2.54 0 0 1 3.48 0 2.26 2.26 0 0 1 .7 1.73 2.3 2.3 0 0 1-.67 1.75ZM43 15.48h2.27V2.94H43Zm7.67-2.82-2.33-5.77h-2.48l3.6 8.31a2.14 2.14 0 0 1-2.3 1.65v2.06c2.25.12 3.73-1 4.64-3.43L55 6.89h-2.43Zm12.5-3.42a2.88 2.88 0 0 0 1.16-2.4 3.05 3.05 0 0 0-1.09-2.42 3.84 3.84 0 0 0-2.65-1h-4.9v12h5.22a4 4 0 0 0 2.72-1A3.22 3.22 0 0 0 64.74 12a3 3 0 0 0-1.62-2.76Zm-5-3.57h2.43A1.28 1.28 0 0 1 61.86 7a1.29 1.29 0 0 1-1.32 1.33h-2.43Zm2.8 7.59h-2.8v-2.83h2.8a1.42 1.42 0 1 1 0 2.83m9.23-6.61A4.6 4.6 0 0 0 66.83 8a4.32 4.32 0 0 0-1.33 3.21 4.35 4.35 0 0 0 1.33 3.23 4.82 4.82 0 0 0 6.61 0 4.34 4.34 0 0 0 1.36-3.23A4.3 4.3 0 0 0 73.44 8a4.57 4.57 0 0 0-3.3-1.35Zm1.7 6.23a2.38 2.38 0 0 1-4.08-1.7 2.41 2.41 0 0 1 4.08-1.7 2.28 2.28 0 0 1 .69 1.7 2.25 2.25 0 0 1-.75 1.7Zm8.2-6.23A4.57 4.57 0 0 0 76.8 8a4.3 4.3 0 0 0-1.34 3.21 4.32 4.32 0 0 0 1.34 3.23 4.82 4.82 0 0 0 6.61 0 4.37 4.37 0 0 0 1.35-3.23A4.34 4.34 0 0 0 83.41 8a4.6 4.6 0 0 0-3.31-1.35m1.71 6.23a2.41 2.41 0 1 1-1.71-4.07 2.37 2.37 0 0 1 1.71.67 2.28 2.28 0 0 1 .68 1.7 2.25 2.25 0 0 1-.68 1.7m8.57-1.75 3.53-4.24H91.2l-3 3.78V3.46h-2.29v12h2.27v-3.9l3.2 3.9H94Z",style:{fill:"#2eabe2"}}),a.createElement("path",{d:"M122.46 12.09h-6.62a2.22 2.22 0 0 0 2.47 1.62 2.34 2.34 0 0 0 2-.86l1.83 1a4.39 4.39 0 0 1-3.83 1.84 4.78 4.78 0 0 1-3.5-1.29 4.35 4.35 0 0 1-1.32-3.25A4.37 4.37 0 0 1 114.76 8a4.48 4.48 0 0 1 3.34-1.31A4.2 4.2 0 0 1 121.29 8a4.45 4.45 0 0 1 1.26 3.22 5 5 0 0 1-.09.87m-4.36-3.45a2.18 2.18 0 0 0-2.3 1.74h4.48a2.11 2.11 0 0 0-2.18-1.74m-8 1.7c0-1-.54-1.63-1.48-1.63S107 9.4 107 10.65v4.83h-2.27v-5.14c0-1-.54-1.63-1.47-1.63s-1.66.69-1.66 1.94v4.83h-2.28V6.89h2.27v.91A2.76 2.76 0 0 1 104 6.65a2.61 2.61 0 0 1 2.39 1.24 3 3 0 0 1 2.62-1.24 3.22 3.22 0 0 1 3.32 3.54v5.29h-2.23Zm-14.74 4.93a1.44 1.44 0 0 1 0-2.06 1.52 1.52 0 0 1 2.11 0 1.44 1.44 0 0 1 0 2.06 1.52 1.52 0 0 1-2.11 0",style:{fillRule:"evenodd",fill:"#26334b"}}))))}},4576:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(9592),r=n(7723),o=function(){return o=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)},i=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{s(a.next(e))}catch(e){o(e)}}function l(e){try{s(a.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((a=a.apply(e,t||[])).next())}))},l=function(e,t){var n,a,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,a&&(r=2&l[0]?a.return:l[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,l[1])).done)return r;switch(a=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,a=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(6===l[0]&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],a=0}finally{n=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}};const s=function(){function e(e){this.route=null,this.getMethodHeaders={"X-WP-NONCE":a.X2},this.postMethodHeaders={"Content-Type":"application/json",Accept:"application/json","X-WP-NONCE":a.X2},this.payload={nonce:a.au},e&&(this.route=a.V_+e)}return e.prototype.get=function(){return i(this,void 0,void 0,(function(){var e,t;return l(this,(function(n){switch(n.label){case 0:if(!this.route)throw new Error((0,r.__)("Route is not set","simplybook"));return[4,fetch(this.route,{method:"GET",headers:this.getMethodHeaders})];case 1:return(e=n.sent()).ok?[3,3]:[4,e.json()];case 2:return t=n.sent(),[2,this.handleError(t)];case 3:return[2,e.json()]}}))}))},e.prototype.post=function(e){return i(this,void 0,void 0,(function(){var t,n,i;return l(this,(function(l){switch(l.label){case 0:if(!(t=null!=e?e:this.payload))throw new Error((0,r.__)("Payload is not set","simplybook"));if(!this.route)throw new Error((0,r.__)("Route is not set","simplybook"));return[4,fetch(this.route,{method:"POST",headers:this.postMethodHeaders,body:JSON.stringify(o(o({},t),{nonce:a.au}))})];case 1:return(n=l.sent()).ok?[3,3]:[4,n.json()];case 2:return i=l.sent(),[2,this.handleError(i)];case 3:return[2,n.json()]}}))}))},e.prototype.setRoute=function(e){return this.route=a.V_+e,this},e.prototype.setHeaders=function(e,t){return"get"===t?(this.getMethodHeaders=o(o({},this.getMethodHeaders),e),this):"post"===t?(this.postMethodHeaders=o(o({},this.postMethodHeaders),e),this):this},e.prototype.setPayload=function(e){return this.payload=o(o({},this.payload),e),this},e.prototype.handleError=function(e){var t=(0,r.__)("An error occurred","simplybook");throw"string"==typeof e&&(t=e),(null==e?void 0:e.message)&&(t=e.message),(null==e?void 0:e.error)&&(t=e.error),new Error(t)},e}()},1674:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(790),r=n(1609),o=n(4164),i=(0,r.memo)((function(e){var t=e.className,n=void 0===t?"":t,r=e.children;return(0,a.jsx)("div",{className:(0,o.A)("content-block bg-white shadow-md rounded-xl flex flex-col pb-4",n),children:r})}));i.displayName="Block";const l=i},1888:(e,t,n)=>{n.d(t,{A:()=>c});var a=n(790),r=n(4164),o=n(9681),i=n(1577),l=n(1314),s=function(e){var t=e.className,n=void 0===t?"":t,s=e.children,c=e.link,d=void 0===c?"":c,u=e.linkClassName,m=void 0===u?"":u,p=e.btnVariant,f=e.disabled,g=void 0!==f&&f,y=e.target,b=e.loginLink,h=void 0===b?"":b,v=(e.icon,e.iconName),x=void 0===v?"":v,_=e.iconSize,w=void 0===_?"":_,k=e.iconClass,E=void 0===k?"":k,N=e.iconStyle,A=e.onClick,S=e.reverseIcon,j=void 0!==S&&S,R=(0,l.A)().fetchLinkData,O=(0,r.A)("flex items-center justify-center rounded-full transition-all duration-200 px-3 py-1",{"bg-primary text-white hover:bg-primary-dark !p-4 text-base":"primary"==p,"bg-primary text-white hover:bg-primary-dark ":"primary-small"==p,"bg-secondary text-white hover:bg-secondary-dark !p-4 text-base":"secondary"==p,"bg-secondary text-white hover:bg-secondary-dark ":"secondary-small"==p,"bg-tertiary text-white hover:bg-tertiary-light hover:text-tertiary !p-4 text-base":"tertiary"==p,"bg-tertiary text-white hover:bg-tertiary-light hover:text-tertiary":"tertiary-small"==p,"border-2 border-black bg-transparent !p-4 text-base":"ghost"==p,"border-2 border-black bg-transparent":"ghost-small"==p,"bg-primary text-white rounded-md hover:bg-primary-dark !p-4 text-base":"square"==p,"rounded-md text-white":"square-small"==p,"border-2 border-primary text-primary rounded-md !p-4 text-base":"square-ghost"==p,"border-2 border-primary text-primary rounded-md":"square-ghost-small"==p}),C=g?"opacity-50 cursor-not-allowed pointer-events-none":"",P=j?"flex-row-reverse":"flex-row";return n.length>0&&(O=O+" "+n),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(o.N_,{className:(0,r.A)(m,"text-sm font-semibold",C),to:d,onClick:h?function(e){return function(e,t){e.preventDefault(),R().then((function(e){var n,a=null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.simplybook_external_login_url;if(a){var r="".concat(a,"/").concat(t,"/");a.includes("by-hash")&&(r="".concat(a,"?back_url=/").concat(t,"/")),window.open(r,"_blank"),window.focus()}else console.error("No link found in response")})).catch((function(e){console.error("Error fetching login URL:",e)}))}(e,h)}:A,target:y,children:(0,a.jsxs)("div",{className:(0,r.A)(O,P,n),children:[x&&(0,a.jsx)(i.A,{className:(0,r.A)(E,{"mr-2":!j,"ml-2":j}),name:x,size:w,style:N}),s]})})})};s.displayName="ButtonLink";const c=s},2846:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(790),r=n(4164);const o=function(e){var t=e.className,n=e.children,o=e.labelVariant,i={"border-2 border-blac text-xs ":"ghost"===o,"bg-succes-light text-succes":"trial"===o,"bg-yellow-100 text-yellow-900":"warning"===o,"bg-red-100 text-red-600":"trial-expired"===o,"bg-yellow-900 text-black":"task-open"===o,"bg-red-600 text-white":"task-urgent"===o,"bg-slate-600 text-white":"task-premium"===o,"bg-succes text-white":"task-completed"===o},l=(0,r.A)("py-1 px-2 min-w-20 text-center text-sm rounded-md font-semibold",i,t);return(0,a.jsx)("span",{className:(0,r.A)(l,t),children:n})}},5946:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(790),r=n(1577),o=n(7008);const i=function(e){var t=e.message,n=e.type,i=e.iconType,l=void 0===i?"":i,s=e.iconColor,c=void 0===s?"":s;if(!l||!c)switch(n){case"warning":l="warning-circle",c="var(--color-yellow-500)";break;case"error":l="warning-circle",c="var(--color-red-500)";break;default:l="info-circle",c="var(--color-black-900)"}return t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.A,{name:l,color:c,className:"tooltip-icon ml-2","data-tooltip-id":"field-tooltip","data-tooltip-content":t,"aria-hidden":"false","aria-label":t}),(0,a.jsx)(o.m_,{id:"field-tooltip",place:"bottom",openEvents:{mouseover:!0,focus:!0,click:!0}})]}):null}},7967:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(790),r=n(5920),o=n(1609);var i=n(5946),l=(0,o.memo)((function(e){var t=e.label,n=e.context,o=e.tooltip,l=e.reverseLabel,s=void 0!==l&&l,c=e.className,d=void 0===c?"":c,u=e.inputId,m=e.required,p=void 0!==m&&m,f=e.type,g=void 0===f?"text":f,y=e.children,b=e.fieldState,h=function(e){var t="pattern"==e.type,n="invalid-field";return"required"==e.type&&(n+="-required"),t&&(n+="-regex"),n},v=["flex flex-col",d,"mb-4",(null==b?void 0:b.error)?h(null==b?void 0:b.error):""].filter(Boolean).join(" "),x=["flex flex-col w-full",s?"flex-col-reverse":""].filter(Boolean).join(" ");return(0,a.jsxs)("div",{className:v,children:[(0,a.jsxs)("div",{className:x,children:["checkbox"===g&&y,t&&(0,a.jsxs)(r.b,{className:"cursor-pointer pb-1 font-medium text-black text-label ",htmlFor:u,children:[t,p,o&&(0,a.jsx)(i.A,{message:null==o?void 0:o.message,type:null==o?void 0:o.type})]}),"checkbox"!==g&&y]}),n&&(0,a.jsx)("p",{className:"mt-2 text-xs font-light text-gray-600",children:n})]})}));l.displayName="FieldWrapper";const s=l},8908:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(790),r=n(4164),o=function(e){var t=e.className,n=void 0===t?"":t,o=e.type,i=e.children,l=e.onClick,s=e.btnVariant,c=void 0===s?"primary":s,d=e.disabled,u=void 0!==d&&d,m=(0,r.$)("flex items-center justify-center rounded-full transition-all duration-200 px-3 py-1",{"bg-primary text-white hover:bg-primary-dark !p-4 text-base":"primary"==c,"bg-primary text-white hover:bg-primary-dark ":"primary-small"==c,"bg-secondary text-white hover:bg-secondary-dark !p-4 text-base":"secondary"==c,"bg-secondary text-white hover:bg-secondary-dark ":"secondary-small"==c,"bg-tertiary text-white hover:bg-tertiary-light hover:text-tertiary !p-4 text-base":"tertiary"==c,"bg-tertiary text-white hover:bg-tertiary-light hover:text-tertiary":"tertiary-small"==c,"border-2 border-black bg-transparent !p-4 text-base":"ghost"==c,"border-2 border-black bg-transparent":"ghost-small"==c,"bg-primary text-white rounded-md hover:bg-primary-dark !p-4 text-base":"square"==c,"rounded-md text-white":"square-small"==c,"border-2 border-primary text-primary rounded-md !p-4 text-base":"square-ghost"==c,"border-2 border-primary text-primary rounded-md":"square-ghost-small"==c,"opacity-50 cursor-not-allowed":u,"cursor-pointer":!u});return n.length>0&&(m=m+" "+n),(0,a.jsx)("button",{type:o,onClick:l,className:m,disabled:u,children:i})};o.displayName="ButtonInput";const i=o},359:(e,t,n)=>{n.d(t,{A:()=>c});var a=n(790),r=n(1609),o=n.n(r),i=n(4164),l=function(){return l=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},l.apply(this,arguments)},s=function(e){var t=e.name,n=e.placeholder,r=e.type,s=e.className,c=e.clickToSelect,d=void 0!==c&&c,u=e.disabled,m=void 0!==u&&u,p=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["name","placeholder","type","className","clickToSelect","disabled"]),f=o().useState("Copy"),g=f[0],y=f[1],b=o().useState(!1),h=b[0],v=b[1],x=function(){var e=document.querySelector(".copy-button");document.querySelector(".copy-input"),"string"==typeof p.value&&navigator.clipboard.writeText(p.value).then((function(){if(!e)throw new Error("Button not found");y("Copied!"),v(!0),setTimeout((function(){y("Copy"),v(!1)}),1e3)})).catch((function(e){console.error("Error copying text: ",e)}))},_=m?"bg-gray-200 border-gray-200 text-black cursor-not-allowed":"";return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"w-full relative",children:[(0,a.jsx)("input",l({name:t,placeholder:n,type:r,onClick:d?x:void 0,className:(0,i.A)("input-base copy-input transition-[border-color] duration-300 ease-in-out "+_+" "+s),disabled:m},p)),d&&g&&(0,a.jsx)("button",{onClick:d?x:void 0,type:"button","aria-label":t,className:(0,i.A)(h?"bg-green-100 text-green-600":"bg-gray-50 text-gray-600","absolute cursor-pointer right-[0.5rem] top-5.5 transform -translate-y-1/2 rounded-md px-2 py-1 text-xs font-semibold copy-button"),children:g})]})})};s.displayName="TextInput";const c=s},5591:(e,t,n)=>{n.d(t,{p:()=>u,E:()=>d});var a=n(790),r=n(1609),o=n(9270),i=n(4576);var l=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},s={activeNotifications:[],getNotification:function(){},triggerNotification:function(){return!1},triggerNotificationById:function(){return!1},getAllNotifications:function(){return!1}},c=(0,r.createContext)(s),d=function(){return(0,r.useContext)(c)},u=function(e){var t=e.children,n=function(){var e,t="get_notices",n=new i.A,a=(0,o.I)({queryKey:[t],queryFn:function(){return n.setRoute(t).get()},staleTime:3e5}),r=a.data,l=a.isLoading,s=a.error;return null!==s&&console.error("Error fetching notices: ",s.message),{allNotices:null==r?void 0:r.data,isLoading:l,hasError:null!==s,message:null!==(e=null==r?void 0:r.message)&&void 0!==e?e:null==s?void 0:s.message}}(),s=n.allNotices,d=n.isLoading,u=(0,r.useState)([]),m=u[0],p=u[1];(0,r.useEffect)((function(){if(s){var e=s.filter((function(e){return e.active}));e.length>0&&p((function(t){var n=e.filter((function(e){return!t.some((function(t){return t.id===e.id}))}));return l(l([],t,!0),n,!0)}))}}),[s]);var f=function(e){return s.find((function(t){return t.id===e}))},g=function(e){p((function(t){return t.some((function(t){return t.id===e.id}))?t:l(l([],t,!0),[e],!1)}))};if(!d)return(0,a.jsx)(c.Provider,{value:{activeNotifications:m,getNotification:f,triggerNotification:g,triggerNotificationById:function(e){var t=f(e);if(!t)return console.warn('Notification "'.concat(e,'" not found'));g(t)},getAllNotifications:function(){return m}},children:t})}},1314:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(7665),r=n(9270),o=n(4576),i={data:{simplybook_external_login_url:""}};const l=function(){var e=(0,a.jE)(),t="get_login_url",n=new o.A(t),l=(0,r.I)({queryKey:[t],queryFn:function(){return n.get()},staleTime:36e5,retry:0,enabled:!1,initialData:i,refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1});return{loginData:l.data,fetchLinkData:function(){return n=void 0,a=void 0,o=function(){var n;return function(e,t){var n,a,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,a&&(r=2&l[0]?a.return:l[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,l[1])).done)return r;switch(a=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,a=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(6===l[0]&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],a=0}finally{n=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}}(this,(function(a){switch(a.label){case 0:return[4,l.refetch()];case 1:return n=a.sent(),e.setQueryData([t],null==n?void 0:n.data),[2,null==n?void 0:n.data]}}))},new((r=void 0)||(r=Promise))((function(e,t){function i(e){try{s(o.next(e))}catch(e){t(e)}}function l(e){try{s(o.throw(e))}catch(e){t(e)}}function s(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,l)}s((o=o.apply(n,a||[])).next())}));var n,a,r,o}}}},3042:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(9270),r=n(1439),o=n(4576),i=n(5591);const l=function(){var e,t,n,l,s,c,d,u,m,p,f,g,y,b,h,v,x,_,w,k,E,_x,N,A,S,j,R,O,C,P,q,L,I,F=(0,r.A)().onboardingCompleted,T=(0,i.E)().triggerNotificationById,V="subscription_data",H=new o.A(V),B=(0,a.I)({queryKey:[V],queryFn:function(){return H.get()},staleTime:36e5,retry:0,enabled:!!F}),M=B.isLoading,D=B.error,z=B.data;return null!==D&&console.error("Error fetching subscription data: ",D.message),0===(null===(n=null===(t=null===(e=null==z?void 0:z.data)||void 0===e?void 0:e.limits)||void 0===t?void 0:t.provider_limit)||void 0===n?void 0:n.rest)&&T("maxed_out_providers"),{subscription:null==z?void 0:z.data,subscriptionPlan:null!==(s=null===(l=null==z?void 0:z.data)||void 0===l?void 0:l.subscription_name)&&void 0!==s?s:"",expiresIn:null!==(d=null===(c=null==z?void 0:z.data)||void 0===c?void 0:c.expire_in)&&void 0!==d?d:0,isExpired:null!==(m=null===(u=null==z?void 0:z.data)||void 0===u?void 0:u.is_expired)&&void 0!==m&&m,smsRemaining:null!==(y=null===(g=null===(f=null===(p=null==z?void 0:z.data)||void 0===p?void 0:p.limits)||void 0===f?void 0:f.sms_limit)||void 0===g?void 0:g.rest)&&void 0!==y?y:0,smsTotal:null!==(x=null===(v=null===(h=null===(b=null==z?void 0:z.data)||void 0===b?void 0:b.limits)||void 0===h?void 0:h.sms_limit)||void 0===v?void 0:v.total)&&void 0!==x?x:0,bookingsRemaining:null!==(E=null===(k=null===(w=null===(_=null==z?void 0:z.data)||void 0===_?void 0:_.limits)||void 0===w?void 0:w.sheduler_limit)||void 0===k?void 0:k.rest)&&void 0!==E?E:0,bookingsTotal:null!==(S=null===(A=null===(N=null===(_x=null==z?void 0:z.data)||void 0===_x?void 0:_x.limits)||void 0===N?void 0:N.sheduler_limit)||void 0===A?void 0:A.total)&&void 0!==S?S:0,providersRemaining:null!==(C=null===(O=null===(R=null===(j=null==z?void 0:z.data)||void 0===j?void 0:j.limits)||void 0===R?void 0:R.provider_limit)||void 0===O?void 0:O.rest)&&void 0!==C?C:0,providersTotal:null!==(I=null===(L=null===(q=null===(P=null==z?void 0:z.data)||void 0===P?void 0:P.limits)||void 0===q?void 0:q.provider_limit)||void 0===L?void 0:L.total)&&void 0!==I?I:0,isLoading:M,hasError:null!==D}}},7062:(e,t,n)=>{n.d(t,{A:()=>c});var a=n(7665),r=n(9270),o=n(7097),i=n(4576),l=n(1439),s=function(){return s=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s.apply(this,arguments)};const c=function(){var e,t={urgent:0,open:10,completed:20,dismissed:30,hidden:40},n=(0,a.jE)(),c=(0,l.A)().onboardingCompleted,d="get_tasks",u=new i.A,m=(0,r.I)({queryKey:[d],queryFn:function(){return u.setRoute(d).get()},staleTime:3e5,retry:0,enabled:!!c}),p=m.data,f=m.isLoading,g=m.error;null!==g&&console.error("Error fetching tasks: ",g.message);var y=[];Array.isArray(null==p?void 0:p.data)&&(y=null==p?void 0:p.data.map((function(e){var n,a=null!==(n=t[e.status])&&void 0!==n?n:69;return(e.premium||e.special_feature)&&(a=15),s(s({},e),{priority:a})})).sort((function(e,t){return e.priority-t.priority})),y=y.filter((function(e){return"hidden"!==e.status})));var b=(0,o.n)({mutationFn:function(e){return t=void 0,n=void 0,r=function(){return function(e,t){var n,a,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,a&&(r=2&l[0]?a.return:l[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,l[1])).done)return r;switch(a=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,a=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(6===l[0]&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],a=0}finally{n=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}}(this,(function(t){return[2,u.setRoute("dismiss_task").setPayload({taskId:e}).post()]}))},new((a=void 0)||(a=Promise))((function(e,o){function i(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(i,l)}s((r=r.apply(t,n||[])).next())}));var t,n,a,r},onSuccess:function(){n.invalidateQueries({queryKey:[d]})},onError:function(e){console.error("Error dismissing task: ",e.message)}}).mutate;return{tasks:y,isLoading:f,hasError:null!==g,message:null!==(e=null==p?void 0:p.message)&&void 0!==e?e:null==g?void 0:g.message,dismissTask:b,getRemainingTasks:function(){return y.filter((function(e){return["open","urgent"].includes(e.status)}))},getCompletionPercentage:function(){var e=y.length,t=y.filter((function(e){return"dismissed"===e.status||"completed"===e.status})).length;return Math.round(t/e*100)}}}},9592:(e,t,n)=>{n.d(t,{DN:()=>o,V_:()=>i,W6:()=>l,X2:()=>r,au:()=>a,e8:()=>s});const a=simplybook.nonce,r=simplybook.x_wp_nonce,o=simplybook.rest_namespace+"/"+simplybook.rest_version+"/",i=simplybook.rest_url+simplybook.rest_namespace+"/"+simplybook.rest_version+"/",l=c("rest_url"),s=(c("ajax_url"),simplybook.simplybook_domains);function c(e){let t=simplybook[e];return"https:"!==window.location.protocol||t.includes("https://")||(t=t.replace("http://","https://")),t}},5424:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(5204);const r=async({data:e=!0})=>await(0,a.A)("onboarding/register_email","POST",{data:e})},1793:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(9592);const r=()=>a.W6.includes("?")?"&":"?"},5204:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(1455),r=n.n(a);var o=n(1793);var i=n(9592);const l=async(e,t="POST",n={})=>{const a={path:e,method:t,data:n};a.path=i.DN+a.path+(0,o.A)()+"&token="+Math.random().toString(36).substring(2,7),a.data={...n,nonce:i.au},"GET"===t&&console.log("the request method is not adjusted for GET requests yet. ");try{return await(async(e,t="POST",n={})=>{const a={path:e,method:t,data:n};return await r()(a)})(a.path,a.method,a.data)}catch(e){((e,t)=>{console.error(`API Error at ${t}:`,e.message||e)})(e,a.path)}}},5071:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(1728),r=n(4164);const o=e=>{const t=(0,a.c)(5),{children:n,className:o}=e,i=void 0===o?"":o;let l,s;return t[0]!==i?(l=(0,r.A)("block-content flex-grow",i),t[0]=i,t[1]=l):l=t[1],t[2]!==n||t[3]!==l?(s=React.createElement("div",{className:l},n),t[2]=n,t[3]=l,t[4]=s):s=t[4],s};o.displayName="BlockContent";const i=o},4559:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(1728),r=n(4164);const o=e=>{const t=(0,a.c)(5),{children:n,className:o}=e,i=void 0===o?"":o;let l,s;return t[0]!==i?(l=(0,r.A)("block-footer flex px-4",i),t[0]=i,t[1]=l):l=t[1],t[2]!==n||t[3]!==l?(s=React.createElement("div",{className:l},n),t[2]=n,t[3]=l,t[4]=s):s=t[4],s};o.displayName="BlockFooter";const i=o},7330:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(1728),r=n(4164);const o=e=>{const t=(0,a.c)(14),{title:n,controls:o,className:i,help:l}=e,s=void 0===i?"":i,c=void 0===l?"":l,d=c?"pt-4":"py-4";let u,m,p,f,g;return t[0]!==s||t[1]!==d?(u=(0,r.A)(s,"flex items-center justify-between px-4 py-5",d),t[0]=s,t[1]=d,t[2]=u):u=t[2],t[3]!==n?(m=React.createElement("h2",{className:"text-lg font-semibold m-0"},n),t[3]=n,t[4]=m):m=t[4],t[5]!==o||t[6]!==u||t[7]!==m?(p=React.createElement("div",{className:u},m,o),t[5]=o,t[6]=u,t[7]=m,t[8]=p):p=t[8],t[9]!==c?(f=c&&React.createElement("div",{className:"px-4 pb-4 text-sm text-gray-500"},c),t[9]=c,t[10]=f):f=t[10],t[11]!==p||t[12]!==f?(g=React.createElement(React.Fragment,null,p,f),t[11]=p,t[12]=f,t[13]=g):g=t[13],g};o.displayName="BlockHeading";const i=o},5212:(e,t,n)=>{n.d(t,{A:()=>u});var a=n(1728),r=n(1609),o=n.n(r),i=n(1439),l=n(7723);const s=()=>{const e=(0,a.c)(21),[t,n]=(0,r.useState)(0),{onboardingCompleted:s}=(0,i.A)(),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(0);let p,f,g;e[0]!==u||e[1]!==s?(p=()=>{const e=setInterval((()=>{n((t=>{let n=t+.3333333333333333;return n>90&&!s&&(d(!0),n=5,m(u+1)),u>5&&!s&&(n=100),n>=100?(clearInterval(e),d(!1),100):n}))}),100);return()=>clearInterval(e)},e[0]=u,e[1]=s,e[2]=p):p=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(f=[],e[3]=f):f=e[3],(0,r.useEffect)(p,f),e[4]===Symbol.for("react.memo_cache_sentinel")?(g=window.location.href.includes("onboarding"),e[4]=g):g=e[4];const y=g,b=y?"animate-pulse":"";let h,v,x,_,w,k,E,N,A,S;return e[5]!==t?(h=y&&o().createElement("div",{className:"w-full"},o().createElement("div",{className:"w-full h-1 bg-gray-200 rounded-t-lg overflow-hidden"},o().createElement("div",{className:"h-full bg-blue-500 transition-all duration-100",style:{width:`${t}%`}}))),e[5]=t,e[6]=h):h=e[6],e[7]!==u||e[8]!==c?(v=y&&o().createElement(o().Fragment,null,u<=5&&o().createElement(o().Fragment,null,!c&&o().createElement("p",null,(0,l.__)("Please wait while your registration is being processed. This usually takes about 30 seconds.","simplybook")),c&&o().createElement("p",null,(0,l.__)("This is taking a bit longer than expected. Please wait while we retry a few times.","simplybook"))),u>5&&o().createElement("p",null,(0,l.__)("We're sorry, but it seems there is a problem with your registration. Please try again later.","simplybook"))),e[7]=u,e[8]=c,e[9]=v):v=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(x=!y&&o().createElement("p",null,(0,l.__)("Please complete the onboarding first to register your account.","simplybook")),e[10]=x):x=e[10],e[11]!==v?(_=o().createElement("div",{className:"text-gray-400 text-center p-3  bg-gray-100"},v,x),e[11]=v,e[12]=_):_=e[12],e[13]===Symbol.for("react.memo_cache_sentinel")?(w=o().createElement("div",{className:"p-4"},o().createElement("div",{className:"text-center h-40"},o().createElement("div",{className:"w-full h-full bg-gray-100 rounded-md"}))),e[13]=w):w=e[13],e[14]===Symbol.for("react.memo_cache_sentinel")?(k=o().createElement("h4",{className:"text-gray-700 font-bold mb-4"},o().createElement("div",{className:"h-6 bg-gray-100 rounded-md"})),e[14]=k):k=e[14],e[15]===Symbol.for("react.memo_cache_sentinel")?(E=o().createElement("div",{className:"grid grid-cols-3 gap-3"},o().createElement("div",{className:"text-white text-center py-2 rounded-md bg-gray-100 w-full h-10"}),o().createElement("div",{className:"text-white text-center py-2 rounded-md bg-gray-100 w-full h-10"}),o().createElement("div",{className:"text-white text-center py-2 rounded-md bg-gray-100 w-full h-10"}),o().createElement("div",{className:"text-white text-center py-2 rounded-md bg-gray-100 w-full h-10"}),o().createElement("div",{className:"text-white text-center py-2 rounded-md bg-gray-100 w-full h-10"}),o().createElement("div",{className:"text-white text-center py-2 rounded-md bg-gray-100 w-full h-10"})),e[15]=E):E=e[15],e[16]===Symbol.for("react.memo_cache_sentinel")?(N=o().createElement("span",{className:"inline-block w-3 h-3 rounded-full bg-gray-100"}),e[16]=N):N=e[16],e[17]===Symbol.for("react.memo_cache_sentinel")?(A=o().createElement("div",{className:"p-4 border-t"},k,E,o().createElement("div",{className:"text-gray-500 text-sm mt-3"},N," - ",o().createElement("span",{className:"font-medium"}))),e[17]=A):A=e[17],e[18]!==h||e[19]!==_?(S=o().createElement("div",{className:"w-full max-w-md bg-white shadow-md mt-5 "+b},h,_,w,A),e[18]=h,e[19]=_,e[20]=S):S=e[20],S};var c=n(3775),d=n(7493);const u=e=>{const t=(0,a.c)(12),{primary:n,secondary:o,active:i,onboardingCompleted:l}=e,{createPreviewWidget:u}=(0,c.A)(),{startPolling:p,pollingEnabled:f,pollingSuccess:g}=(0,d.A)();let y,b,h;t[0]!==f||t[1]!==p?(y=()=>{!1===f&&p()},t[0]=f,t[1]=p,t[2]=y):y=t[2],t[3]!==l?(b=[l],t[3]=l,t[4]=b):b=t[4],(0,r.useEffect)(y,b),t[5]!==i||t[6]!==g||t[7]!==n||t[8]!==o?(h=[n,o,i,g],t[5]=i,t[6]=g,t[7]=n,t[8]=o,t[9]=h):h=t[9],(0,r.useEffect)((()=>{g&&v(n,o,i)}),h);const v=(e,t,n)=>{u({onboarding:!0,primary:e,secondary:t,active:n}).then(m)};if(!l){let e;return t[10]===Symbol.for("react.memo_cache_sentinel")?(e=React.createElement(s,null),t[10]=e):e=t[10],e}let x;return t[11]===Symbol.for("react.memo_cache_sentinel")?(x=React.createElement("div",{id:"sbw_z0hg2i_calendar",className:" w-full -mt-20",style:{height:"1200px"}}),t[11]=x):x=t[11],x};function m(e){const t=document.createElement("script");t.id="simplybook-preview-widget-script",t.innerHTML=e.data.widget,document.body.appendChild(t),document.dispatchEvent(new CustomEvent("loadSimplyBookPreviewWidget"))}},9361:(e,t,n)=>{n.d(t,{A:()=>b});var a=n(4676),r=n(9681),o=n(6778),i=n(323),l=n(7723),s=n(1609),c=n(1439),d=n(3042),u=n(7062),m=(n(1577),n(1888)),p=n(2846),f=n(790);const g=function(e){var t=(0,s.useState)(null),n=t[0],a=t[1];return(0,s.useEffect)((function(){var e,t;if(null===(t=null===(e=window.simplybook)||void 0===e?void 0:e.support)||void 0===t?void 0:t.enabled){var n=document.createElement("script");n.id="la_x2s6df8d",n.defer=!0,n.src=window.simplybook.support.widget.url,n.onload=function(){if(window.LiveAgent){var e=window.LiveAgent.createButton("0r62zimg",n);a(e)}},document.head.appendChild(n)}}),[]),(0,f.jsx)("div",{onClick:function(){(null==n?void 0:n.onClick)&&n.onClick()},className:"bg-transparent text-primary text-base font-bold px-3 py-1 rounded border-2 border-primary cursor-pointer text-center",children:(0,l.__)("Live Help","simplybook")})},y=()=>{const{onboardingCompleted:e}=(0,c.A)(),{subscriptionPlan:t,expiresIn:n,isExpired:f,isLoading:y,hasError:b}=(0,d.A)(),{isLoading:h,getRemainingTasks:v}=(0,u.A)(),x=v().length,_=(e,t=!0)=>!1!==(0,a._f)()({to:e,fuzzy:t});(0,s.useEffect)((()=>{e||!location||-1!==window.location.pathname.indexOf("onboarding/")||simplybook.debug||(window.location.href=window.location.href.replace(/page=simplybook-integration.*/,"page=simplybook-integration#/onboarding/create-your-account"))}),[e]);const w="text-base px-4 py-[23px] text-tertiary border-b-4  border-transparent [&.active]:border-tertiary focus:outline-hidden relative ease-in-out duration-300 hover:text-primary";let k=t;return("TRIAL"===t.toUpperCase()||n<30)&&(k=`${t} - ${n} ${(0,l.__)("days left","simplybook")}`),React.createElement("div",{className:"bg-white "},React.createElement("header",{className:"mx-auto flex max-w-screen-2xl flex-wrap xl:flex-wrap pt-4 xl:pt-0 items-center"},React.createElement("div",{className:"self-center"},React.createElement(r.N_,{to:"/"},React.createElement(o.h,{className:" w-40 mr-4"}))),React.createElement("div",{className:"header-navigation flex items-center mr-4 order-6 justify-center w-full pt-4 xl:order-0 xl:justify-normal xl:w-auto xl:p-0"},React.createElement(r.N_,{to:"/",className:w+(_("/dashboard")?" active":"")},!h&&x>0&&React.createElement("div",{className:"notification-bubble flex items-center justify-center absolute -right-0.5 top-2.5 text-center text-xxs w-[18px] h-[18px]  text-white rounded-full bg-red-600 p-2"},x),(0,l.__)("Dashboard","simplybook")),React.createElement(i.A,{iconName:"square-arrow-up-right",iconClass:"px-2",className:w,page:"client"},(0,l.__)("Clients","simplybook")),React.createElement(i.A,{iconName:"square-arrow-up-right",iconClass:"px-2",className:w,page:"index/index"},(0,l.__)("Calendar","simplybook")),React.createElement(r.N_,{to:"/settings/general",className:w+(_("/settings")?" active":"")},(0,l.__)("Settings","simplybook"))),React.createElement(m.A,{className:"border-tertiary-border border-2 bg-tertiary-light hover:bg-tertiary hover:text-white hover:border-primary-border focus:border-tertiary",target:"_blank",link:"https://help.simplybook.me/index.php/Help_Center",icon:!0,iconName:"support",iconSize:"1x",name:"support"},(0,l.__)("Help Center","simplybook")),React.createElement("div",{className:" py-6 w-full ml-auto flex items-center justify-between px-0 xl:py-0 xl:w-auto xl:justify-center xl:gap-6 xl:px-4 "},!y&&!f&&t&&React.createElement(p.A,{labelVariant:"trial"},k),!y&&f&&t&&React.createElement(p.A,{labelVariant:"trial-expired"},t," ",(0,l.__)("is expired.","simplybook")),React.createElement(g,null))))};y.displayName="Header";const b=y},1577:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(1728),r=n(982),o=n(6188),i=n(9656),l=n(7875);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s.apply(null,arguments)}const c={"calendar-day":i.isQ,"calendar-week":i.aXh,retry:i.buE,"square-arrow-up-right":o.fLi,"circle-check":o.QRE,"circle-xmark":o.bnw,warning:o.JAe,spinner:o.z1G,"chevron-down":o.Jt$,"chevron-up":o.w2A,check:o.e68,"info-circle":i.iW_,"warning-circle":i.lEd,times:o.GRI,trophy:o.iHh,"user-group":o.USd,eye:o.pS3,bullhorn:o.e4L,support:i.Bwz,clock:o.a$,circle:o.GEE,cart:o._Ro,"target-blank":o.Ju_,youtube:l.B4m,tips:o.Jew},d=e=>{const t=(0,a.c)(18);let n,i,l,d,u;t[0]!==e?(({name:n,color:l,size:d,className:u,...i}=e),t[0]=e,t[1]=n,t[2]=i,t[3]=l,t[4]=d,t[5]=u):(n=t[1],i=t[2],l=t[3],d=t[4],u=t[5]);const m=void 0===l?"black":l,p=void 0===d?"1x":d,f=void 0===u?"":u;let g=c[n];g||(console.warn(`Icon "${n}" does not exist in iconMap.`),g=o.GEE);const y="spinner"===n;let b,h,v;return t[6]!==n?(b="spinner"===n&&{animationDuration:"2s"},t[6]=n,t[7]=b):b=t[7],t[8]!==m||t[9]!==b?(h={color:m,...b},t[8]=m,t[9]=b,t[10]=h):h=t[10],t[11]!==f||t[12]!==g||t[13]!==i||t[14]!==p||t[15]!==y||t[16]!==h?(v=React.createElement(r.g,s({icon:g,size:p,spin:y,className:f,style:h},i)),t[11]=f,t[12]=g,t[13]=i,t[14]=p,t[15]=y,t[16]=h,t[17]=v):v=t[17],v}},323:(e,t,n)=>{n.d(t,{A:()=>m});var a=n(1728),r=n(1609),o=n.n(r),i=n(1577),l=n(4164),s=n(8908),c=n(1439),d=n(1314);const u=e=>{const t=(0,a.c)(26),{className:n,page:r,isButton:u,size:m,btnVariant:f,children:g,disabled:y,iconName:b,iconSize:h,iconClass:v,iconStyle:x,onClick:_,reverseIcon:w}=e,k=void 0===n?"":n,E=void 0===r?"":r,N=void 0!==u&&u,A=void 0===m?"md":m,S=void 0===f?"primary":f,j=void 0===g?"":g,R=void 0!==y&&y,O=void 0===b?"":b,C=void 0===h?"":h,P=void 0===v?"":v,q=void 0===x?"":x,L=void 0!==w&&w,{fetchLinkData:I}=(0,d.A)();let F;(0,c.A)(),t[0]!==I?(F=(e,t)=>{e.preventDefault(),I().then((e=>{const n=e?.data.simplybook_external_login_url;if(!n)return void console.error("No link found in response");let a=`${n}/${t}/`;n.includes("by-hash")&&(a=`${n}?back_url=/${t}/`),window.open(a,"_blank"),window.focus()})).catch(p)},t[0]=I,t[1]=F):F=t[1];const T=F,V=`${R?"pointer-events-none opacity-50 cursor-not-allowed":""}${k} `;if(N){let e,n;return t[2]!==T||t[3]!==E?(e=e=>T(e,E),t[2]=T,t[3]=E,t[4]=e):e=t[4],t[5]!==S||t[6]!==j||t[7]!==V||t[8]!==R||t[9]!==A||t[10]!==e?(n=o().createElement(s.A,{disabled:R,label:j,onClick:e,className:V,btnVarisant:S,size:A},j),t[5]=S,t[6]=j,t[7]=V,t[8]=R,t[9]=A,t[10]=e,t[11]=n):n=t[11],n}let H,B,M;return t[12]!==T||t[13]!==E?(H=e=>T(e,E),t[12]=T,t[13]=E,t[14]=H):H=t[14],t[15]!==P||t[16]!==O||t[17]!==C||t[18]!==q||t[19]!==L?(B=O.length>0&&o().createElement(i.A,{className:(0,l.A)(P,{"mr-2":!L,"ml-2":L}),name:O,size:C,style:q}),t[15]=P,t[16]=O,t[17]=C,t[18]=q,t[19]=L,t[20]=B):B=t[20],t[21]!==j||t[22]!==V||t[23]!==H||t[24]!==B?(M=o().createElement("a",{href:"#",className:V,onClick:H},j,B),t[21]=j,t[22]=V,t[23]=H,t[24]=B,t[25]=M):M=t[25],M};u.displayName="LoginLink";const m=u;function p(e){console.error("Error fetching login URL:",e)}},332:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(1728),r=n(1609),o=n(8908),i=n(7967),l=n(1577);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s.apply(null,arguments)}const c=(0,r.forwardRef)(((e,t)=>{const n=(0,a.c)(22);let r,c,d,u,m,p;if(n[0]!==e){const{setting:t,label:a,help:o,context:i,className:l,button:s,...f}=e;m=a,u=o,d=i,c=l,r=s,p=f,n[0]=e,n[1]=r,n[2]=c,n[3]=d,n[4]=u,n[5]=m,n[6]=p}else r=n[1],c=n[2],d=n[3],u=n[4],m=n[5],p=n[6];const f=r?.btnVariant,g=r?.disabled,y=r?.showLoader,b=r?.onClick;let h,v,x;return n[7]!==p.showLoader?(h=p.showLoader&&React.createElement(l.A,{color:"white",name:"spinner",size:"1x",className:"mr-2"}),n[7]=p.showLoader,n[8]=h):h=n[8],n[9]!==m||n[10]!==p||n[11]!==f||n[12]!==g||n[13]!==y||n[14]!==b||n[15]!==h?(v=React.createElement(o.A,s({btnVariant:f,disabled:g,showLoader:y,onClick:b},p),h,m),n[9]=m,n[10]=p,n[11]=f,n[12]=g,n[13]=y,n[14]=b,n[15]=h,n[16]=v):v=n[16],n[17]!==c||n[18]!==d||n[19]!==u||n[20]!==v?(x=React.createElement(i.A,{label:"",help:u,context:d,className:c,inputId:""},v),n[17]=c,n[18]=d,n[19]=u,n[20]=v,n[21]=x):x=n[21],x}));c.displayName="ButtonField";const d=c},7581:(e,t,n)=>{n.d(t,{A:()=>m});var a=n(1728),r=n(1609),o=n(790),i=n(5189),l=(0,r.forwardRef)((function(e,t){var n=e.colorValue,a=void 0===n?"#ffffff":n,l=e.onChangeComplete,s=(0,r.useState)(a),c=s[0],d=s[1];return(0,o.jsx)("div",{ref:t,children:(0,o.jsx)(i.xk,{color:c,onChange:function(e){d(e.hex)},onChangeComplete:function(e){return null==l?void 0:l(e.hex)},disableAlpha:!0})})}));l.displayName="ColorPicker";const s=l;var c=n(7967),d=n(9922);n(7493),n(2562);const u=(0,r.forwardRef)(((e,t)=>{const n=(0,a.c)(38);let o,i,l,u,m,f,g,y,b;if(n[0]!==e){const{setting:t,fieldState:a,label:r,help:s,context:c,className:d,onChange:p,defaultValue:h,setColorOnClose:v,...x}=e;b=t,l=a,m=r,u=s,i=c,o=d,f=p,y=v,g=x,n[0]=e,n[1]=o,n[2]=i,n[3]=l,n[4]=u,n[5]=m,n[6]=f,n[7]=g,n[8]=y,n[9]=b}else o=n[1],i=n[2],l=n[3],u=n[4],m=n[5],f=n[6],g=n[7],y=n[8],b=n[9];const[h,v]=(0,r.useState)(b.value||b.default),[x,_]=(0,r.useState)(!1);let w,k,E;n[10]!==h||n[11]!==g.value?(w=()=>{g.value&&g.value!==h&&v(g.value)},n[10]=h,n[11]=g.value,n[12]=w):w=n[12],n[13]!==g.value?(k=[g.value],n[13]=g.value,n[14]=k):k=n[14],(0,r.useEffect)(w,k),n[15]!==h||n[16]!==y?(E=e=>{_(e),!e&&y&&y(h)},n[15]=h,n[16]=y,n[17]=E):E=n[17];const N=E;let A;n[18]!==f?(A=(e,t)=>{v(e),f&&f(e)},n[18]=f,n[19]=A):A=n[19];const S=A;let j;n[20]!==h||n[21]!==S||n[22]!==N||n[23]!==x||n[24]!==b.disabled?(j=e=>{const{label:t}=e,n=b.disabled?"opacity-50 cursor-not-allowed":"cursor-pointer";return React.createElement(React.Fragment,null,React.createElement(d.bL,{open:x,onOpenChange:b.disabled?p:N},React.createElement(d.l9,{className:"p-1 w-full bg-transparent rounded-md border border-gray-400 min-w-[140px] text-base"},React.createElement("div",{className:n+" text-left xl:whitespace-wrap xl:text-center min-w-5 flex p-1.5 gap-3.5 items-center"},React.createElement("div",{className:"rounded-full min-w-5 h-5 border border-gray-300",style:{backgroundColor:h}}),t)),React.createElement(d.ZL,null,React.createElement(d.UC,null,React.createElement(s,{colorValue:h,onChangeComplete:S})))))},n[20]=h,n[21]=S,n[22]=N,n[23]=x,n[24]=b.disabled,n[25]=j):j=n[25];const R=j,O=l?.error?.message;let C,P;return n[26]!==R||n[27]!==m||n[28]!==b?(C=React.createElement(R,{setting:b,label:m}),n[26]=R,n[27]=m,n[28]=b,n[29]=C):C=n[29],n[30]!==o||n[31]!==i||n[32]!==u||n[33]!==g.required||n[34]!==b.id||n[35]!==O||n[36]!==C?(P=React.createElement(React.Fragment,null,React.createElement(c.A,{label:"",help:u,error:O,context:i,className:o,inputId:b.id,required:g.required},C)),n[30]=o,n[31]=i,n[32]=u,n[33]=g.required,n[34]=b.id,n[35]=O,n[36]=C,n[37]=P):P=n[37],P}));u.displayName="ColorPickerField";const m=u;function p(){}},704:(e,t,n)=>{n.d(t,{A:()=>f});var a=n(1728),r=n(1609),o=n.n(r),i=n(7967),l=n(790),s=n(7723),c=n(4164),d=function(){return d=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},d.apply(this,arguments)};const u=o().forwardRef((function(e,t){var n=e.name,a=(e.fieldState,e.value),r=e.onChange,o=e.options,i=void 0===o?[]:o,u=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["name","fieldState","value","onChange","options"]),m=Array.isArray(i)?i:Object.keys(i).map((function(e){return{key:e,value:e,label:i[e]}})),p=a?"":"border-gray-200 text-gray-500 italic";return(0,l.jsxs)("select",d({className:(0,c.A)("input-base transition-[border-color] duration-300 ease-in-out",p),name:n,value:a,onChange:r,ref:t},u,{children:[!a&&(0,l.jsxs)("option",{value:"",disabled:!0,children:["- ",(0,s.__)("Select an option","simplybook")," -"]}),m.map((function(e){return(0,l.jsx)("option",{value:e.value,children:e.label},e.key?e.key:e.value)}))]}))}));function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},m.apply(null,arguments)}const p=(0,r.forwardRef)(((e,t)=>{const n=(0,a.c)(29);let r,o,l,s,c,d,p,f,g;n[0]!==e?(({setting:g,field:l,fieldState:s,label:d,help:c,context:o,className:r,options:p,...f}=e),n[0]=e,n[1]=r,n[2]=o,n[3]=l,n[4]=s,n[5]=c,n[6]=d,n[7]=p,n[8]=f,n[9]=g):(r=n[1],o=n[2],l=n[3],s=n[4],c=n[5],d=n[6],p=n[7],f=n[8],g=n[9]);const y=g.id,b=s?.error?.message,h=!!s?.error?.message;let v,x;return n[10]!==l||n[11]!==s||n[12]!==y||n[13]!==p||n[14]!==f||n[15]!==t||n[16]!==h?(v=React.createElement(u,m({id:y,options:p,fieldState:s,"aria-invalid":h},l,{ref:t},f)),n[10]=l,n[11]=s,n[12]=y,n[13]=p,n[14]=f,n[15]=t,n[16]=h,n[17]=v):v=n[17],n[18]!==r||n[19]!==o||n[20]!==s||n[21]!==c||n[22]!==y||n[23]!==d||n[24]!==f.required||n[25]!==f.tooltip||n[26]!==b||n[27]!==v?(x=React.createElement(i.A,{label:d,tooltip:f.tooltip,help:c,error:b,context:o,className:r,inputId:y,required:f.required,fieldState:s},v),n[18]=r,n[19]=o,n[20]=s,n[21]=c,n[22]=y,n[23]=d,n[24]=f.required,n[25]=f.tooltip,n[26]=b,n[27]=v,n[28]=x):x=n[28],x}));p.displayName="SelectField";const f=p},4499:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(1728),r=n(359),o=n(7967);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(null,arguments)}const l=e=>{const t=(0,a.c)(27);let n,l,s,c,d,u,m,p,f,g;if(t[0]!==e){const{setting:a,fieldState:r,name:o,label:i,help:y,context:b,className:h,type:v,copyField:x,required:_,...w}=e;f=a,c=r,u=o,d=i,l=b,n=h,g=v,s=x,p=_,m=w,t[0]=e,t[1]=n,t[2]=l,t[3]=s,t[4]=c,t[5]=d,t[6]=u,t[7]=m,t[8]=p,t[9]=f,t[10]=g}else n=t[1],l=t[2],s=t[3],c=t[4],d=t[5],u=t[6],m=t[7],p=t[8],f=t[9],g=t[10];const y=f.id,b=!!c?.error?.message,h=s??!1;let v,x;return t[11]!==y||t[12]!==u||t[13]!==m||t[14]!==b||t[15]!==h||t[16]!==g?(v=React.createElement(r.A,i({name:u,id:y,type:g,"aria-invalid":b,clickToSelect:h},m)),t[11]=y,t[12]=u,t[13]=m,t[14]=b,t[15]=h,t[16]=g,t[17]=v):v=t[17],t[18]!==n||t[19]!==l||t[20]!==c||t[21]!==y||t[22]!==d||t[23]!==m.tooltip||t[24]!==p||t[25]!==v?(x=React.createElement(o.A,{label:d,tooltip:m.tooltip,context:l,className:n,inputId:y,required:p,fieldState:c},v),t[18]=n,t[19]=l,t[20]=c,t[21]=y,t[22]=d,t[23]=m.tooltip,t[24]=p,t[25]=v,t[26]=x):x=t[26],x};l.displayName="TextField";const s=l},8514:(e,t,n)=>{n.d(t,{A:()=>de});var a=n(1728),r=n(1609),o=n.n(r),i=n(9785),l=n(4499),s=n(790),c=function(){return c=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},c.apply(this,arguments)},d=(0,r.forwardRef)((function(e,t){e.type,e.className;var n=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["type","className"]);return(0,s.jsx)("input",c({ref:t,type:"hidden"},n))}));d.displayName="HiddenInput";const u=d;function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},m.apply(null,arguments)}const p=(0,r.forwardRef)(((e,t)=>{const n=(0,a.c)(10);let r,o,i,l;if(n[0]!==e){const{setting:t,field:a,fieldState:s,label:c,help:d,context:u,className:m,...p}=e;l=t,r=a,o=s,i=p,n[0]=e,n[1]=r,n[2]=o,n[3]=i,n[4]=l}else r=n[1],o=n[2],i=n[3],l=n[4];const s=!!o?.error?.message;let c;return n[5]!==r||n[6]!==i||n[7]!==l.id||n[8]!==s?(c=React.createElement(u,m({},r,{id:l.id,type:"hidden","aria-invalid":s},i)),n[5]=r,n[6]=i,n[7]=l.id,n[8]=s,n[9]=c):c=n[9],c}));p.displayName="HiddenField";const f=p;var g=n(4164),y=n(9418),b=n(5946),h=function(){return h=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},h.apply(this,arguments)},v=(0,r.forwardRef)((function(e,t){var n=e.label,a=e.className,o=e.tooltip,i=e.value,l=e.onChange,c=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["label","className","tooltip","value","onChange"]),d=(0,r.useState)(1==i),u=d[0],m=d[1],p=(0,r.useState)(1==i?1:0),f=p[0],v=p[1],x=(0,g.A)("input-type-checkbox w-10 h-6 bg-gray-200  peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:bg-blue-600","peer-checked:after:translate-x-[1.125rem] peer-checked:after:border-white after:content-[''] after:absolute after:top-1 after:left-0.5 after:bg-white after:border-gray-200 after:border","after:rounded-full after:aspect-square after:h-4 after:w-4 after:transition-all");return(0,s.jsxs)("label",{className:"checkbox-field relative inline-flex items-center cursor-pointer",children:[(0,s.jsx)("input",h({type:"checkbox",checked:u,onChange:function(e){v(e.target.checked?1:0),m(e.target.checked),l&&l(e)},className:"sr-only peer",value:f},c)),(0,s.jsx)("div",{className:(0,g.A)(x,a)}),n&&(0,s.jsx)("span",{className:"ml-2 leading-5 font-medium text-black text-label ".concat(a||""),dangerouslySetInnerHTML:{__html:y.A.sanitize(n)}}),o&&(0,s.jsx)(b.A,{message:null==o?void 0:o.message,type:null==o?void 0:o.type})]})}));v.displayName="CheckboxInput";const x=v;var _=n(7967);function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},w.apply(null,arguments)}const k=(0,r.forwardRef)(((e,t)=>{const n=(0,a.c)(22);let r,o,i,l,s,c,d;n[0]!==e?(({setting:d,fieldState:i,label:s,help:l,context:o,className:r,...c}=e),n[0]=e,n[1]=r,n[2]=o,n[3]=i,n[4]=l,n[5]=s,n[6]=c,n[7]=d):(r=n[1],o=n[2],i=n[3],l=n[4],s=n[5],c=n[6],d=n[7]);const u=d.id,m=i?.error?.message,p=!!i?.error?.message;let f,g;return n[8]!==u||n[9]!==s||n[10]!==c||n[11]!==p?(f=React.createElement(x,w({tooltip:c.tooltip,label:s,id:u,"aria-invalid":p},c)),n[8]=u,n[9]=s,n[10]=c,n[11]=p,n[12]=f):f=n[12],n[13]!==r||n[14]!==o||n[15]!==i||n[16]!==l||n[17]!==u||n[18]!==c.required||n[19]!==m||n[20]!==f?(g=React.createElement(_.A,{label:"",help:l,error:m,context:o,className:r,inputId:u,fieldState:i,required:c.required,type:"checkbox"},f),n[13]=r,n[14]=o,n[15]=i,n[16]=l,n[17]=u,n[18]=c.required,n[19]=m,n[20]=f,n[21]=g):g=n[21],g}));k.displayName="CheckboxField";const E=k;var N=n(704),A=n(6244),S=n(7723),j=n(7581);const R=function(e){var t=e.options,n=e.value,a=e.onChange;return(0,s.jsx)("div",{className:"flex gap-4",children:t.map((function(e){return(0,s.jsxs)("button",{onClick:function(t){return function(e,t,n){e.preventDefault(),n.is_premium||a(t)}(t,e.value,e)},className:"relative flex flex-col items-start justify-start px-4 py-3 rounded-lg border text-center \n            transition duration-300 ease-in-out w-full \n            ".concat(n===e.value?"bg-primary-lighter border-blue-500 cursor-pointer":"bg-white hover:bg-primary-lighter border-gray-300 hover:border-blue-500 cursor-pointer"),children:[(0,s.jsx)("span",{className:"text-lg font-medium",children:e.label}),e.description&&(0,s.jsx)("span",{className:"text-sm text-gray-500 mt-1",children:e.description})]},e.value)}))})};var O=n(1730);function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},C.apply(null,arguments)}var P=n(9270),q=n(4576),L=n(5591);var I=n(323),F=n(1439);var T=n(1888),V=n(1577);const H=(0,r.forwardRef)(((e,t)=>{const n=(0,a.c)(39),{upgrade:r,link:i,item:l}=e,{domain:s,domainFetched:c,hasError:d}=(y=(0,F.A)().onboardingCompleted,b="get_domain",h=new q.A(b),v=(0,P.I)({queryKey:[b],queryFn:function(){return h.get()},staleTime:36e5,retry:0,enabled:!!y}),x=v.isLoading,_=v.error,w=v.data,null!==_&&console.error("Error fetching domain data:",_.message),{domain:null===(p=null==w?void 0:w.data)||void 0===p?void 0:p.domain,domainFetched:!x,hasError:null!==_,message:null!==(f=null==w?void 0:w.message)&&void 0!==f?f:null==_?void 0:_.message}),u=c&&l.picture_preview&&l.picture_preview.length>0,m=r?"justify-start":"justify-between";var p,f,y,b,h,v,x,_,w;let k,E,N,A,j,R,O,C,L,H,B;return n[0]!==m?(k=(0,g.A)(m,"flex flex-row items-center w-full space-x-3 text-base"),n[0]=m,n[1]=k):k=n[1],n[2]===Symbol.for("react.memo_cache_sentinel")?(E=(0,g.A)("flex items-center"),n[2]=E):E=n[2],n[3]!==s||n[4]!==c||n[5]!==d||n[6]!==u||n[7]!==l.picture_preview||n[8]!==r?(N=!r&&c&&!d&&u&&o().createElement("img",{className:"w-20 h-20 max-w-[48px] max-h-[48px] bg-blue-100 text-xs flex items-center justify-center overflow-hidden rounded-md",src:s+l.picture_preview,alt:(0,S.__)("Loading","simplybook")}),n[3]=s,n[4]=c,n[5]=d,n[6]=u,n[7]=l.picture_preview,n[8]=r,n[9]=N):N=n[9],n[10]!==c||n[11]!==d||n[12]!==u||n[13]!==l.name||n[14]!==r?(A=!r&&c&&!d&&!u&&o().createElement("div",{className:"w-20 h-20 max-w-[48px] max-h-[48px] bg-blue-100 text-xs flex items-center justify-center overflow-hidden rounded-md font-bold"},l.name.charAt(0).toUpperCase()),n[10]=c,n[11]=d,n[12]=u,n[13]=l.name,n[14]=r,n[15]=A):A=n[15],n[16]!==r?(j=r&&o().createElement("div",{className:"w-20 h-20 max-w-[48px] max-h-[48px] bg-tertiary text-xs flex items-center justify-center overflow-hidden rounded-md font-bold text-white"},o().createElement(V.A,{name:"chevron-up",style:{color:"white"}})),n[16]=r,n[17]=j):j=n[17],n[18]!==l.name?(R=o().createElement("div",{className:"font-bold ml-4"},l.name),n[18]=l.name,n[19]=R):R=n[19],n[20]!==N||n[21]!==A||n[22]!==j||n[23]!==R?(O=o().createElement("div",{className:E},N,A,j,R),n[20]=N,n[21]=A,n[22]=j,n[23]=R,n[24]=O):O=n[24],n[25]!==c||n[26]!==d||n[27]!==i||n[28]!==r?(C=!r&&c&&!d&&o().createElement(I.A,{icon:!0,iconName:"square-arrow-up-right",iconClass:"px-2",className:"text-black flex items-center",page:i},(0,S.__)("Edit","simplybook")),n[25]=c,n[26]=d,n[27]=i,n[28]=r,n[29]=C):C=n[29],n[30]!==k||n[31]!==O||n[32]!==C?(L=o().createElement("div",{className:k},O,C),n[30]=k,n[31]=O,n[32]=C,n[33]=L):L=n[33],n[34]!==r?(H=r&&o().createElement("div",{className:"flex items-center flex-grow"},o().createElement("div",{className:"relative"},o().createElement(T.A,{className:"bg-tertiary text-white hover:bg-tertiary-light hover:text-tertiary",btnVariant:"square-small",target:"_blank",loginLink:"v2/r/payment-widget"},(0,S.__)("Upgrade","simplybook")))),n[34]=r,n[35]=H):H=n[35],n[36]!==L||n[37]!==H?(B=o().createElement(o().Fragment,null,o().createElement("div",{className:"w-full flex items-center justify-between px-4 py-5 mb-4 bg-gray-100"},L,H)),n[36]=L,n[37]=H,n[38]=B):B=n[38],B}));H.displayName="ListItem";const B=H;var M=n(3042);const D=(0,r.forwardRef)(((e,t)=>{const n=(0,a.c)(42),{setting:o,label:i}=e,{services:l,servicesFetched:s}=(p=(0,L.E)().triggerNotificationById,f="services",g=new q.A(f),y=(0,P.I)({queryKey:[f],queryFn:function(){return g.get()},staleTime:3e5,retry:0}),b=y.isLoading,h=y.error,v=y.data,null!==h&&console.error("Error fetching services: ",h.message),0===(null===(u=null==v?void 0:v.data)||void 0===u?void 0:u.length)&&p("add_mandatory_service"),{services:null==v?void 0:v.data,servicesFetched:!b,servicesHasError:null!==h,servicesMessage:null!==(m=null==v?void 0:v.message)&&void 0!==m?m:null==h?void 0:h.message}),{providers:c,providersFetched:d}=function(){var e,t,n=(0,L.E)().triggerNotificationById,a="providers",r=new q.A(a),o=(0,P.I)({queryKey:[a],queryFn:function(){return r.get()},staleTime:3e5,retry:0}),i=o.isLoading,l=o.error,s=o.data;return null!==l&&console.error("Error fetching providers: ",l.message),0===(null===(e=null==s?void 0:s.data)||void 0===e?void 0:e.length)&&n("add_mandatory_provider"),{providers:null==s?void 0:s.data,providersFetched:!i,providersHasError:null!==l,providersMessage:null!==(t=null==s?void 0:s.message)&&void 0!==t?t:null==l?void 0:l.message}}();var u,m,p,f,g,y,b,h,v;let x;n[0]===Symbol.for("react.memo_cache_sentinel")?(x=[],n[0]=x):x=n[0];const[_,w]=(0,r.useState)(x),[k,E]=(0,r.useState)(!1),[N,A]=(0,r.useState)(!1),{providersRemaining:j}=(0,M.A)();let R;n[1]!==l||n[2]!==s?(R={fetched:s,data:l,show_upsell:!1},n[1]=l,n[2]=s,n[3]=R):R=n[3];const O=j<4;let C,I;n[4]!==c||n[5]!==d||n[6]!==O?(C={fetched:d,data:c,show_upsell:O},n[4]=c,n[5]=d,n[6]=O,n[7]=C):C=n[7],n[8]!==R||n[9]!==C?(I={services:R,providers:C},n[8]=R,n[9]=C,n[10]=I):I=n[10];const F=I;let T;n[11]!==o.source||n[12]!==F?(T=()=>{w(F[o.source]?.data),E(F[o.source]?.fetched),A(F[o.source]?.show_upsell)},n[11]=o.source,n[12]=F,n[13]=T):T=n[13];const V=F[o.source];let H,D;n[14]!==V?(H=[V],n[14]=V,n[15]=H):H=n[15],(0,r.useEffect)(T,H),n[16]!==o.edit_link||n[17]!==o.link?(D=e=>o?.edit_link?.replace("{ID}",e)??o.link,n[16]=o.edit_link,n[17]=o.link,n[18]=D):D=n[18];const z=D;if(k&&!Array.isArray(_)){let e,t;return n[19]!==o.label?(e=(0,S.sprintf)((0,S.__)("No %s found."),o.label.toLowerCase()),n[19]=o.label,n[20]=e):e=n[20],n[21]!==e?(t=React.createElement(React.Fragment,null,e),n[21]=e,n[22]=t):t=n[22],t}const $=o?.premiumText??"";let U;n[23]!==$?(U={id:"upgrade",name:$,picture_preview:""},n[23]=$,n[24]=U):U=n[24];const K=U;let G,W,Z,Q;return n[25]!==k||n[26]!==o.label?(G=!k&&React.createElement("p",{className:"mb-4"},(0,S.sprintf)((0,S.__)("Loading %s..."),o.label.toLowerCase())),n[25]=k,n[26]=o.label,n[27]=G):G=n[27],n[28]!==z||n[29]!==i||n[30]!==_||n[31]!==k?(W=k&&_.map((e=>React.createElement(B,{upgrade:!1,key:e.id+e.source,label:i,link:z(e.id),item:e}))),n[28]=z,n[29]=i,n[30]=_,n[31]=k,n[32]=W):W=n[32],n[33]!==i||n[34]!==K||n[35]!==d||n[36]!==N?(Z=d&&N&&React.createElement(B,{upgrade:!0,label:i,link:"v2/r/payment-widget",item:K}),n[33]=i,n[34]=K,n[35]=d,n[36]=N,n[37]=Z):Z=n[37],n[38]!==G||n[39]!==W||n[40]!==Z?(Q=React.createElement("div",{className:"w-full"},G,W,Z),n[38]=G,n[39]=W,n[40]=Z,n[41]=Q):Q=n[41],Q}));D.displayName="ListField";const z=D;var $=function(e){var t=e.id,n=e.label,a=e.colors,i=e.onChange,l=e.value,c=e.setShowPreview,d=o().useState(a),u=d[0],m=d[1],p=(0,O.A)(),f=p.getValue,g=p.setValue,y=p.settings;return p.saveSettings,p.invalidateSettings,(0,r.useEffect)((function(){if("custom"===t){var e=[];e.push(f("sb_base_color")),e.push(f("btn_color_1")),e.push(f("body_bg_color")),e.push(f("light_font_color")),e.push(f("dark_font_color")),m(e)}}),[y]),console.log("value ",l),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"pb-1 font-medium text-black text-md ",children:n}),(0,s.jsxs)("div",{className:"flex space-x-2 pb-4",children:[(0,s.jsx)("div",{className:"border border-gray-300 p-2 gap-2 flex cursor-pointer",onClick:function(e){return console.log(t),void(i&&t&&("custom"!==t&&Array.isArray(a)&&Object.entries({sb_base_color:0,booking_nav_bg_color:0,btn_color_1:1,body_bg_color:2,light_font_color:3,dark_font_color:4}).forEach((function(e){var t=e[0],n=e[1];a&&a.hasOwnProperty(n)&&(console.log("set color",t,a[n],"of index",n),g(t,a[n]))})),console.log("palettes",t,"value",l),g("palette",t),i(t)))},children:null==u?void 0:u.map((function(e,t){return(0,s.jsx)("div",{style:{backgroundColor:e},className:"w-20 h-6 border border-gray-300"},t)}))}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 cursor-pointer",onClick:function(e){return c&&c(!0)},children:[(0,s.jsx)(V.A,{name:"eye"}),(0,s.jsx)("span",{children:l===t?(0,S.__)("live","simplybook"):(0,S.__)("preview","simplybook")})]})]})]})};$.displayName="PaletteInput";const U=$;var K=n(5212);const G=(0,r.forwardRef)(((e,t)=>{const n=(0,a.c)(29);let i,l,s,c,d,u,m;n[0]!==e?(({setting:m,fieldState:s,label:d,help:c,context:l,className:i,...u}=e),n[0]=e,n[1]=i,n[2]=l,n[3]=s,n[4]=c,n[5]=d,n[6]=u,n[7]=m):(i=n[1],l=n[2],s=n[3],c=n[4],d=n[5],u=n[6],m=n[7]);const p=m.id,[f,g]=(0,r.useState)(!1),y=(0,r.useRef)(null);let b,h;n[8]===Symbol.for("react.memo_cache_sentinel")?(b=()=>{const e=e=>{y.current&&!y.current.contains(e.target)&&g&&g(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},h=[g],n[8]=b,n[9]=h):(b=n[8],h=n[9]),(0,r.useEffect)(b,h);const v=s?.error?.message,x=i+" relative",w=u.required;let k,E,N;if(n[10]!==u.onChange||n[11]!==u.value||n[12]!==m.options){let e;n[14]!==u.onChange||n[15]!==u.value?(e=(e,t)=>o().createElement(U,{key:t,id:e.id,label:e.label,colors:e.colors,onChange:u?.onChange,value:u?.value,setShowPreview:g}),n[14]=u.onChange,n[15]=u.value,n[16]=e):e=n[16],k=m.options.map(e),n[10]=u.onChange,n[11]=u.value,n[12]=m.options,n[13]=k}else k=n[13];return n[17]!==f?(E=f&&o().createElement("div",{ref:y,style:{right:"-200px"},className:"absolute top-0"},o().createElement(K.A,null)),n[17]=f,n[18]=E):E=n[18],n[19]!==l||n[20]!==c||n[21]!==p||n[22]!==d||n[23]!==u.required||n[24]!==v||n[25]!==x||n[26]!==k||n[27]!==E?(N=o().createElement(_.A,{label:d,help:c,error:v,context:l,className:x,inputId:p,required:w},k,E),n[19]=l,n[20]=c,n[21]=p,n[22]=d,n[23]=u.required,n[24]=v,n[25]=x,n[26]=k,n[27]=E,n[28]=N):N=n[28],N}));G.displayName="PalettesField";const W=G;var Z=n(359);function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Q.apply(null,arguments)}n(332);const X=(0,r.forwardRef)(((e,t)=>{const n=(0,a.c)(26);let r,o,i,l,s,c;if(n[0]!==e){const{setting:t,fieldState:a,label:d,help:u,context:m,className:p,...f}=e;c=t,i=a,l=d,o=m,r=p,s=f,n[0]=e,n[1]=r,n[2]=o,n[3]=i,n[4]=l,n[5]=s,n[6]=c}else r=n[1],o=n[2],i=n[3],l=n[4],s=n[5],c=n[6];const d=c.id;let u;if(n[7]===Symbol.for("react.memo_cache_sentinel")){const e=new q.A("logout");u=async t=>{if(t.preventDefault(),window.confirm((0,S.__)("Are you sure you want to logout? All settings will be lost.","simplybook"))){try{await e.post()}catch(e){const t=e;return void console.error("Logout request failed",t)}window.location.assign(simplybook.dashboard_url)}},n[7]=u}else u=n[7];const m=u,p=s.tooltip,f=s.required,g=!!i?.error?.message;let y;n[8]!==d||n[9]!==s||n[10]!==g?(y=React.createElement(Z.A,Q({className:"mb-4",id:d,type:"text","aria-invalid":g},s)),n[8]=d,n[9]=s,n[10]=g,n[11]=y):y=n[11];const b=!!i?.error?.message;let h,v,x,w;return n[12]===Symbol.for("react.memo_cache_sentinel")?(h=(0,S.__)("Log out","simplybook"),n[12]=h):h=n[12],n[13]===Symbol.for("react.memo_cache_sentinel")?(v=(0,S.__)("Log out","simplybook"),n[13]=v):v=n[13],n[14]!==d||n[15]!==b?(x=React.createElement(T.A,{id:d,btnVariant:"tertiary-small","aria-invalid":b,label:h,onClick:m},v),n[14]=d,n[15]=b,n[16]=x):x=n[16],n[17]!==r||n[18]!==o||n[19]!==d||n[20]!==l||n[21]!==s.required||n[22]!==s.tooltip||n[23]!==y||n[24]!==x?(w=React.createElement(_.A,{label:l,tooltip:p,context:o,className:r,inputId:d,required:f},y,x),n[17]=r,n[18]=o,n[19]=d,n[20]=l,n[21]=s.required,n[22]=s.tooltip,n[23]=y,n[24]=x,n[25]=w):w=n[25],w}));X.displayName="AuthenticationField";const J=X;function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Y.apply(null,arguments)}const ee=(0,r.forwardRef)(((e,t)=>{const n=(0,a.c)(7),{control:r,item:o}=e,l=`theme_settings.${o.config_key}`;let s,c;return n[0]!==o?(s=e=>{const{field:t,fieldState:n}=e;return 0==o.is_visible||0==o.widget_support?null:"checkbox"===o.config_type?React.createElement(E,Y({},t,{fieldState:n,setting:o,label:o.config_title,className:"theme-config-field"})):o.config_type.includes("color")?React.createElement(j.A,Y({},t,{fieldState:n,setting:o,label:o.config_title,className:"theme-config-field"})):"select"===o.config_type?React.createElement(N.A,Y({},t,{fieldState:n,setting:o,label:o.config_title,options:o.values,className:"theme-config-field"})):null},n[0]=o,n[1]=s):s=n[1],n[2]!==r||n[3]!==o.default_value||n[4]!==l||n[5]!==s?(c=React.createElement(i.xI,{control:r,name:l,defaultValue:o.default_value,render:s}),n[2]=r,n[3]=o.default_value,n[4]=l,n[5]=s,n[6]=c):c=n[6],c})),te=(0,r.forwardRef)(((e,t)=>{const n=(0,a.c)(14),{control:r,parentSetting:o,selectedTheme:i}=e;let l;n[0]===Symbol.for("react.memo_cache_sentinel")?(l={checkbox:10,select:9,color:8},n[0]=l):l=n[0];const s=l;let c,d,u;if(n[1]!==r||n[2]!==o?.translations||n[3]!==i?.config){let e;n[6]!==o?.translations?(e=(e,t)=>{const[,n]=t;if(0==n.is_visible||0==n.widget_support)return e;const a={...n};return["color","gradient"].some((e=>a.config_type.includes(e)))&&(a.config_type="color"),e[a.config_type]||(e[a.config_type]=[]),"select"===a.config_type&&(a.values=Object.entries(a.values).map((e=>{const[t,n]=e;return{key:t,value:n,label:String(o?.translations?.[n]??n)}}))),a.config_title?a.config_title=o?.translations[a.config_title]??a.config_title:a.config_title=o?.translations[a.config_key]??a.config_key,e[a.config_type].push(a),e},n[6]=o?.translations,n[7]=e):e=n[7];const t=Object.entries(i?.config).reduce(e,{});let a;n[8]===Symbol.for("react.memo_cache_sentinel")?(a=(e,t)=>{const[n]=e,[a]=t;return(s[a]??0)-(s[n]??0)},n[8]=a):a=n[8];const l=Object.entries(t).sort(a);let u;c="theme-config",n[9]!==r?(u=e=>{const[t,n]=e;return React.createElement("div",{key:t,className:`theme-config-group theme-config-group-${t}`},n.map((e=>React.createElement(ee,{key:e.config_key,control:r,item:e}))))},n[9]=r,n[10]=u):u=n[10],d=l.map(u),n[1]=r,n[2]=o?.translations,n[3]=i?.config,n[4]=c,n[5]=d}else c=n[4],d=n[5];return n[11]!==c||n[12]!==d?(u=React.createElement("div",{className:c},d),n[11]=c,n[12]=d,n[13]=u):u=n[13],u}));function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ne.apply(null,arguments)}const ae=(0,r.forwardRef)(((e,t)=>{const n=(0,a.c)(25);let r,l;if(n[0]!==e){const{control:t,reset:a,...o}=e;r=t,l=o,n[0]=e,n[1]=r,n[2]=l}else r=n[1],l=n[2];const{onboardingCompleted:s}=(0,F.A)();let c;n[3]===Symbol.for("react.memo_cache_sentinel")?(c=new q.A("theme_list"),n[3]=c):c=n[3];const d=c;let u,m;n[4]===Symbol.for("react.memo_cache_sentinel")?(u=["theme_list"],m=()=>d.get(),n[4]=u,n[5]=m):(u=n[4],m=n[5]);const p=!!s;let f;n[6]!==p?(f={queryKey:u,queryFn:m,staleTime:36e5,retry:0,enabled:p},n[6]=p,n[7]=f):f=n[7];const{isLoading:g,error:y,data:b}=(0,P.I)(f);let h,v;null!==y&&console.error("Error fetching domain data:",y.message),n[8]!==b?.data?(v=b?.data?.map(oe)??[],n[8]=b?.data,n[9]=v):v=n[9],h=v;const x=h;let _;n[10]!==b?.data?(_=e=>b?.data?.find((t=>t.name===e)),n[10]=b?.data,n[11]=_):_=n[11];const w=_;let k,E,A;return n[12]!==y?(k=y&&o().createElement("div",{className:"error-message"},(0,S.__)("Error fetching theme settings. Please try again later.","simplybook")),n[12]=y,n[13]=k):k=n[13],n[14]!==r||n[15]!==y||n[16]!==w||n[17]!==g||n[18]!==x||n[19]!==l?.setting||n[20]!==b?.data?(E=!g&&!y&&b?.data&&o().createElement(i.xI,{control:r,name:l?.setting?.id,defaultValue:l?.setting?.value??l?.setting?.default??"",render:e=>{const{field:t,fieldState:n}=e,a=w(t.value);return o().createElement(o().Fragment,null,o().createElement(N.A,ne({},t,{setting:l?.setting,options:x,label:l?.setting?.label,help:l?.setting?.help,required:l?.setting?.required,disabled:g,fieldState:n,className:"w-full",onChange:e=>{t.onChange(e.target.value)}})),a?.config&&o().createElement(te,{control:r,parentSetting:l?.setting,selectedTheme:a}))}}),n[14]=r,n[15]=y,n[16]=w,n[17]=g,n[18]=x,n[19]=l?.setting,n[20]=b?.data,n[21]=E):E=n[21],n[22]!==E||n[23]!==k?(A=o().createElement(o().Fragment,null,k,E),n[22]=E,n[23]=k,n[24]=A):A=n[24],A}));ae.displayName="ThemeField";const re=ae;function oe(e){return{label:e.title.charAt(0).toUpperCase()+e.title.slice(1),value:e.name,key:e.id}}function ie(){return ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ie.apply(null,arguments)}const le={text:l.A,api:l.A,hidden:f,checkbox:E,select:N.A,colorpicker:j.A,implementation:e=>{const t=(0,a.c)(16);let n,r,o,i;t[0]!==e?(({options:r,value:i,onChange:n,...o}=e),t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i):(n=t[1],r=t[2],o=t[3],i=t[4]);const l=o.setting&&o.setting.default?o.setting.default:"",s=i||l,{setValue:c}=(0,O.A)();let d;t[5]!==n||t[6]!==o.setting.id||t[7]!==c?(d=async e=>{await c(o.setting.id,e),n(e)},t[5]=n,t[6]=o.setting.id,t[7]=c,t[8]=d):d=t[8];const u=d;let m,p;return t[9]!==u?(m=e=>u(e),t[9]=u,t[10]=m):m=t[10],t[11]!==s||t[12]!==r||t[13]!==o||t[14]!==m?(p=React.createElement("div",{className:"w-full mb-8"},React.createElement(R,C({options:r,value:s,onChange:m},o))),t[11]=s,t[12]=r,t[13]=o,t[14]=m,t[15]=p):p=t[15],p},list:z,palettes:W,authentication:J,theme:re},se=(0,r.memo)((({setting:e,control:t,reset:n,...a})=>{if(!1===e.visible)return React.createElement("input",{type:"hidden",defaultValue:e.value||e.default});const o=le[e.type],{saveSettings:l,setValue:s,getValue:c,settings:d}=(0,O.A)();if(!o)return React.createElement("div",{className:"w-full"},"Unknown field type:",e.type,", id:",e.id);const u={...e.required&&{validate:{required:e=>!!e||(0,S.__)("This field is required","simplybook")}},...e.validation?.regex&&{pattern:{value:new RegExp(e.validation.regex),message:e.validation.message||(0,S.__)("Invalid format","simplybook")}},...e.min&&{min:e.min},...e.max&&{max:e.max},...e.minLength&&{minLength:e.minLength},...e.maxLength&&{maxLength:e.maxLength},...e.validate&&{validate:e.validate}};let m=e.value||e.default;return"checkbox"===e.type&&(m="1"===m||!0===m||1===m),"self"===e?.control?React.createElement(A.A,null,React.createElement(o,ie({className:e.inline_group?"inline-flex":"",setting:e,required:e.required,label:e.label,disabled:a.settingsIsUpdating||e.disabled,context:e.context,help:e.help,options:e.options,control:t,reset:n},a,le[e.type]))):React.createElement(A.A,null,React.createElement(i.xI,{name:e.id,control:t,rules:u,defaultValue:m,render:({field:t,fieldState:n})=>((0,r.useEffect)((()=>{c(e.id)!==t.value&&e.save_on_change&&t.value.length>0&&(console.log("saving field on change",e.id,t.value),(async t=>{s(e.id,t),e.mapping&&e.mapping.forEach((e=>{s(e,t)}))})(t.value))}),[t.value]),React.createElement(o,ie({},a,{className:a.className,setting:e,fieldState:n,required:e.required,label:e.label,copyField:e.copy_field,disabled:a.settingsIsUpdating||e.disabled,context:e.context,tooltip:e.tooltip,help:e.help,options:e.options},t)))}))}));se.displayName="FormField";const ce=se,de=e=>{const t=(0,a.c)(9),{fields:n,control:r,reset:i}=e;let l,s;if(t[0]!==r||t[1]!==n||t[2]!==i){let e;t[4]!==r||t[5]!==i?(e=e=>o().createElement(ce,{className:"inline"==e?.style?"form-field-inline":"w-full",setting:e,key:e.id,control:r,reset:i}),t[4]=r,t[5]=i,t[6]=e):e=t[6],l=n.map(e),t[0]=r,t[1]=n,t[2]=i,t[3]=l}else l=t[3];return t[7]!==l?(s=o().createElement(o().Fragment,null,l),t[7]=l,t[8]=s):s=t[8],s}},1439:(e,t,n)=>{n.d(t,{A:()=>m});var a=n(1728),r=n(1609),o=n(7723),i=n(7665),l=n(9270),s=n(7097),c=n(5424),d=n(5204);var u=n(1730);const m=()=>{const e=(0,a.c)(17),{getValue:t}=(0,u.A)(),[n,m]=(0,r.useState)(""),g=(0,i.jE)(),{settings:y}=(0,u.A)();let b,h,v,x={NL:"Netherlands",DE:"Germany",AT:"Austria",BE:"Belgium"};simplybook?.simplybook_countries&&(x=Object.entries(simplybook.simplybook_countries).reduce(p,{})),e[0]===Symbol.for("react.memo_cache_sentinel")?(b=async e=>{const t=await(0,c.A)({data:e});return"success"===t.status||(m(t.message),!1)},e[0]=b):b=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(h=async e=>{const t=await(async({data:e=!0})=>await(0,d.A)("onboarding/company_registration","POST",{data:e}))({data:e});if("success"!==t?.status)return m(t?.message??(0,o.__)("Unknown error encountered while registering your company. Please try again.","simplybook")),!1;m("")},e[1]=h):h=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(v=async e=>{const t=await(async({data:e=!0})=>await(0,d.A)("onboarding/confirm_email","POST",{data:e}))({data:e});return"success"!==t.status?(m(t.message),!1):(m(""),!0)},e[2]=v):v=e[2];const _=[{id:1,path:"/onboarding/create-your-account",fields:[{id:"email",type:"text",label:(0,o.__)("Email address","simplybook"),required:!0,validation:{regex:"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",message:(0,o.__)("Please enter a valid email address","simplybook")}},{required:!0,id:"terms-and-conditions",type:"checkbox",label:sprintf((0,o.__)("I agree to the %sterms and conditions%s","simplybook"),'<a href="https://simplybook.me/terms-and-conditions" target="_blank">',"</a>")}],beforeSubmit:b},{id:2,path:"/onboarding/information-check",fields:[{id:"company_name",type:"text",label:"Company name",required:!0},{id:"category",type:"select",style:"inline",required:!0,inline_group:!0,label:(0,o.__)("Business category","simplybook"),options:[{value:"3",label:(0,o.__)("Beauty and wellness","simplybook")},{value:"43",label:(0,o.__)("Sport and fitness","simplybook")},{value:"5",label:(0,o.__)("Personal meetings and services","simplybook")},{value:"1",label:(0,o.__)("Medical","simplybook")},{value:"4",label:(0,o.__)("Events and entertainment","simplybook")},{value:"6",label:(0,o.__)("Education","simplybook")},{value:"75",label:(0,o.__)("Retailers","simplybook")},{value:"7",label:(0,o.__)("Officials","simplybook")},{value:"8",label:(0,o.__)("Other category","simplybook")}]},{id:"service",type:"text",style:"inline",label:(0,o.__)("What service do you provide?","simplybook"),required:!0},{id:"phone",type:"text",style:"inline",label:(0,o.__)("Phone","simplybook"),validation:{regex:["^[0-9\\s().\\-+]+$"],message:(0,o.__)("Please enter a valid phone number","simplybook")},required:!0},{id:"address",type:"text",style:"inline",label:(0,o.__)("Address","simplybook"),required:!0},{id:"zip",type:"text",style:"inline",label:(0,o.__)("Postal Code","simplybook"),required:!0},{id:"city",type:"text",style:"inline",label:(0,o.__)("City","simplybook"),required:!0},{id:"country",type:"select",label:(0,o.__)("Country","simplybook"),options:x,required:!0}],beforeSubmit:h},{id:3,path:"/onboarding/confirm-email",fields:[{id:"confirmation-code",type:"text",label:(0,o.__)("Confirmation Code","simplybook"),required:!0}],beforeSubmit:v},{id:4,path:"/onboarding/style-widget",beforeSubmit:f,fields:[]},{id:5,path:"/onboarding/implementation",fields:[{id:"implementation",type:"implementation",label:"",default:"generated",save_on_change:!0,options:[{value:"generated",label:(0,o.__)("Simple","simplybook"),description:(0,o.__)("Generate page","simplybook")},{value:"manual",label:(0,o.__)("Shortcode","simplybook"),description:(0,o.__)("Do it yourself","simplybook")}]}],beforeSubmit:async e=>"manual"===t("implementation")?(async e=>{const t=await(async({data:e=!0})=>await(0,d.A)("onboarding/finish_onboarding","POST",{data:e}))({data:e});return"success"!==t.status?(m(t.message),!1):(O(!0),!0)})(e):(async e=>{if(!e?.calendarPageUrl)return m((0,o.__)("Please enter a valid calendar page URL","simplybook")),!1;if(!e?.calendarPageAvailable)return m((0,o.__)("This calendar page URL is taken. Please choose another one.","simplybook")),!1;const t={calendarPageUrl:e.calendarPageUrl},n=await(async({payload:e=!0})=>await(0,d.A)("onboarding/generate_pages","POST",{payload:e}))({payload:t});return"success"!==n.status?(m(n.message),!1):(O(!0),!0)})(e)}],w={};_.forEach((e=>{e.fields.forEach((e=>{w[e.id]=""}))}));const k={};let E;y?.forEach((e=>{e.id in w&&(k[e.id]=e.value)})),e[3]===Symbol.for("react.memo_cache_sentinel")?(E=["onboarding_data"],e[3]=E):E=e[3];const N=(0,l.I)({queryKey:E,initialData:{...w,...k,onboardingCompleted:simplybook.is_onboarding_completed},staleTime:3e5});let A;e[4]!==g?(A={mutationFn:async e=>{g.setQueryData(["onboarding_data"],(t=>({...t,...e}))),g.invalidateQueries(["onboarding_data"])}},e[4]=g,e[5]=A):A=e[5];const{mutate:S}=(0,s.n)(A);let j;e[6]!==g?(j={mutationFn:async e=>{g.setQueryData(["onboarding_data"],(t=>({...t,onboardingCompleted:e})))},onSuccess:()=>{g.invalidateQueries(["onboarding_data"])}},e[6]=g,e[7]=j):j=e[7];const{mutate:R}=(0,s.n)(j),O=R;let C,P,q,L,I;return e[8]===Symbol.for("react.memo_cache_sentinel")?(C=()=>{m("")},e[8]=C):C=e[8],e[9]!==t?(P=t("implementation"),e[9]=t,e[10]=P):P=e[10],e[11]!==P?(q=[P],e[11]=P,e[12]=q):q=e[12],(0,r.useEffect)(C,q),e[13]!==S?(L=e=>S({recaptchaToken:e}),e[13]=S,e[14]=L):L=e[14],e[15]!==O?(I=e=>O(e),e[15]=O,e[16]=I):I=e[16],{steps:_,data:N.data,defaultData:w,updateData:S,getCurrentStepId:e=>_.find((t=>t.path===e))?.id,getCurrentStep:e=>_.find((t=>t.path===e)),getURLForStep:e=>_[e-1]?.path,isLastStep:e=>_.length===_.find((t=>t.path===e))?.id,recaptchaToken:N.data?.recaptchaToken||"",setRecaptchaToken:L,onboardingCompleted:N.data?.onboardingCompleted||!1,setOnboardingCompleted:I,apiError:n,setApiError:m}};function p(e,t){const[n,a]=t;return e[n]=a,e}async function f(e){return await(async({primary_color:e="",secondary_color:t="",active_color:n=""})=>await(0,d.A)("onboarding/save_widget_style","POST",{primary_color:e,secondary_color:t,active_color:n}))({primary_color:e.primary_color,secondary_color:e.secondary_color,active_color:e.active_color}),!0}},1730:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(1728),r=n(7665),o=n(9270),i=n(7097),l=n(4576);const s=()=>{const e=(0,a.c)(21),t=(0,r.jE)();let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=new l.A,e[0]=n):n=e[0];const s=n;let d,u,m;e[1]===Symbol.for("react.memo_cache_sentinel")?(d=["setting_fields"],u=()=>s.setRoute("settings/get").setPayload({withValues:!0}).post(),e[1]=d,e[2]=u):(d=e[1],u=e[2]),e[3]===Symbol.for("react.memo_cache_sentinel")?(m={queryKey:d,queryFn:u,staleTime:3e5,initialData:{data:window.simplybook?.settings_fields},retry:0,select:c},e[3]=m):m=e[3];const p=(0,o.I)(m);let f,g;e[4]===Symbol.for("react.memo_cache_sentinel")?(f=async e=>await s.setRoute("settings/save").setPayload(e).post(),e[4]=f):f=e[4],e[5]!==t?(g={mutationFn:f,onSuccess:e=>{if("success"!==e?.status)throw e;t.setQueryData(["setting_fields"],(t=>e?.data?[...e?.data]:[])),t.invalidateQueries({queryKey:["setting_fields"]})}},e[5]=t,e[6]=g):g=e[6];const{mutateAsync:y}=(0,i.n)(g);let b;e[7]!==p?.data?(b=e=>p?.data.find((t=>t.id===e))?.value,e[7]=p?.data,e[8]=b):b=e[8];const h=b;let v;e[9]!==p?.data||e[10]!==y?(v=(e,t)=>{const n=p?.data?.map((n=>n.id===e?{...n,value:t}:n));n&&y(n)},e[9]=p?.data,e[10]=y,e[11]=v):v=e[11];const x=v,_=p?.data,w=p?.isLoading;let k,E;return e[12]!==t?(k=()=>t.invalidateQueries({queryKey:["setting_fields"]}),e[12]=t,e[13]=k):k=e[13],e[14]!==h||e[15]!==y||e[16]!==x||e[17]!==k||e[18]!==_||e[19]!==w?(E={settings:_,saveSettings:y,getValue:h,setValue:x,isSavingSettings:w,invalidateSettings:k},e[14]=h,e[15]=y,e[16]=x,e[17]=k,e[18]=_,e[19]=w,e[20]=E):E=e[20],E};function c(e){return e?.data??e}},6905:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(1728),r=(n(1609),n(9270)),o=n(6382);const i=()=>{const e=(0,a.c)(10),{settingsId:t}=o.Route.useParams();let n,i;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=["settings_menu"],e[0]=n):n=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(i={queryKey:n,queryFn:s,initialData:window.simplybook&&window.simplybook.settings_menu,staleTime:3e5},e[1]=i):i=e[1];const l=(0,r.I)(i);let c;e[2]!==l.data||e[3]!==t?(c=l.data.find((e=>e.id===t))||{},e[2]=l.data,e[3]=t,e[4]=c):c=e[4];const d=c;let u;return e[5]!==d||e[6]!==l.data||e[7]!==l.isError||e[8]!==l.isLoading?(u={menu:l.data,currentForm:d,menuIsLoading:l.isLoading,menuIsError:l.isError},e[5]=d,e[6]=l.data,e[7]=l.isError,e[8]=l.isLoading,e[9]=u):u=e[9],u};function l(e,t){window.simplybook&&window.simplybook.settings_menu&&e(window.simplybook.settings_menu),t(new Error("Settings menu not found"))}function s(){return new Promise(l)}},7493:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(1728),r=n(9270),o=n(5204),i=n(1439),l=n(1609);const s=()=>{const e=(0,a.c)(20),{onboardingCompleted:t,setOnboardingCompleted:n}=(0,i.A)(),[s,c]=(0,l.useState)(!t);let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d={status:"waiting"},e[0]=d):d=e[0];const[u,m]=(0,l.useState)(d),[p,f]=(0,l.useState)(0),[g,y]=(0,l.useState)(!1);let b,h,v;e[1]===Symbol.for("react.memo_cache_sentinel")?(b=["registration_callback_status"],h={status:"waiting"},e[1]=b,e[2]=h):(b=e[1],h=e[2]),e[3]!==p||e[4]!==s||e[5]!==u||e[6]!==n?(v=async()=>{if(!s)return console.log("Polling disabled"),u;f(p+1);const e=await(0,o.A)("check_registration_callback_status","POST",{data:{status:"waiting"}});return m(e.data),"completed"===e.data.status&&(c(!1),y(!0),n(!0)),p>100&&c(!1),e.data},e[3]=p,e[4]=s,e[5]=u,e[6]=n,e[7]=v):v=e[7];const x=!!s;let _,w,k;e[8]!==s?(_=e=>!!s&&3e3,e[8]=s,e[9]=_):_=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(w=e=>{c(!1)},e[10]=w):w=e[10],e[11]!==v||e[12]!==x||e[13]!==_?(k={queryKey:b,initialData:h,queryFn:v,enabled:x,refetchInterval:_,onError:w},e[11]=v,e[12]=x,e[13]=_,e[14]=k):k=e[14];const{isFetching:E}=(0,r.I)(k);let N,A;return e[15]===Symbol.for("react.memo_cache_sentinel")?(N=()=>c(!0),e[15]=N):N=e[15],e[16]!==E||e[17]!==s||e[18]!==g?(A={startPolling:N,pollingEnabled:s,isPolling:E,pollingSuccess:g},e[16]=E,e[17]=s,e[18]=g,e[19]=A):A=e[19],A}},3775:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(1728),r=n(7665),o=n(9270),i=n(4576);const l=()=>{const e=(0,a.c)(9),t=(0,r.jE)();let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=new i.A,e[0]=n):n=e[0];const l=n;let s;e[1]===Symbol.for("react.memo_cache_sentinel")?(s={queryKey:["get_widget"],queryFn:()=>l.setRoute("get_widget").get(),staleTime:3e5,retry:0,enabled:!1},e[1]=s):s=e[1];const{data:c,refetch:d}=(0,o.I)(s);let u;e[2]!==t||e[3]!==d?(u=async()=>{t.invalidateQueries({queryKey:["get_widget"]}).then((function(e){return d()}))},e[2]=t,e[3]=d,e[4]=u):u=e[4];const m=u;let p;e[5]===Symbol.for("react.memo_cache_sentinel")?(p=async e=>await l.setRoute("get_preview_widget").setPayload(e).post(),e[5]=p):p=e[5];const f=p,g=c?.data?.widget;let y;return e[6]!==m||e[7]!==g?(y={widgetScript:g,invalidateAndRefetchWidgetScript:m,createPreviewWidget:f},e[6]=m,e[7]=g,e[8]=y):y=e[8],y}},3107:(e,t,n)=>{n.r(t),n.d(t,{Route:()=>R});var a=n(1728),r=n(6037),o=n(1245),i=n(4164),l=n(9361),s=n(6244),c=n(1609),d=n.n(c),u=n(6905),m=n(1674),p=n(7330),f=n(7723),g=n(9681),y=n(1577),b=n(323);const h="py-2 px-5 text-base text-sb-gray border-transparent [&.active]:font-semibold [&.active]:text-primary hover:border-gray-500 hover:bg-gray-100 focus:outline-hidden",v=d().memo((e=>{const t=(0,a.c)(10),{item:n}=e,r=Boolean(n.url),o=r?n.url:`/settings/${n.id}`,i=r?"_blank":void 0;let l;t[0]!==r?(l=r?d().createElement(y.A,{name:"square-arrow-up-right",className:"px-2"}):"",t[0]=r,t[1]=l):l=t[1];const s=l;if(r){let e;return t[2]!==n.title||t[3]!==o?(e=d().createElement(b.A,{iconName:"square-arrow-up-right",iconClass:"px-2",className:h,page:o},n.title),t[2]=n.title,t[3]=o,t[4]=e):e=t[4],e}let c;return t[5]!==n.title||t[6]!==i||t[7]!==s||t[8]!==o?(c=d().createElement(g.N_,{to:o,className:h,target:i},n.title,s),t[5]=n.title,t[6]=i,t[7]=s,t[8]=o,t[9]=c):c=t[9],c}));v.displayName="SettingsMenuItem";const x=v,_=()=>{const e=(0,a.c)(16),{menu:t,menuIsLoading:n,menuIsError:r}=(0,u.A)();if(n||r||!t||0===t.length){let a,o,i,l,s;return e[0]===Symbol.for("react.memo_cache_sentinel")?(a=d().createElement(p.A,{title:(0,f.__)("Settings","simplybook"),controls:null}),e[0]=a):a=e[0],e[1]!==n?(o=n&&(0,f.__)("Loading menu...","simplybook"),e[1]=n,e[2]=o):o=e[2],e[3]!==r?(i=r&&(0,f.__)("Error loading menu","simplybook"),e[3]=r,e[4]=i):i=e[4],e[5]!==t?(l=!t&&(0,f.__)("No menu items available","simplybook"),e[5]=t,e[6]=l):l=e[6],e[7]!==o||e[8]!==i||e[9]!==l?(s=d().createElement(m.A,{colSpan:3,rowSpan:4,className:"max-w-xs flex-1 pb-2"},a,d().createElement("div",{className:"flex flex-col justify-start"},o,i,l)),e[7]=o,e[8]=i,e[9]=l,e[10]=s):s=e[10],s}let o,i,l;return e[11]===Symbol.for("react.memo_cache_sentinel")?(o=d().createElement(p.A,{title:(0,f.__)("Settings","simplybook"),controls:null}),e[11]=o):o=e[11],e[12]!==t?(i=t.map(k),e[12]=t,e[13]=i):i=e[13],e[14]!==i?(l=d().createElement("div",{className:"col-span-12 lg:col-span-3"},d().createElement(m.A,{className:"flex-1 pb-2 h-max"},o,d().createElement("div",{className:"flex flex-col justify-start"},i))),e[14]=i,e[15]=l):l=e[15],l};_.displayName="SettingsMenu";const w=_;function k(e){return d().createElement(x,{key:e.id,item:e})}var E=n(790);const N=function(e){var t=e.className,n=e.children;return(0,E.jsx)(E.Fragment,{children:(0,E.jsx)("aside",{className:(0,i.A)("col-span-12 lg:col-span-3 pt-4",t),children:(0,E.jsxs)("div",{className:"sticky top-16",children:[(0,E.jsx)("h2",{className:"text-xl font-bold pb-2 border-b-1 border-[#e6e6e6]",children:(0,f.__)("Notifications","simplybook")}),(0,E.jsx)("div",{className:"notification-feed",children:n})]})})})};var A=n(5591),S=n(6382);const j=function(){var e=S.Route.useParams().settingsId,t=(0,A.E)().activeNotifications,n=(0,c.useState)(!1),a=n[0],r=n[1],o=(0,c.useState)([]),l=o[0],s=o[1];(0,c.useEffect)((function(){s(t.filter((function(t){return t.route===e})))}),[e,t]);var d=l.length>0,u=0===l.length;return(0,E.jsxs)(E.Fragment,{children:[d&&l.map((function(e){return(0,E.jsxs)("div",{className:"notification-box my-4 "+(t=e.type,(0,i.A)("flex flex-col p-5 rounded-lg shadow-sm",{"bg-red-100":"warning"===t,"bg-blue-100":"info"===t})),children:[(0,E.jsxs)("a",{onClick:function(e){r(!a)},className:"flex flex-row justify-between items-baseline cursor-pointer ease-in-out",children:[(0,E.jsx)("h3",{className:"m-0 text-base",children:e.title}),(0,E.jsx)(y.A,{className:(0,i.A)("ease-in-out duration-300",{"rotate-180":a}),size:"1.5x",name:"chevron-down"})]}),(0,E.jsxs)("div",{className:(0,i.A)("notification-content overflow-hidden ease-in-out",{"max-h-0":a}),children:[(0,E.jsx)("div",{className:" text-sm  py-4 mb-2",children:e.text}),e.action&&e.action.text&&e.action.link&&(0,E.jsx)(g.N_,{to:e.action.link,className:"notification-link text-[#333] text-sm underline",children:e.action.text}),e.action&&e.action.text&&e.action.login_link&&(0,E.jsx)(b.A,{page:e.action.login_link,className:"notification-link text-[#333] text-sm underline",children:e.action.text})]})]},e.id);var t})),u&&(0,E.jsx)("div",{className:"notification-box",children:(0,E.jsx)("p",{className:"text-sm text-gray-400 italic",children:(0,f.__)("You currently have no notifications.","simplybook")})})]})},R=(0,r.uV)("/settings")({component:()=>React.createElement(O,null)}),O=()=>{const e=(0,a.c)(5);let t,n,r,c,d;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=React.createElement(l.A,null),e[0]=t):t=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,i.A)("my-4 w-full grid grid-cols-12 gap-y-4 gap-x-4","lg:gap-y-4"),r=React.createElement(w,null),e[1]=n,e[2]=r):(n=e[1],r=e[2]),e[3]===Symbol.for("react.memo_cache_sentinel")?(c=React.createElement(s.A,null,React.createElement(o.sv,null)),e[3]=c):c=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(d=React.createElement(A.p,null,t,React.createElement("div",{className:"mx-auto flex max-w-screen-2xl w-full"},React.createElement("div",{className:n},r,c,React.createElement(N,null,React.createElement(j,null))))),e[4]=d):d=e[4],d}},6382:(e,t,n)=>{n.r(t),n.d(t,{Route:()=>P});var a=n(6037),r=n(1730),o=n(9785),i=n(6905),l=n(1728),s=n(1609);const c=e=>{const t=(0,l.c)(9),{settingsFormHeight:n}=e,[a,r]=(0,s.useState)(0),[o,i]=(0,s.useState)(!1);let c,d,u,m;if(t[0]!==o?(c=()=>{const e=()=>{const e=document.documentElement.scrollHeight-window.innerHeight,t=Math.round(window.scrollY/e*100);r(t)};return o?(e(),window.addEventListener("scroll",e)):window.removeEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},d=[o],t[0]=o,t[1]=c,t[2]=d):(c=t[1],d=t[2]),(0,s.useEffect)(c,d),t[3]!==o?(u=()=>{const e=document.documentElement.scrollHeight>window.innerHeight;o!==e&&i(e)},t[3]=o,t[4]=u):u=t[4],t[5]!==n?(m=[n],t[5]=n,t[6]=m):m=t[6],(0,s.useEffect)(u,m),!o)return null;const p=`${Math.max(a,5)}%`;let f;return t[7]!==p?(f=React.createElement("div",{className:"h-1 w-full bg-gray-200"},React.createElement("div",{className:"h-full bg-blue-500",style:{width:p}})),t[7]=p,t[8]=f):f=t[8],f};c.displayName="FormScrollProgressLine";const d=c;n(8908);var u=n(7723),m=n(1577),p=n(1888),f=n(790);const g=function(e){var t=e.title,n=(e.closeButton,e.isOpen),a=e.onClose,r=e.children;return(0,s.useEffect)((function(){var e=function(e){"modal-overlay"===e.target.id&&a()};return n?(document.addEventListener("click",e),document.body.classList.add("overflow-hidden")):(document.removeEventListener("click",e),document.body.classList.remove("overflow-hidden")),function(){document.removeEventListener("click",e),document.body.classList.remove("overflow-hidden")}}),[n,a]),n?(0,f.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center z-99999",children:[(0,f.jsx)("div",{id:"modal-overlay",className:"modal-background bg-black/50 cursor-pointer inset-0 absolute"}),(0,f.jsxs)("div",{id:"modal-body",className:"bg-white p-6 rounded shadow-lg z-60 cursor-default relative w-[50vw] h-auto overflow-y-scroll",children:[t&&(0,f.jsx)("div",{id:"modal-header",className:"leading-none",children:(0,f.jsx)("h2",{children:t})}),r,(0,f.jsx)("div",{id:"modal-footer",children:(0,f.jsx)("button",{type:"button",className:"flex items-center justify-center transition-all duration-200 px-3 py-1 rounded-md text-white text-sm font-bold cursor-pointer  flex-row bg-secondary hover:bg-secondary-dark w-20",onClick:a,children:(0,u.__)("Close","simplybook")})})]})]}):null};var y=n(3775),b=function(e){var t=e.className,n=void 0===t?"":t,a=(e.btnVariant,e.getValues),r=(0,s.useState)(!1),o=r[0],i=r[1],l=(0,y.A)().createPreviewWidget,c="rounded-full transition-all duration-200 p-4 cursor-pointer bg-secondary text-white hover:bg-secondary-dark";return n.length>0&&(c=c+" "+n),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("button",{type:"button",className:"flex items-center justify-center rounded-full font-bold  text-sm transition-all duration-200 px-3 py-1 bg-tertiary text-white hover:bg-tertiary-light hover:text-tertiary cursor-pointer flex-row",onClick:function(){var e=[];a&&(e=a()),i(!0),l(e).then((function(e){var t=document.createElement("script");t.id="simplybook-preview-widget-script",t.innerHTML=e.data.widget,document.head.appendChild(t),document.dispatchEvent(new CustomEvent("loadSimplyBookPreviewWidget"))}))},children:(0,u.__)("Preview","simplybook")}),(0,f.jsx)(g,{isOpen:o,onClose:function(){i(!1)},title:(0,u.__)("Preview","simplybook"),closeButton:(0,u.__)("Close","simplybook"),children:(0,f.jsx)("div",{id:"sbw_z0hg2i_calendar",className:"h-[70vh] overflow-y-scroll my-4"})})]})};b.displayName="PreviewButtonInput";const h=b;var v=n(1409);const x=e=>{const t=(0,l.c)(39),{onSubmit:n,control:a,getValues:i,settingsFormHeight:s}=e;let c;t[0]!==a?(c={control:a},t[0]=a,t[1]=c):c=t[1];const{isDirty:m,isSubmitting:f,isValidating:g,isValid:y}=(0,o.lN)(c),{isSavingSettings:b}=(0,r.A)();let x,_,k,E;t[2]===Symbol.for("react.memo_cache_sentinel")?(x=(0,u.__)("Saving...","simplybook"),t[2]=x):x=t[2],t[3]!==f?(_={condition:f,message:x,color:"blue"},t[3]=f,t[4]=_):_=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(k=(0,u.__)("Validating...","simplybook"),t[5]=k):k=t[5],t[6]!==g?(E={condition:g,message:k,color:"blue"},t[6]=g,t[7]=E):E=t[7];const N=!y;let A,S,j,R,O;t[8]===Symbol.for("react.memo_cache_sentinel")?(A=(0,u.__)("Form contains errors","simplybook"),t[8]=A):A=t[8],t[9]!==N?(S={condition:N,message:A,color:"red"},t[9]=N,t[10]=S):S=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(j=(0,u.__)("You have unsaved changes","simplybook"),t[11]=j):j=t[11],t[12]!==m?(R={condition:m,message:j,color:"amber"},t[12]=m,t[13]=R):R=t[13],t[14]!==R||t[15]!==_||t[16]!==E||t[17]!==S?(O=[_,E,S,R],t[14]=R,t[15]=_,t[16]=E,t[17]=S,t[18]=O):O=t[18];const C=O;let P;t[19]!==C?(P=C.find(w),t[19]=C,t[20]=P):P=t[20];const q=P;let L,I,F;t[21]!==s?(L=React.createElement(d,{settingsFormHeight:s}),t[21]=s,t[22]=L):L=t[22],t[23]!==q?(I=q&&React.createElement("p",{className:`text-sm text-${q.color}-500 flex items-center gap-2 p-0 m-0 mr-2`},q.message),t[23]=q,t[24]=I):I=t[24],t[25]!==i?(F=React.createElement(h,{btnVariant:"tertiary-small",getValues:i}),t[25]=i,t[26]=F):F=t[26];const T=!m||f||g||b;let V,H,B,M,D;return t[27]===Symbol.for("react.memo_cache_sentinel")?(V=(0,u.__)("Save","simplybook"),t[27]=V):V=t[27],t[28]!==n||t[29]!==T?(H=React.createElement(p.A,{disabled:T,btnVariant:"secondary-small",onClick:n},V),t[28]=n,t[29]=T,t[30]=H):H=t[30],t[31]!==I||t[32]!==F||t[33]!==H?(B=React.createElement("div",{className:"flex flex-row justify-end gap-2 items-center p-5 mr-2"},I,F,H),t[31]=I,t[32]=F,t[33]=H,t[34]=B):B=t[34],t[35]===Symbol.for("react.memo_cache_sentinel")?(M=React.createElement(v.N9,{toastClassName:"rounded-xl",position:"bottom-right",autoClose:3e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,pauseOnHover:!0}),t[35]=M):M=t[35],t[36]!==L||t[37]!==B?(D=React.createElement("div",{className:"sticky bottom-0 start-0 z-10 rounded-b-md bg-gray-50 shadow-md"},L,B,M),t[36]=L,t[37]=B,t[38]=D):D=t[38],D};x.displayName="FormFooter";const _=x;function w(e){return e.condition}var k=n(1674),E=n(7330),N=n(5071),A=n(8514),S=(n(4559),n(4164));const j=(0,s.memo)((e=>{const t=(0,l.c)(15),{group:n,currentGroupFields:a,control:r,isLastGroup:o,formHasSettings:i,getValues:s,reset:c}=e,d=o&&i?"rounded-b-none":"mb-5",u=n.id;let m;t[0]!==d?(m=(0,S.A)(d,""),t[0]=d,t[1]=m):m=t[1];const p=n?.help??"";let f,g,y;return t[2]!==n.title||t[3]!==p?(f=React.createElement(E.A,{className:"mb-[0.70rem]",title:n.title,help:p}),t[2]=n.title,t[3]=p,t[4]=f):f=t[4],t[5]!==r||t[6]!==a||t[7]!==s||t[8]!==c?(g=React.createElement(N.A,{className:"px-4"},React.createElement("div",{className:"flex flex-wrap justify-between"},React.createElement(A.A,{fields:a,control:r,getValues:s,reset:c}))),t[5]=r,t[6]=a,t[7]=s,t[8]=c,t[9]=g):g=t[9],t[10]!==n.id||t[11]!==m||t[12]!==f||t[13]!==g?(y=React.createElement(k.A,{key:u,className:m},f,g),t[10]=n.id,t[11]=m,t[12]=f,t[13]=g,t[14]=y):y=t[14],y}));j.displayName="SettingsGroupBlock";const R=j;var O=n(5959);const C=function(){function e(e,t){this.type=t,this.message=e}return e.prototype.setType=function(e){return this.type=e,this},e.prototype.setMessage=function(e){return this.message=e,this},e.prototype.render=function(){"success"===this.type&&(0,v.oR)(this.createToast(this.message,"circle-check","green")),"error"===this.type&&(0,v.oR)(this.createToast(this.message,"circle-xmark","red")),"warning"===this.type&&(0,v.oR)(this.createToast(this.message,"warning","var(--color-warning)")),this.type||console.error("ToastNotice: No type has been defined, aborted."),this.cleanUp()},e.prototype.createToast=function(e,t,n){return e&&t&&n?(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:"flex items-center gap-2",children:[(0,f.jsx)(m.A,{className:"h-5",name:t,color:n,size:"2x"}),(0,f.jsx)("p",{className:"text-black font-normal text-[0.85rem] m-0",children:e})]})}):(0,f.jsx)(f.Fragment,{})},e.prototype.cleanUp=function(){this.message="No notice message has been defined",this.type="warning"},e}(),P=(0,a.uV)("/settings/$settingsId")({loader:({params:e})=>(e=>{const t=(window.simplybook?.settings_menu||[]).find((t=>t.id===e));if(!t)throw new Error("Settings not found");return{settingsData:t}})(e.settingsId),component:function(){const{settingsId:e}=P.useParams(),{settings:t,saveSettings:n}=(0,r.A)(),{currentForm:a}=(0,i.A)(),l=new C,c=(0,s.useRef)(),[d,m]=(0,s.useState)(),p=(0,s.useMemo)((()=>t.filter((t=>t.menu_id===e))),[t,e]),f=(0,s.useMemo)((()=>q(t,e)),[t,e]),g=(0,s.useMemo)((()=>a.groups[a.groups.length-1]),[a.groups]),y=a.has_settings??!0,{handleSubmit:b,control:h,reset:v,formState:{isDirty:x},getValues:w}=(0,o.mN)({defaultValues:f});return(0,s.useEffect)((()=>{v(f)}),[e,f,v]),(0,s.useEffect)((()=>{new ResizeObserver((e=>{for(const t of e)t.contentRect.height!==d&&m(t.contentRect.height)})).observe(c.current)}),[]),(0,O.K)({shouldBlockFn:()=>{if(!x)return!1;const e=window.confirm((0,u.__)("You have unsaved changes. Are you sure you want to leave?\n\nYour changes will be lost.","simplybook"));return e&&v(f,{keepDirty:!1}),!e}}),React.createElement("form",{className:"col-span-12 lg:col-span-6",ref:c},a.groups?.map((e=>{const t=g.id===e.id,n=p.filter((t=>t.group_id===e.id));return React.createElement(R,{key:e.id,group:e,currentGroupFields:n,control:h,isLastGroup:t,formHasSettings:y,getValues:w,reset:v})})),y&&React.createElement(React.Fragment,null,React.createElement(_,{getValues:w,onSubmit:b((e=>{n(e).then((()=>(v(e),void l.setMessage((0,u.__)("Settings saved successfully","simplybook")).setType("success").render()))).catch((e=>(e=>{const t=e?.data?.errors;if(!t)return console.error("Error saving settings:",e);t.map((e=>{l.setMessage(e.message).setType("error").render()}))})(e)))})),control:h,settingsFormHeight:d})))}}),q=(e,t)=>{const n={};return e.forEach((e=>{if(e.menu_id===t)if(e?.sub_settings)Object.entries(e.sub_settings).forEach((([t,a])=>{n[e.id]||(n[e.id]={});let r=a.default??"";n[e.id][t]=a.value??r}));else{let t=e.default??"";n[e.id]=e.value??t}})),n}}}]);