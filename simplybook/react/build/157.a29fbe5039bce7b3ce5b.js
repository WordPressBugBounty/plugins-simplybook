"use strict";(globalThis.webpackChunksimplybook_app=globalThis.webpackChunksimplybook_app||[]).push([[157],{4576:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(9592),r=a(7723),o=function(){return o=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)},l=function(e,t,a,n){return new(a||(a=Promise))((function(r,o){function l(e){try{s(n.next(e))}catch(e){o(e)}}function i(e){try{s(n.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,i)}s((n=n.apply(e,t||[])).next())}))},i=function(e,t){var a,n,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},l=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return l.next=i(0),l.throw=i(1),l.return=i(2),"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(i){return function(s){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;l&&(l=0,i[0]&&(o=0)),o;)try{if(a=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{a=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const s=function(){function e(e){this.route=null,this.getMethodHeaders={"X-WP-NONCE":n.X2},this.postMethodHeaders={"Content-Type":"application/json",Accept:"application/json","X-WP-NONCE":n.X2},this.payload={nonce:n.au},e&&(this.route=n.V_+e)}return e.prototype.get=function(){return l(this,void 0,void 0,(function(){var e,t;return i(this,(function(a){switch(a.label){case 0:if(!this.route)throw new Error((0,r.__)("Route is not set","simplybook"));return[4,fetch(this.route,{method:"GET",headers:this.getMethodHeaders})];case 1:return(e=a.sent()).ok?[3,3]:[4,e.json()];case 2:return t=a.sent(),[2,this.handleError(t)];case 3:return[2,e.json()]}}))}))},e.prototype.post=function(e){return l(this,void 0,void 0,(function(){var t,a,l;return i(this,(function(i){switch(i.label){case 0:if(!(t=null!=e?e:this.payload))throw new Error((0,r.__)("Payload is not set","simplybook"));if(!this.route)throw new Error((0,r.__)("Route is not set","simplybook"));return[4,fetch(this.route,{method:"POST",headers:this.postMethodHeaders,body:JSON.stringify(o(o({},t),{nonce:n.au}))})];case 1:return(a=i.sent()).ok?[3,3]:[4,a.json()];case 2:return l=i.sent(),[2,this.handleError(l)];case 3:return[2,a.json()]}}))}))},e.prototype.setRoute=function(e){return this.route=n.V_+e,this},e.prototype.setHeaders=function(e,t){return"get"===t?(this.getMethodHeaders=o(o({},this.getMethodHeaders),e),this):"post"===t?(this.postMethodHeaders=o(o({},this.postMethodHeaders),e),this):this},e.prototype.setPayload=function(e){return this.payload=o(o({},this.payload),e),this},e.prototype.handleError=function(e){var t=(0,r.__)("An error occurred","simplybook");throw"string"==typeof e&&(t=e),(null==e?void 0:e.message)&&(t=e.message),(null==e?void 0:e.error)&&(t=e.error),new Error(t)},e}()},1888:(e,t,a)=>{a.d(t,{A:()=>c});var n=a(790),r=a(4164),o=a(9681),l=a(1577),i=a(1314),s=function(e){var t=e.className,a=void 0===t?"":t,s=e.children,c=e.link,d=void 0===c?"":c,u=e.linkClassName,m=void 0===u?"":u,p=e.btnVariant,f=e.disabled,y=void 0!==f&&f,g=e.target,b=e.loginLink,v=void 0===b?"":b,h=(e.icon,e.iconName),_=void 0===h?"":h,w=e.iconSize,x=void 0===w?"":w,k=e.iconClass,E=void 0===k?"":k,N=e.iconStyle,S=e.onClick,A=e.reverseIcon,R=void 0!==A&&A,j=(0,i.A)().fetchLinkData,O=(0,r.A)("flex items-center justify-center rounded-full transition-all duration-200 px-3 py-1",{"bg-primary text-white hover:bg-primary-dark !p-4 text-base":"primary"==p,"bg-primary text-white hover:bg-primary-dark ":"primary-small"==p,"bg-secondary text-white hover:bg-secondary-dark !p-4 text-base":"secondary"==p,"bg-secondary text-white hover:bg-secondary-dark ":"secondary-small"==p,"bg-tertiary text-white hover:bg-tertiary-light hover:text-tertiary !p-4 text-base":"tertiary"==p,"bg-tertiary text-white hover:bg-tertiary-light hover:text-tertiary":"tertiary-small"==p,"border-2 border-black bg-transparent !p-4 text-base":"ghost"==p,"border-2 border-black bg-transparent":"ghost-small"==p,"bg-primary text-white rounded-md hover:bg-primary-dark !p-4 text-base":"square"==p,"rounded-md text-white":"square-small"==p,"border-2 border-primary text-primary rounded-md !p-4 text-base":"square-ghost"==p,"border-2 border-primary text-primary rounded-md":"square-ghost-small"==p}),C=y?"opacity-50 cursor-not-allowed pointer-events-none":"",q=R?"flex-row-reverse":"flex-row";return a.length>0&&(O=O+" "+a),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(o.N_,{className:(0,r.A)(m,"text-sm font-semibold",C),to:d,onClick:v?function(e){return function(e,t){e.preventDefault(),j().then((function(e){var a,n=null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.simplybook_external_login_url;if(n){var r="".concat(n,"/").concat(t,"/");n.includes("by-hash")&&(r="".concat(n,"?back_url=/").concat(t,"/")),window.open(r,"_blank"),window.focus()}else console.error("No link found in response")})).catch((function(e){console.error("Error fetching login URL:",e)}))}(e,v)}:S,target:g,children:(0,n.jsxs)("div",{className:(0,r.A)(O,q,a),children:[_&&(0,n.jsx)(l.A,{className:(0,r.A)(E,{"mr-2":!R,"ml-2":R}),name:_,size:x,style:N}),s]})})})};s.displayName="ButtonLink";const c=s},5946:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(790),r=a(1577),o=a(7008);const l=function(e){var t=e.message,a=e.type,l=e.iconType,i=void 0===l?"":l,s=e.iconColor,c=void 0===s?"":s;if(!i||!c)switch(a){case"warning":i="warning-circle",c="var(--color-yellow-500)";break;case"error":i="warning-circle",c="var(--color-red-500)";break;default:i="info-circle",c="var(--color-black-900)"}return t?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.A,{name:i,color:c,className:"tooltip-icon ml-2","data-tooltip-id":"field-tooltip","data-tooltip-content":t,"aria-hidden":"false","aria-label":t}),(0,n.jsx)(o.m_,{id:"field-tooltip",place:"bottom",openEvents:{mouseover:!0,focus:!0,click:!0}})]}):null}},7967:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(790),r=a(5920),o=a(1609);var l=a(5946),i=(0,o.memo)((function(e){var t=e.label,a=e.context,o=e.tooltip,i=e.reverseLabel,s=void 0!==i&&i,c=e.className,d=void 0===c?"":c,u=e.inputId,m=e.required,p=void 0!==m&&m,f=e.type,y=void 0===f?"text":f,g=e.children,b=e.fieldState,v=function(e){var t="pattern"==e.type,a="invalid-field";return"required"==e.type&&(a+="-required"),t&&(a+="-regex"),a},h=["flex flex-col",d,"mb-4",(null==b?void 0:b.error)?v(null==b?void 0:b.error):""].filter(Boolean).join(" "),_=["flex flex-col w-full",s?"flex-col-reverse":""].filter(Boolean).join(" ");return(0,n.jsxs)("div",{className:h,children:[(0,n.jsxs)("div",{className:_,children:["checkbox"===y&&g,t&&(0,n.jsxs)(r.b,{className:"cursor-pointer pb-1 font-medium text-black text-label ",htmlFor:u,children:[t,p,o&&(0,n.jsx)(l.A,{message:null==o?void 0:o.message,type:null==o?void 0:o.type})]}),"checkbox"!==y&&g]}),a&&(0,n.jsx)("p",{className:"mt-2 text-xs font-light text-gray-600",children:a})]})}));i.displayName="FieldWrapper";const s=i},8908:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(790),r=a(4164),o=function(e){var t=e.className,a=void 0===t?"":t,o=e.type,l=e.children,i=e.onClick,s=e.btnVariant,c=void 0===s?"primary":s,d=e.disabled,u=void 0!==d&&d,m=(0,r.$)("flex items-center justify-center rounded-full transition-all duration-200 px-3 py-1",{"bg-primary text-white hover:bg-primary-dark !p-4 text-base":"primary"==c,"bg-primary text-white hover:bg-primary-dark ":"primary-small"==c,"bg-secondary text-white hover:bg-secondary-dark !p-4 text-base":"secondary"==c,"bg-secondary text-white hover:bg-secondary-dark ":"secondary-small"==c,"bg-tertiary text-white hover:bg-tertiary-light hover:text-tertiary !p-4 text-base":"tertiary"==c,"bg-tertiary text-white hover:bg-tertiary-light hover:text-tertiary":"tertiary-small"==c,"border-2 border-black bg-transparent !p-4 text-base":"ghost"==c,"border-2 border-black bg-transparent":"ghost-small"==c,"bg-primary text-white rounded-md hover:bg-primary-dark !p-4 text-base":"square"==c,"rounded-md text-white":"square-small"==c,"border-2 border-primary text-primary rounded-md !p-4 text-base":"square-ghost"==c,"border-2 border-primary text-primary rounded-md":"square-ghost-small"==c,"opacity-50 cursor-not-allowed":u,"cursor-pointer":!u});return a.length>0&&(m=m+" "+a),(0,n.jsx)("button",{type:o,onClick:i,className:m,disabled:u,children:l})};o.displayName="ButtonInput";const l=o},359:(e,t,a)=>{a.d(t,{A:()=>c});var n=a(790),r=a(1609),o=a.n(r),l=a(4164),i=function(){return i=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},s=function(e){var t=e.name,a=e.placeholder,r=e.type,s=e.className,c=e.clickToSelect,d=void 0!==c&&c,u=e.disabled,m=void 0!==u&&u,p=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["name","placeholder","type","className","clickToSelect","disabled"]),f=o().useState("Copy"),y=f[0],g=f[1],b=o().useState(!1),v=b[0],h=b[1],_=function(){var e=document.querySelector(".copy-button");document.querySelector(".copy-input"),"string"==typeof p.value&&navigator.clipboard.writeText(p.value).then((function(){if(!e)throw new Error("Button not found");g("Copied!"),h(!0),setTimeout((function(){g("Copy"),h(!1)}),1e3)})).catch((function(e){console.error("Error copying text: ",e)}))},w=m?"bg-gray-200 border-gray-200 text-black cursor-not-allowed":"";return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"w-full relative",children:[(0,n.jsx)("input",i({name:t,placeholder:a,type:r,onClick:d?_:void 0,className:(0,l.A)("input-base copy-input transition-[border-color] duration-300 ease-in-out "+w+" "+s),disabled:m},p)),d&&y&&(0,n.jsx)("button",{onClick:d?_:void 0,type:"button","aria-label":t,className:(0,l.A)(v?"bg-green-100 text-green-600":"bg-gray-50 text-gray-600","absolute cursor-pointer right-[0.5rem] top-5.5 transform -translate-y-1/2 rounded-md px-2 py-1 text-xs font-semibold copy-button"),children:y})]})})};s.displayName="TextInput";const c=s},5591:(e,t,a)=>{a.d(t,{p:()=>u,E:()=>d});var n=a(790),r=a(1609),o=a(9270),l=a(4576);var i=function(e,t,a){if(a||2===arguments.length)for(var n,r=0,o=t.length;r<o;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},s={activeNotifications:[],getNotification:function(){},triggerNotification:function(){return!1},triggerNotificationById:function(){return!1},getAllNotifications:function(){return!1}},c=(0,r.createContext)(s),d=function(){return(0,r.useContext)(c)},u=function(e){var t=e.children,a=function(){var e,t="get_notices",a=new l.A,n=(0,o.I)({queryKey:[t],queryFn:function(){return a.setRoute(t).get()},staleTime:3e5}),r=n.data,i=n.isLoading,s=n.error;return null!==s&&console.error("Error fetching notices: ",s.message),{allNotices:null==r?void 0:r.data,isLoading:i,hasError:null!==s,message:null!==(e=null==r?void 0:r.message)&&void 0!==e?e:null==s?void 0:s.message}}(),s=a.allNotices,d=a.isLoading,u=(0,r.useState)([]),m=u[0],p=u[1];(0,r.useEffect)((function(){if(s){var e=s.filter((function(e){return e.active}));e.length>0&&p((function(t){var a=e.filter((function(e){return!t.some((function(t){return t.id===e.id}))}));return i(i([],t,!0),a,!0)}))}}),[s]);var f=function(e){return s.find((function(t){return t.id===e}))},y=function(e){p((function(t){return t.some((function(t){return t.id===e.id}))?t:i(i([],t,!0),[e],!1)}))};if(!d)return(0,n.jsx)(c.Provider,{value:{activeNotifications:m,getNotification:f,triggerNotification:y,triggerNotificationById:function(e){var t=f(e);if(!t)return console.warn('Notification "'.concat(e,'" not found'));y(t)},getAllNotifications:function(){return m}},children:t})}},1314:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(7665),r=a(9270),o=a(4576),l={data:{simplybook_external_login_url:""}};const i=function(){var e=(0,n.jE)(),t="get_login_url",a=new o.A(t),i=(0,r.I)({queryKey:[t],queryFn:function(){return a.get()},staleTime:36e5,retry:0,enabled:!1,initialData:l,refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1});return{loginData:i.data,fetchLinkData:function(){return a=void 0,n=void 0,o=function(){var a;return function(e,t){var a,n,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},l=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return l.next=i(0),l.throw=i(1),l.return=i(2),"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(i){return function(s){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;l&&(l=0,i[0]&&(o=0)),o;)try{if(a=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{a=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(n){switch(n.label){case 0:return[4,i.refetch()];case 1:return a=n.sent(),e.setQueryData([t],null==a?void 0:a.data),[2,null==a?void 0:a.data]}}))},new((r=void 0)||(r=Promise))((function(e,t){function l(e){try{s(o.next(e))}catch(e){t(e)}}function i(e){try{s(o.throw(e))}catch(e){t(e)}}function s(t){var a;t.done?e(t.value):(a=t.value,a instanceof r?a:new r((function(e){e(a)}))).then(l,i)}s((o=o.apply(a,n||[])).next())}));var a,n,r,o}}}},3042:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(9270),r=a(1439),o=a(4576),l=a(5591);const i=function(){var e,t,a,i,s,c,d,u,m,p,f,y,g,b,v,h,_,w,x,k,E,_x,N,S,A,R,j,O,C,q,P,T,F,I=(0,r.A)().onboardingCompleted,L=(0,l.E)().triggerNotificationById,V="subscription_data",D=new o.A(V),B=(0,n.I)({queryKey:[V],queryFn:function(){return D.get()},staleTime:36e5,retry:0,enabled:!!I}),H=B.isLoading,U=B.error,z=B.data;return null!==U&&console.error("Error fetching subscription data: ",U.message),0===(null===(a=null===(t=null===(e=null==z?void 0:z.data)||void 0===e?void 0:e.limits)||void 0===t?void 0:t.provider_limit)||void 0===a?void 0:a.rest)&&L("maxed_out_providers"),{subscription:null==z?void 0:z.data,subscriptionPlan:null!==(s=null===(i=null==z?void 0:z.data)||void 0===i?void 0:i.subscription_name)&&void 0!==s?s:"",expiresIn:null!==(d=null===(c=null==z?void 0:z.data)||void 0===c?void 0:c.expire_in)&&void 0!==d?d:0,isExpired:null!==(m=null===(u=null==z?void 0:z.data)||void 0===u?void 0:u.is_expired)&&void 0!==m&&m,smsRemaining:null!==(g=null===(y=null===(f=null===(p=null==z?void 0:z.data)||void 0===p?void 0:p.limits)||void 0===f?void 0:f.sms_limit)||void 0===y?void 0:y.rest)&&void 0!==g?g:0,smsTotal:null!==(_=null===(h=null===(v=null===(b=null==z?void 0:z.data)||void 0===b?void 0:b.limits)||void 0===v?void 0:v.sms_limit)||void 0===h?void 0:h.total)&&void 0!==_?_:0,bookingsRemaining:null!==(E=null===(k=null===(x=null===(w=null==z?void 0:z.data)||void 0===w?void 0:w.limits)||void 0===x?void 0:x.sheduler_limit)||void 0===k?void 0:k.rest)&&void 0!==E?E:0,bookingsTotal:null!==(A=null===(S=null===(N=null===(_x=null==z?void 0:z.data)||void 0===_x?void 0:_x.limits)||void 0===N?void 0:N.sheduler_limit)||void 0===S?void 0:S.total)&&void 0!==A?A:0,providersRemaining:null!==(C=null===(O=null===(j=null===(R=null==z?void 0:z.data)||void 0===R?void 0:R.limits)||void 0===j?void 0:j.provider_limit)||void 0===O?void 0:O.rest)&&void 0!==C?C:0,providersTotal:null!==(F=null===(T=null===(P=null===(q=null==z?void 0:z.data)||void 0===q?void 0:q.limits)||void 0===P?void 0:P.provider_limit)||void 0===T?void 0:T.total)&&void 0!==F?F:0,isLoading:H,hasError:null!==U}}},9592:(e,t,a)=>{a.d(t,{DN:()=>o,V_:()=>l,W6:()=>i,X2:()=>r,au:()=>n,e8:()=>s});const n=simplybook.nonce,r=simplybook.x_wp_nonce,o=simplybook.rest_namespace+"/"+simplybook.rest_version+"/",l=simplybook.rest_url+simplybook.rest_namespace+"/"+simplybook.rest_version+"/",i=c("rest_url"),s=(c("ajax_url"),simplybook.simplybook_domains);function c(e){let t=simplybook[e];return"https:"!==window.location.protocol||t.includes("https://")||(t=t.replace("http://","https://")),t}},5424:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(5204);const r=async({data:e=!0})=>await(0,n.A)("onboarding/register_email","POST",{data:e})},1793:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(9592);const r=()=>n.W6.includes("?")?"&":"?"},5204:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(1455),r=a.n(n);var o=a(1793);var l=a(9592);const i=async(e,t="POST",a={})=>{const n={path:e,method:t,data:a};n.path=l.DN+n.path+(0,o.A)()+"&token="+Math.random().toString(36).substring(2,7),n.data={...a,nonce:l.au},"GET"===t&&console.log("the request method is not adjusted for GET requests yet. ");try{return await(async(e,t="POST",a={})=>{const n={path:e,method:t,data:a};return await r()(n)})(n.path,n.method,n.data)}catch(e){((e,t)=>{console.error(`API Error at ${t}:`,e.message||e)})(e,n.path)}}},5212:(e,t,a)=>{a.d(t,{A:()=>u});var n=a(1728),r=a(1609),o=a.n(r),l=a(1439),i=a(7723);const s=()=>{const e=(0,n.c)(21),[t,a]=(0,r.useState)(0),{onboardingCompleted:s}=(0,l.A)(),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(0);let p,f,y;e[0]!==u||e[1]!==s?(p=()=>{const e=setInterval((()=>{a((t=>{let a=t+.3333333333333333;return a>90&&!s&&(d(!0),a=5,m(u+1)),u>5&&!s&&(a=100),a>=100?(clearInterval(e),d(!1),100):a}))}),100);return()=>clearInterval(e)},e[0]=u,e[1]=s,e[2]=p):p=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(f=[],e[3]=f):f=e[3],(0,r.useEffect)(p,f),e[4]===Symbol.for("react.memo_cache_sentinel")?(y=window.location.href.includes("onboarding"),e[4]=y):y=e[4];const g=y,b=g?"animate-pulse":"";let v,h,_,w,x,k,E,N,S,A;return e[5]!==t?(v=g&&o().createElement("div",{className:"w-full"},o().createElement("div",{className:"w-full h-1 bg-gray-200 rounded-t-lg overflow-hidden"},o().createElement("div",{className:"h-full bg-blue-500 transition-all duration-100",style:{width:`${t}%`}}))),e[5]=t,e[6]=v):v=e[6],e[7]!==u||e[8]!==c?(h=g&&o().createElement(o().Fragment,null,u<=5&&o().createElement(o().Fragment,null,!c&&o().createElement("p",null,(0,i.__)("Please wait while your registration is being processed. This usually takes about 30 seconds.","simplybook")),c&&o().createElement("p",null,(0,i.__)("This is taking a bit longer than expected. Please wait while we retry a few times.","simplybook"))),u>5&&o().createElement("p",null,(0,i.__)("We're sorry, but it seems there is a problem with your registration. Please try again later.","simplybook"))),e[7]=u,e[8]=c,e[9]=h):h=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(_=!g&&o().createElement("p",null,(0,i.__)("Please complete the onboarding first to register your account.","simplybook")),e[10]=_):_=e[10],e[11]!==h?(w=o().createElement("div",{className:"text-gray-400 text-center p-3  bg-gray-100"},h,_),e[11]=h,e[12]=w):w=e[12],e[13]===Symbol.for("react.memo_cache_sentinel")?(x=o().createElement("div",{className:"p-4"},o().createElement("div",{className:"text-center h-40"},o().createElement("div",{className:"w-full h-full bg-gray-100 rounded-md"}))),e[13]=x):x=e[13],e[14]===Symbol.for("react.memo_cache_sentinel")?(k=o().createElement("h4",{className:"text-gray-700 font-bold mb-4"},o().createElement("div",{className:"h-6 bg-gray-100 rounded-md"})),e[14]=k):k=e[14],e[15]===Symbol.for("react.memo_cache_sentinel")?(E=o().createElement("div",{className:"grid grid-cols-3 gap-3"},o().createElement("div",{className:"text-white text-center py-2 rounded-md bg-gray-100 w-full h-10"}),o().createElement("div",{className:"text-white text-center py-2 rounded-md bg-gray-100 w-full h-10"}),o().createElement("div",{className:"text-white text-center py-2 rounded-md bg-gray-100 w-full h-10"}),o().createElement("div",{className:"text-white text-center py-2 rounded-md bg-gray-100 w-full h-10"}),o().createElement("div",{className:"text-white text-center py-2 rounded-md bg-gray-100 w-full h-10"}),o().createElement("div",{className:"text-white text-center py-2 rounded-md bg-gray-100 w-full h-10"})),e[15]=E):E=e[15],e[16]===Symbol.for("react.memo_cache_sentinel")?(N=o().createElement("span",{className:"inline-block w-3 h-3 rounded-full bg-gray-100"}),e[16]=N):N=e[16],e[17]===Symbol.for("react.memo_cache_sentinel")?(S=o().createElement("div",{className:"p-4 border-t"},k,E,o().createElement("div",{className:"text-gray-500 text-sm mt-3"},N," - ",o().createElement("span",{className:"font-medium"}))),e[17]=S):S=e[17],e[18]!==v||e[19]!==w?(A=o().createElement("div",{className:"w-full max-w-md bg-white shadow-md mt-5 "+b},v,w,x,S),e[18]=v,e[19]=w,e[20]=A):A=e[20],A};var c=a(3775),d=a(7493);const u=e=>{const t=(0,n.c)(12),{primary:a,secondary:o,active:l,onboardingCompleted:i}=e,{createPreviewWidget:u}=(0,c.A)(),{startPolling:p,pollingEnabled:f,pollingSuccess:y}=(0,d.A)();let g,b,v;t[0]!==f||t[1]!==p?(g=()=>{!1===f&&p()},t[0]=f,t[1]=p,t[2]=g):g=t[2],t[3]!==i?(b=[i],t[3]=i,t[4]=b):b=t[4],(0,r.useEffect)(g,b),t[5]!==l||t[6]!==y||t[7]!==a||t[8]!==o?(v=[a,o,l,y],t[5]=l,t[6]=y,t[7]=a,t[8]=o,t[9]=v):v=t[9],(0,r.useEffect)((()=>{y&&h(a,o,l)}),v);const h=(e,t,a)=>{u({onboarding:!0,primary:e,secondary:t,active:a}).then(m)};if(!i){let e;return t[10]===Symbol.for("react.memo_cache_sentinel")?(e=React.createElement(s,null),t[10]=e):e=t[10],e}let _;return t[11]===Symbol.for("react.memo_cache_sentinel")?(_=React.createElement("div",{id:"sbw_z0hg2i_calendar",className:" w-full -mt-20",style:{height:"1200px"}}),t[11]=_):_=t[11],_};function m(e){const t=document.createElement("script");t.id="simplybook-preview-widget-script",t.innerHTML=e.data.widget,document.body.appendChild(t),document.dispatchEvent(new CustomEvent("loadSimplyBookPreviewWidget"))}},1577:(e,t,a)=>{a.d(t,{A:()=>d});var n=a(1728),r=a(982),o=a(6188),l=a(9656),i=a(7875);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s.apply(null,arguments)}const c={"calendar-day":l.isQ,"calendar-week":l.aXh,retry:l.buE,"square-arrow-up-right":o.fLi,"circle-check":o.QRE,"circle-xmark":o.bnw,warning:o.JAe,spinner:o.z1G,"chevron-down":o.Jt$,"chevron-up":o.w2A,check:o.e68,"info-circle":l.iW_,"warning-circle":l.lEd,times:o.GRI,trophy:o.iHh,"user-group":o.USd,eye:o.pS3,bullhorn:o.e4L,support:l.Bwz,clock:o.a$,circle:o.GEE,cart:o._Ro,"target-blank":o.Ju_,youtube:i.B4m,tips:o.Jew},d=e=>{const t=(0,n.c)(18);let a,l,i,d,u;t[0]!==e?(({name:a,color:i,size:d,className:u,...l}=e),t[0]=e,t[1]=a,t[2]=l,t[3]=i,t[4]=d,t[5]=u):(a=t[1],l=t[2],i=t[3],d=t[4],u=t[5]);const m=void 0===i?"black":i,p=void 0===d?"1x":d,f=void 0===u?"":u;let y=c[a];y||(console.warn(`Icon "${a}" does not exist in iconMap.`),y=o.GEE);const g="spinner"===a;let b,v,h;return t[6]!==a?(b="spinner"===a&&{animationDuration:"2s"},t[6]=a,t[7]=b):b=t[7],t[8]!==m||t[9]!==b?(v={color:m,...b},t[8]=m,t[9]=b,t[10]=v):v=t[10],t[11]!==f||t[12]!==y||t[13]!==l||t[14]!==p||t[15]!==g||t[16]!==v?(h=React.createElement(r.g,s({icon:y,size:p,spin:g,className:f,style:v},l)),t[11]=f,t[12]=y,t[13]=l,t[14]=p,t[15]=g,t[16]=v,t[17]=h):h=t[17],h}},323:(e,t,a)=>{a.d(t,{A:()=>m});var n=a(1728),r=a(1609),o=a.n(r),l=a(1577),i=a(4164),s=a(8908),c=a(1439),d=a(1314);const u=e=>{const t=(0,n.c)(26),{className:a,page:r,isButton:u,size:m,btnVariant:f,children:y,disabled:g,iconName:b,iconSize:v,iconClass:h,iconStyle:_,onClick:w,reverseIcon:x}=e,k=void 0===a?"":a,E=void 0===r?"":r,N=void 0!==u&&u,S=void 0===m?"md":m,A=void 0===f?"primary":f,R=void 0===y?"":y,j=void 0!==g&&g,O=void 0===b?"":b,C=void 0===v?"":v,q=void 0===h?"":h,P=void 0===_?"":_,T=void 0!==x&&x,{fetchLinkData:F}=(0,d.A)();let I;(0,c.A)(),t[0]!==F?(I=(e,t)=>{e.preventDefault(),F().then((e=>{const a=e?.data.simplybook_external_login_url;if(!a)return void console.error("No link found in response");let n=`${a}/${t}/`;a.includes("by-hash")&&(n=`${a}?back_url=/${t}/`),window.open(n,"_blank"),window.focus()})).catch(p)},t[0]=F,t[1]=I):I=t[1];const L=I,V=`${j?"pointer-events-none opacity-50 cursor-not-allowed":""}${k} `;if(N){let e,a;return t[2]!==L||t[3]!==E?(e=e=>L(e,E),t[2]=L,t[3]=E,t[4]=e):e=t[4],t[5]!==A||t[6]!==R||t[7]!==V||t[8]!==j||t[9]!==S||t[10]!==e?(a=o().createElement(s.A,{disabled:j,label:R,onClick:e,className:V,btnVarisant:A,size:S},R),t[5]=A,t[6]=R,t[7]=V,t[8]=j,t[9]=S,t[10]=e,t[11]=a):a=t[11],a}let D,B,H;return t[12]!==L||t[13]!==E?(D=e=>L(e,E),t[12]=L,t[13]=E,t[14]=D):D=t[14],t[15]!==q||t[16]!==O||t[17]!==C||t[18]!==P||t[19]!==T?(B=O.length>0&&o().createElement(l.A,{className:(0,i.A)(q,{"mr-2":!T,"ml-2":T}),name:O,size:C,style:P}),t[15]=q,t[16]=O,t[17]=C,t[18]=P,t[19]=T,t[20]=B):B=t[20],t[21]!==R||t[22]!==V||t[23]!==D||t[24]!==B?(H=o().createElement("a",{href:"#",className:V,onClick:D},R,B),t[21]=R,t[22]=V,t[23]=D,t[24]=B,t[25]=H):H=t[25],H};u.displayName="LoginLink";const m=u;function p(e){console.error("Error fetching login URL:",e)}},296:(e,t,a)=>{a.d(t,{A:()=>o});var n=a(1728),r=a(9681);const o=e=>{const t=(0,n.c)(12),{error:a,errorHeading:o,resolve:l}=e;let i;t[0]!==l?(i=void 0===l?{}:l,t[0]=l,t[1]=i):i=t[1];const s=i;if(!a)return null;let c,d,u,m;return t[2]!==o?(c=React.createElement("strong",{className:"font-bold"},o),t[2]=o,t[3]=c):c=t[3],t[4]!==a?(d=React.createElement("p",{className:"m-0 mt-2"},a),t[4]=a,t[5]=d):d=t[5],t[6]!==s?(u=s&&React.createElement(r.N_,{className:"mt-2 text-red-500 underline block",onClick:s?.callback},s?.label),t[6]=s,t[7]=u):u=t[7],t[8]!==c||t[9]!==d||t[10]!==u?(m=React.createElement("div",{className:"animate-floatIn mt-4 bg-red-100  border-red-500 text-red-500 border-2 px-4 py-3 rounded relative shadow-lg",role:"alert"},c,d,u),t[8]=c,t[9]=d,t[10]=u,t[11]=m):m=t[11],m}},332:(e,t,a)=>{a.d(t,{A:()=>d});var n=a(1728),r=a(1609),o=a(8908),l=a(7967),i=a(1577);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s.apply(null,arguments)}const c=(0,r.forwardRef)(((e,t)=>{const a=(0,n.c)(22);let r,c,d,u,m,p;if(a[0]!==e){const{setting:t,label:n,help:o,context:l,className:i,button:s,...f}=e;m=n,u=o,d=l,c=i,r=s,p=f,a[0]=e,a[1]=r,a[2]=c,a[3]=d,a[4]=u,a[5]=m,a[6]=p}else r=a[1],c=a[2],d=a[3],u=a[4],m=a[5],p=a[6];const f=r?.btnVariant,y=r?.disabled,g=r?.showLoader,b=r?.onClick;let v,h,_;return a[7]!==p.showLoader?(v=p.showLoader&&React.createElement(i.A,{color:"white",name:"spinner",size:"1x",className:"mr-2"}),a[7]=p.showLoader,a[8]=v):v=a[8],a[9]!==m||a[10]!==p||a[11]!==f||a[12]!==y||a[13]!==g||a[14]!==b||a[15]!==v?(h=React.createElement(o.A,s({btnVariant:f,disabled:y,showLoader:g,onClick:b},p),v,m),a[9]=m,a[10]=p,a[11]=f,a[12]=y,a[13]=g,a[14]=b,a[15]=v,a[16]=h):h=a[16],a[17]!==c||a[18]!==d||a[19]!==u||a[20]!==h?(_=React.createElement(l.A,{label:"",help:u,context:d,className:c,inputId:""},h),a[17]=c,a[18]=d,a[19]=u,a[20]=h,a[21]=_):_=a[21],_}));c.displayName="ButtonField";const d=c},7581:(e,t,a)=>{a.d(t,{A:()=>m});var n=a(1728),r=a(1609),o=a(790),l=a(5189),i=(0,r.forwardRef)((function(e,t){var a=e.colorValue,n=void 0===a?"#ffffff":a,i=e.onChangeComplete,s=(0,r.useState)(n),c=s[0],d=s[1];return(0,o.jsx)("div",{ref:t,children:(0,o.jsx)(l.xk,{color:c,onChange:function(e){d(e.hex)},onChangeComplete:function(e){return null==i?void 0:i(e.hex)},disableAlpha:!0})})}));i.displayName="ColorPicker";const s=i;var c=a(7967),d=a(9922);a(7493),a(2562);const u=(0,r.forwardRef)(((e,t)=>{const a=(0,n.c)(38);let o,l,i,u,m,f,y,g,b;if(a[0]!==e){const{setting:t,fieldState:n,label:r,help:s,context:c,className:d,onChange:p,defaultValue:v,setColorOnClose:h,..._}=e;b=t,i=n,m=r,u=s,l=c,o=d,f=p,g=h,y=_,a[0]=e,a[1]=o,a[2]=l,a[3]=i,a[4]=u,a[5]=m,a[6]=f,a[7]=y,a[8]=g,a[9]=b}else o=a[1],l=a[2],i=a[3],u=a[4],m=a[5],f=a[6],y=a[7],g=a[8],b=a[9];const[v,h]=(0,r.useState)(b.value||b.default),[_,w]=(0,r.useState)(!1);let x,k,E;a[10]!==v||a[11]!==y.value?(x=()=>{y.value&&y.value!==v&&h(y.value)},a[10]=v,a[11]=y.value,a[12]=x):x=a[12],a[13]!==y.value?(k=[y.value],a[13]=y.value,a[14]=k):k=a[14],(0,r.useEffect)(x,k),a[15]!==v||a[16]!==g?(E=e=>{w(e),!e&&g&&g(v)},a[15]=v,a[16]=g,a[17]=E):E=a[17];const N=E;let S;a[18]!==f?(S=(e,t)=>{h(e),f&&f(e)},a[18]=f,a[19]=S):S=a[19];const A=S;let R;a[20]!==v||a[21]!==A||a[22]!==N||a[23]!==_||a[24]!==b.disabled?(R=e=>{const{label:t}=e,a=b.disabled?"opacity-50 cursor-not-allowed":"cursor-pointer";return React.createElement(React.Fragment,null,React.createElement(d.bL,{open:_,onOpenChange:b.disabled?p:N},React.createElement(d.l9,{className:"p-1 w-full bg-transparent rounded-md border border-gray-400 min-w-[140px] text-base"},React.createElement("div",{className:a+" text-left xl:whitespace-wrap xl:text-center min-w-5 flex p-1.5 gap-3.5 items-center"},React.createElement("div",{className:"rounded-full min-w-5 h-5 border border-gray-300",style:{backgroundColor:v}}),t)),React.createElement(d.ZL,null,React.createElement(d.UC,null,React.createElement(s,{colorValue:v,onChangeComplete:A})))))},a[20]=v,a[21]=A,a[22]=N,a[23]=_,a[24]=b.disabled,a[25]=R):R=a[25];const j=R,O=i?.error?.message;let C,q;return a[26]!==j||a[27]!==m||a[28]!==b?(C=React.createElement(j,{setting:b,label:m}),a[26]=j,a[27]=m,a[28]=b,a[29]=C):C=a[29],a[30]!==o||a[31]!==l||a[32]!==u||a[33]!==y.required||a[34]!==b.id||a[35]!==O||a[36]!==C?(q=React.createElement(React.Fragment,null,React.createElement(c.A,{label:"",help:u,error:O,context:l,className:o,inputId:b.id,required:y.required},C)),a[30]=o,a[31]=l,a[32]=u,a[33]=y.required,a[34]=b.id,a[35]=O,a[36]=C,a[37]=q):q=a[37],q}));u.displayName="ColorPickerField";const m=u;function p(){}},704:(e,t,a)=>{a.d(t,{A:()=>f});var n=a(1728),r=a(1609),o=a.n(r),l=a(7967),i=a(790),s=a(7723),c=a(4164),d=function(){return d=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},d.apply(this,arguments)};const u=o().forwardRef((function(e,t){var a=e.name,n=(e.fieldState,e.value),r=e.onChange,o=e.options,l=void 0===o?[]:o,u=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["name","fieldState","value","onChange","options"]),m=Array.isArray(l)?l:Object.keys(l).map((function(e){return{key:e,value:e,label:l[e]}})),p=n?"":"border-gray-200 text-gray-500 italic";return(0,i.jsxs)("select",d({className:(0,c.A)("input-base transition-[border-color] duration-300 ease-in-out",p),name:a,value:n,onChange:r,ref:t},u,{children:[!n&&(0,i.jsxs)("option",{value:"",disabled:!0,children:["- ",(0,s.__)("Select an option","simplybook")," -"]}),m.map((function(e){return(0,i.jsx)("option",{value:e.value,children:e.label},e.key?e.key:e.value)}))]}))}));function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m.apply(null,arguments)}const p=(0,r.forwardRef)(((e,t)=>{const a=(0,n.c)(29);let r,o,i,s,c,d,p,f,y;a[0]!==e?(({setting:y,field:i,fieldState:s,label:d,help:c,context:o,className:r,options:p,...f}=e),a[0]=e,a[1]=r,a[2]=o,a[3]=i,a[4]=s,a[5]=c,a[6]=d,a[7]=p,a[8]=f,a[9]=y):(r=a[1],o=a[2],i=a[3],s=a[4],c=a[5],d=a[6],p=a[7],f=a[8],y=a[9]);const g=y.id,b=s?.error?.message,v=!!s?.error?.message;let h,_;return a[10]!==i||a[11]!==s||a[12]!==g||a[13]!==p||a[14]!==f||a[15]!==t||a[16]!==v?(h=React.createElement(u,m({id:g,options:p,fieldState:s,"aria-invalid":v},i,{ref:t},f)),a[10]=i,a[11]=s,a[12]=g,a[13]=p,a[14]=f,a[15]=t,a[16]=v,a[17]=h):h=a[17],a[18]!==r||a[19]!==o||a[20]!==s||a[21]!==c||a[22]!==g||a[23]!==d||a[24]!==f.required||a[25]!==f.tooltip||a[26]!==b||a[27]!==h?(_=React.createElement(l.A,{label:d,tooltip:f.tooltip,help:c,error:b,context:o,className:r,inputId:g,required:f.required,fieldState:s},h),a[18]=r,a[19]=o,a[20]=s,a[21]=c,a[22]=g,a[23]=d,a[24]=f.required,a[25]=f.tooltip,a[26]=b,a[27]=h,a[28]=_):_=a[28],_}));p.displayName="SelectField";const f=p},4499:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(1728),r=a(359),o=a(7967);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l.apply(null,arguments)}const i=e=>{const t=(0,n.c)(27);let a,i,s,c,d,u,m,p,f,y;if(t[0]!==e){const{setting:n,fieldState:r,name:o,label:l,help:g,context:b,className:v,type:h,copyField:_,required:w,...x}=e;f=n,c=r,u=o,d=l,i=b,a=v,y=h,s=_,p=w,m=x,t[0]=e,t[1]=a,t[2]=i,t[3]=s,t[4]=c,t[5]=d,t[6]=u,t[7]=m,t[8]=p,t[9]=f,t[10]=y}else a=t[1],i=t[2],s=t[3],c=t[4],d=t[5],u=t[6],m=t[7],p=t[8],f=t[9],y=t[10];const g=f.id,b=!!c?.error?.message,v=s??!1;let h,_;return t[11]!==g||t[12]!==u||t[13]!==m||t[14]!==b||t[15]!==v||t[16]!==y?(h=React.createElement(r.A,l({name:u,id:g,type:y,"aria-invalid":b,clickToSelect:v},m)),t[11]=g,t[12]=u,t[13]=m,t[14]=b,t[15]=v,t[16]=y,t[17]=h):h=t[17],t[18]!==a||t[19]!==i||t[20]!==c||t[21]!==g||t[22]!==d||t[23]!==m.tooltip||t[24]!==p||t[25]!==h?(_=React.createElement(o.A,{label:d,tooltip:m.tooltip,context:i,className:a,inputId:g,required:p,fieldState:c},h),t[18]=a,t[19]=i,t[20]=c,t[21]=g,t[22]=d,t[23]=m.tooltip,t[24]=p,t[25]=h,t[26]=_):_=t[26],_};i.displayName="TextField";const s=i},8514:(e,t,a)=>{a.d(t,{A:()=>de});var n=a(1728),r=a(1609),o=a.n(r),l=a(9785),i=a(4499),s=a(790),c=function(){return c=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},c.apply(this,arguments)},d=(0,r.forwardRef)((function(e,t){e.type,e.className;var a=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["type","className"]);return(0,s.jsx)("input",c({ref:t,type:"hidden"},a))}));d.displayName="HiddenInput";const u=d;function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m.apply(null,arguments)}const p=(0,r.forwardRef)(((e,t)=>{const a=(0,n.c)(10);let r,o,l,i;if(a[0]!==e){const{setting:t,field:n,fieldState:s,label:c,help:d,context:u,className:m,...p}=e;i=t,r=n,o=s,l=p,a[0]=e,a[1]=r,a[2]=o,a[3]=l,a[4]=i}else r=a[1],o=a[2],l=a[3],i=a[4];const s=!!o?.error?.message;let c;return a[5]!==r||a[6]!==l||a[7]!==i.id||a[8]!==s?(c=React.createElement(u,m({},r,{id:i.id,type:"hidden","aria-invalid":s},l)),a[5]=r,a[6]=l,a[7]=i.id,a[8]=s,a[9]=c):c=a[9],c}));p.displayName="HiddenField";const f=p;var y=a(4164),g=a(9418),b=a(5946),v=function(){return v=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},v.apply(this,arguments)},h=(0,r.forwardRef)((function(e,t){var a=e.label,n=e.className,o=e.tooltip,l=e.value,i=e.onChange,c=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["label","className","tooltip","value","onChange"]),d=(0,r.useState)(1==l),u=d[0],m=d[1],p=(0,r.useState)(1==l?1:0),f=p[0],h=p[1],_=(0,y.A)("input-type-checkbox w-10 h-6 bg-gray-200  peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:bg-blue-600","peer-checked:after:translate-x-[1.125rem] peer-checked:after:border-white after:content-[''] after:absolute after:top-1 after:left-0.5 after:bg-white after:border-gray-200 after:border","after:rounded-full after:aspect-square after:h-4 after:w-4 after:transition-all");return(0,s.jsxs)("label",{className:"checkbox-field relative inline-flex items-center cursor-pointer",children:[(0,s.jsx)("input",v({type:"checkbox",checked:u,onChange:function(e){h(e.target.checked?1:0),m(e.target.checked),i&&i(e)},className:"sr-only peer",value:f},c)),(0,s.jsx)("div",{className:(0,y.A)(_,n)}),a&&(0,s.jsx)("span",{className:"ml-2 leading-5 font-medium text-black text-label ".concat(n||""),dangerouslySetInnerHTML:{__html:g.A.sanitize(a)}}),o&&(0,s.jsx)(b.A,{message:null==o?void 0:o.message,type:null==o?void 0:o.type})]})}));h.displayName="CheckboxInput";const _=h;var w=a(7967);function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},x.apply(null,arguments)}const k=(0,r.forwardRef)(((e,t)=>{const a=(0,n.c)(22);let r,o,l,i,s,c,d;a[0]!==e?(({setting:d,fieldState:l,label:s,help:i,context:o,className:r,...c}=e),a[0]=e,a[1]=r,a[2]=o,a[3]=l,a[4]=i,a[5]=s,a[6]=c,a[7]=d):(r=a[1],o=a[2],l=a[3],i=a[4],s=a[5],c=a[6],d=a[7]);const u=d.id,m=l?.error?.message,p=!!l?.error?.message;let f,y;return a[8]!==u||a[9]!==s||a[10]!==c||a[11]!==p?(f=React.createElement(_,x({tooltip:c.tooltip,label:s,id:u,"aria-invalid":p},c)),a[8]=u,a[9]=s,a[10]=c,a[11]=p,a[12]=f):f=a[12],a[13]!==r||a[14]!==o||a[15]!==l||a[16]!==i||a[17]!==u||a[18]!==c.required||a[19]!==m||a[20]!==f?(y=React.createElement(w.A,{label:"",help:i,error:m,context:o,className:r,inputId:u,fieldState:l,required:c.required,type:"checkbox"},f),a[13]=r,a[14]=o,a[15]=l,a[16]=i,a[17]=u,a[18]=c.required,a[19]=m,a[20]=f,a[21]=y):y=a[21],y}));k.displayName="CheckboxField";const E=k;var N=a(704),S=a(6244),A=a(7723),R=a(7581);const j=function(e){var t=e.options,a=e.value,n=e.onChange;return(0,s.jsx)("div",{className:"flex gap-4",children:t.map((function(e){return(0,s.jsxs)("button",{onClick:function(t){return function(e,t,a){e.preventDefault(),a.is_premium||n(t)}(t,e.value,e)},className:"relative flex flex-col items-start justify-start px-4 py-3 rounded-lg border text-center \n            transition duration-300 ease-in-out w-full \n            ".concat(a===e.value?"bg-primary-lighter border-blue-500 cursor-pointer":"bg-white hover:bg-primary-lighter border-gray-300 hover:border-blue-500 cursor-pointer"),children:[(0,s.jsx)("span",{className:"text-lg font-medium",children:e.label}),e.description&&(0,s.jsx)("span",{className:"text-sm text-gray-500 mt-1",children:e.description})]},e.value)}))})};var O=a(1730);function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},C.apply(null,arguments)}var q=a(9270),P=a(4576),T=a(5591);var F=a(323),I=a(1439);var L=a(1888),V=a(1577);const D=(0,r.forwardRef)(((e,t)=>{const a=(0,n.c)(39),{upgrade:r,link:l,item:i}=e,{domain:s,domainFetched:c,hasError:d}=(g=(0,I.A)().onboardingCompleted,b="get_domain",v=new P.A(b),h=(0,q.I)({queryKey:[b],queryFn:function(){return v.get()},staleTime:36e5,retry:0,enabled:!!g}),_=h.isLoading,w=h.error,x=h.data,null!==w&&console.error("Error fetching domain data:",w.message),{domain:null===(p=null==x?void 0:x.data)||void 0===p?void 0:p.domain,domainFetched:!_,hasError:null!==w,message:null!==(f=null==x?void 0:x.message)&&void 0!==f?f:null==w?void 0:w.message}),u=c&&i.picture_preview&&i.picture_preview.length>0,m=r?"justify-start":"justify-between";var p,f,g,b,v,h,_,w,x;let k,E,N,S,R,j,O,C,T,D,B;return a[0]!==m?(k=(0,y.A)(m,"flex flex-row items-center w-full space-x-3 text-base"),a[0]=m,a[1]=k):k=a[1],a[2]===Symbol.for("react.memo_cache_sentinel")?(E=(0,y.A)("flex items-center"),a[2]=E):E=a[2],a[3]!==s||a[4]!==c||a[5]!==d||a[6]!==u||a[7]!==i.picture_preview||a[8]!==r?(N=!r&&c&&!d&&u&&o().createElement("img",{className:"w-20 h-20 max-w-[48px] max-h-[48px] bg-blue-100 text-xs flex items-center justify-center overflow-hidden rounded-md",src:s+i.picture_preview,alt:(0,A.__)("Loading","simplybook")}),a[3]=s,a[4]=c,a[5]=d,a[6]=u,a[7]=i.picture_preview,a[8]=r,a[9]=N):N=a[9],a[10]!==c||a[11]!==d||a[12]!==u||a[13]!==i.name||a[14]!==r?(S=!r&&c&&!d&&!u&&o().createElement("div",{className:"w-20 h-20 max-w-[48px] max-h-[48px] bg-blue-100 text-xs flex items-center justify-center overflow-hidden rounded-md font-bold"},i.name.charAt(0).toUpperCase()),a[10]=c,a[11]=d,a[12]=u,a[13]=i.name,a[14]=r,a[15]=S):S=a[15],a[16]!==r?(R=r&&o().createElement("div",{className:"w-20 h-20 max-w-[48px] max-h-[48px] bg-tertiary text-xs flex items-center justify-center overflow-hidden rounded-md font-bold text-white"},o().createElement(V.A,{name:"chevron-up",style:{color:"white"}})),a[16]=r,a[17]=R):R=a[17],a[18]!==i.name?(j=o().createElement("div",{className:"font-bold ml-4"},i.name),a[18]=i.name,a[19]=j):j=a[19],a[20]!==N||a[21]!==S||a[22]!==R||a[23]!==j?(O=o().createElement("div",{className:E},N,S,R,j),a[20]=N,a[21]=S,a[22]=R,a[23]=j,a[24]=O):O=a[24],a[25]!==c||a[26]!==d||a[27]!==l||a[28]!==r?(C=!r&&c&&!d&&o().createElement(F.A,{icon:!0,iconName:"square-arrow-up-right",iconClass:"px-2",className:"text-black flex items-center",page:l},(0,A.__)("Edit","simplybook")),a[25]=c,a[26]=d,a[27]=l,a[28]=r,a[29]=C):C=a[29],a[30]!==k||a[31]!==O||a[32]!==C?(T=o().createElement("div",{className:k},O,C),a[30]=k,a[31]=O,a[32]=C,a[33]=T):T=a[33],a[34]!==r?(D=r&&o().createElement("div",{className:"flex items-center flex-grow"},o().createElement("div",{className:"relative"},o().createElement(L.A,{className:"bg-tertiary text-white hover:bg-tertiary-light hover:text-tertiary",btnVariant:"square-small",target:"_blank",loginLink:"v2/r/payment-widget"},(0,A.__)("Upgrade","simplybook")))),a[34]=r,a[35]=D):D=a[35],a[36]!==T||a[37]!==D?(B=o().createElement(o().Fragment,null,o().createElement("div",{className:"w-full flex items-center justify-between px-4 py-5 mb-4 bg-gray-100"},T,D)),a[36]=T,a[37]=D,a[38]=B):B=a[38],B}));D.displayName="ListItem";const B=D;var H=a(3042);const U=(0,r.forwardRef)(((e,t)=>{const a=(0,n.c)(42),{setting:o,label:l}=e,{services:i,servicesFetched:s}=(p=(0,T.E)().triggerNotificationById,f="services",y=new P.A(f),g=(0,q.I)({queryKey:[f],queryFn:function(){return y.get()},staleTime:3e5,retry:0}),b=g.isLoading,v=g.error,h=g.data,null!==v&&console.error("Error fetching services: ",v.message),0===(null===(u=null==h?void 0:h.data)||void 0===u?void 0:u.length)&&p("add_mandatory_service"),{services:null==h?void 0:h.data,servicesFetched:!b,servicesHasError:null!==v,servicesMessage:null!==(m=null==h?void 0:h.message)&&void 0!==m?m:null==v?void 0:v.message}),{providers:c,providersFetched:d}=function(){var e,t,a=(0,T.E)().triggerNotificationById,n="providers",r=new P.A(n),o=(0,q.I)({queryKey:[n],queryFn:function(){return r.get()},staleTime:3e5,retry:0}),l=o.isLoading,i=o.error,s=o.data;return null!==i&&console.error("Error fetching providers: ",i.message),0===(null===(e=null==s?void 0:s.data)||void 0===e?void 0:e.length)&&a("add_mandatory_provider"),{providers:null==s?void 0:s.data,providersFetched:!l,providersHasError:null!==i,providersMessage:null!==(t=null==s?void 0:s.message)&&void 0!==t?t:null==i?void 0:i.message}}();var u,m,p,f,y,g,b,v,h;let _;a[0]===Symbol.for("react.memo_cache_sentinel")?(_=[],a[0]=_):_=a[0];const[w,x]=(0,r.useState)(_),[k,E]=(0,r.useState)(!1),[N,S]=(0,r.useState)(!1),{providersRemaining:R}=(0,H.A)();let j;a[1]!==i||a[2]!==s?(j={fetched:s,data:i,show_upsell:!1},a[1]=i,a[2]=s,a[3]=j):j=a[3];const O=R<4;let C,F;a[4]!==c||a[5]!==d||a[6]!==O?(C={fetched:d,data:c,show_upsell:O},a[4]=c,a[5]=d,a[6]=O,a[7]=C):C=a[7],a[8]!==j||a[9]!==C?(F={services:j,providers:C},a[8]=j,a[9]=C,a[10]=F):F=a[10];const I=F;let L;a[11]!==o.source||a[12]!==I?(L=()=>{x(I[o.source]?.data),E(I[o.source]?.fetched),S(I[o.source]?.show_upsell)},a[11]=o.source,a[12]=I,a[13]=L):L=a[13];const V=I[o.source];let D,U;a[14]!==V?(D=[V],a[14]=V,a[15]=D):D=a[15],(0,r.useEffect)(L,D),a[16]!==o.edit_link||a[17]!==o.link?(U=e=>o?.edit_link?.replace("{ID}",e)??o.link,a[16]=o.edit_link,a[17]=o.link,a[18]=U):U=a[18];const z=U;if(k&&!Array.isArray(w)){let e,t;return a[19]!==o.label?(e=(0,A.sprintf)((0,A.__)("No %s found."),o.label.toLowerCase()),a[19]=o.label,a[20]=e):e=a[20],a[21]!==e?(t=React.createElement(React.Fragment,null,e),a[21]=e,a[22]=t):t=a[22],t}const M=o?.premiumText??"";let $;a[23]!==M?($={id:"upgrade",name:M,picture_preview:""},a[23]=M,a[24]=$):$=a[24];const W=$;let K,G,Q,J;return a[25]!==k||a[26]!==o.label?(K=!k&&React.createElement("p",{className:"mb-4"},(0,A.sprintf)((0,A.__)("Loading %s..."),o.label.toLowerCase())),a[25]=k,a[26]=o.label,a[27]=K):K=a[27],a[28]!==z||a[29]!==l||a[30]!==w||a[31]!==k?(G=k&&w.map((e=>React.createElement(B,{upgrade:!1,key:e.id+e.source,label:l,link:z(e.id),item:e}))),a[28]=z,a[29]=l,a[30]=w,a[31]=k,a[32]=G):G=a[32],a[33]!==l||a[34]!==W||a[35]!==d||a[36]!==N?(Q=d&&N&&React.createElement(B,{upgrade:!0,label:l,link:"v2/r/payment-widget",item:W}),a[33]=l,a[34]=W,a[35]=d,a[36]=N,a[37]=Q):Q=a[37],a[38]!==K||a[39]!==G||a[40]!==Q?(J=React.createElement("div",{className:"w-full"},K,G,Q),a[38]=K,a[39]=G,a[40]=Q,a[41]=J):J=a[41],J}));U.displayName="ListField";const z=U;var M=function(e){var t=e.id,a=e.label,n=e.colors,l=e.onChange,i=e.value,c=e.setShowPreview,d=o().useState(n),u=d[0],m=d[1],p=(0,O.A)(),f=p.getValue,y=p.setValue,g=p.settings;return p.saveSettings,p.invalidateSettings,(0,r.useEffect)((function(){if("custom"===t){var e=[];e.push(f("sb_base_color")),e.push(f("btn_color_1")),e.push(f("body_bg_color")),e.push(f("light_font_color")),e.push(f("dark_font_color")),m(e)}}),[g]),console.log("value ",i),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"pb-1 font-medium text-black text-md ",children:a}),(0,s.jsxs)("div",{className:"flex space-x-2 pb-4",children:[(0,s.jsx)("div",{className:"border border-gray-300 p-2 gap-2 flex cursor-pointer",onClick:function(e){return console.log(t),void(l&&t&&("custom"!==t&&Array.isArray(n)&&Object.entries({sb_base_color:0,booking_nav_bg_color:0,btn_color_1:1,body_bg_color:2,light_font_color:3,dark_font_color:4}).forEach((function(e){var t=e[0],a=e[1];n&&n.hasOwnProperty(a)&&(console.log("set color",t,n[a],"of index",a),y(t,n[a]))})),console.log("palettes",t,"value",i),y("palette",t),l(t)))},children:null==u?void 0:u.map((function(e,t){return(0,s.jsx)("div",{style:{backgroundColor:e},className:"w-20 h-6 border border-gray-300"},t)}))}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 cursor-pointer",onClick:function(e){return c&&c(!0)},children:[(0,s.jsx)(V.A,{name:"eye"}),(0,s.jsx)("span",{children:i===t?(0,A.__)("live","simplybook"):(0,A.__)("preview","simplybook")})]})]})]})};M.displayName="PaletteInput";const $=M;var W=a(5212);const K=(0,r.forwardRef)(((e,t)=>{const a=(0,n.c)(29);let l,i,s,c,d,u,m;a[0]!==e?(({setting:m,fieldState:s,label:d,help:c,context:i,className:l,...u}=e),a[0]=e,a[1]=l,a[2]=i,a[3]=s,a[4]=c,a[5]=d,a[6]=u,a[7]=m):(l=a[1],i=a[2],s=a[3],c=a[4],d=a[5],u=a[6],m=a[7]);const p=m.id,[f,y]=(0,r.useState)(!1),g=(0,r.useRef)(null);let b,v;a[8]===Symbol.for("react.memo_cache_sentinel")?(b=()=>{const e=e=>{g.current&&!g.current.contains(e.target)&&y&&y(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},v=[y],a[8]=b,a[9]=v):(b=a[8],v=a[9]),(0,r.useEffect)(b,v);const h=s?.error?.message,_=l+" relative",x=u.required;let k,E,N;if(a[10]!==u.onChange||a[11]!==u.value||a[12]!==m.options){let e;a[14]!==u.onChange||a[15]!==u.value?(e=(e,t)=>o().createElement($,{key:t,id:e.id,label:e.label,colors:e.colors,onChange:u?.onChange,value:u?.value,setShowPreview:y}),a[14]=u.onChange,a[15]=u.value,a[16]=e):e=a[16],k=m.options.map(e),a[10]=u.onChange,a[11]=u.value,a[12]=m.options,a[13]=k}else k=a[13];return a[17]!==f?(E=f&&o().createElement("div",{ref:g,style:{right:"-200px"},className:"absolute top-0"},o().createElement(W.A,null)),a[17]=f,a[18]=E):E=a[18],a[19]!==i||a[20]!==c||a[21]!==p||a[22]!==d||a[23]!==u.required||a[24]!==h||a[25]!==_||a[26]!==k||a[27]!==E?(N=o().createElement(w.A,{label:d,help:c,error:h,context:i,className:_,inputId:p,required:x},k,E),a[19]=i,a[20]=c,a[21]=p,a[22]=d,a[23]=u.required,a[24]=h,a[25]=_,a[26]=k,a[27]=E,a[28]=N):N=a[28],N}));K.displayName="PalettesField";const G=K;var Q=a(359);function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},J.apply(null,arguments)}a(332);const X=(0,r.forwardRef)(((e,t)=>{const a=(0,n.c)(26);let r,o,l,i,s,c;if(a[0]!==e){const{setting:t,fieldState:n,label:d,help:u,context:m,className:p,...f}=e;c=t,l=n,i=d,o=m,r=p,s=f,a[0]=e,a[1]=r,a[2]=o,a[3]=l,a[4]=i,a[5]=s,a[6]=c}else r=a[1],o=a[2],l=a[3],i=a[4],s=a[5],c=a[6];const d=c.id;let u;if(a[7]===Symbol.for("react.memo_cache_sentinel")){const e=new P.A("logout");u=async t=>{if(t.preventDefault(),window.confirm((0,A.__)("Are you sure you want to logout? All settings will be lost.","simplybook"))){try{await e.post()}catch(e){const t=e;return void console.error("Logout request failed",t)}window.location.assign(simplybook.dashboard_url)}},a[7]=u}else u=a[7];const m=u,p=s.tooltip,f=s.required,y=!!l?.error?.message;let g;a[8]!==d||a[9]!==s||a[10]!==y?(g=React.createElement(Q.A,J({className:"mb-4",id:d,type:"text","aria-invalid":y},s)),a[8]=d,a[9]=s,a[10]=y,a[11]=g):g=a[11];const b=!!l?.error?.message;let v,h,_,x;return a[12]===Symbol.for("react.memo_cache_sentinel")?(v=(0,A.__)("Log out","simplybook"),a[12]=v):v=a[12],a[13]===Symbol.for("react.memo_cache_sentinel")?(h=(0,A.__)("Log out","simplybook"),a[13]=h):h=a[13],a[14]!==d||a[15]!==b?(_=React.createElement(L.A,{id:d,btnVariant:"tertiary-small","aria-invalid":b,label:v,onClick:m},h),a[14]=d,a[15]=b,a[16]=_):_=a[16],a[17]!==r||a[18]!==o||a[19]!==d||a[20]!==i||a[21]!==s.required||a[22]!==s.tooltip||a[23]!==g||a[24]!==_?(x=React.createElement(w.A,{label:i,tooltip:p,context:o,className:r,inputId:d,required:f},g,_),a[17]=r,a[18]=o,a[19]=d,a[20]=i,a[21]=s.required,a[22]=s.tooltip,a[23]=g,a[24]=_,a[25]=x):x=a[25],x}));X.displayName="AuthenticationField";const Z=X;function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Y.apply(null,arguments)}const ee=(0,r.forwardRef)(((e,t)=>{const a=(0,n.c)(7),{control:r,item:o}=e,i=`theme_settings.${o.config_key}`;let s,c;return a[0]!==o?(s=e=>{const{field:t,fieldState:a}=e;return 0==o.is_visible||0==o.widget_support?null:"checkbox"===o.config_type?React.createElement(E,Y({},t,{fieldState:a,setting:o,label:o.config_title,className:"theme-config-field"})):o.config_type.includes("color")?React.createElement(R.A,Y({},t,{fieldState:a,setting:o,label:o.config_title,className:"theme-config-field"})):"select"===o.config_type?React.createElement(N.A,Y({},t,{fieldState:a,setting:o,label:o.config_title,options:o.values,className:"theme-config-field"})):null},a[0]=o,a[1]=s):s=a[1],a[2]!==r||a[3]!==o.default_value||a[4]!==i||a[5]!==s?(c=React.createElement(l.xI,{control:r,name:i,defaultValue:o.default_value,render:s}),a[2]=r,a[3]=o.default_value,a[4]=i,a[5]=s,a[6]=c):c=a[6],c})),te=(0,r.forwardRef)(((e,t)=>{const a=(0,n.c)(14),{control:r,parentSetting:o,selectedTheme:l}=e;let i;a[0]===Symbol.for("react.memo_cache_sentinel")?(i={checkbox:10,select:9,color:8},a[0]=i):i=a[0];const s=i;let c,d,u;if(a[1]!==r||a[2]!==o?.translations||a[3]!==l?.config){let e;a[6]!==o?.translations?(e=(e,t)=>{const[,a]=t;if(0==a.is_visible||0==a.widget_support)return e;const n={...a};return["color","gradient"].some((e=>n.config_type.includes(e)))&&(n.config_type="color"),e[n.config_type]||(e[n.config_type]=[]),"select"===n.config_type&&(n.values=Object.entries(n.values).map((e=>{const[t,a]=e;return{key:t,value:a,label:String(o?.translations?.[a]??a)}}))),n.config_title?n.config_title=o?.translations[n.config_title]??n.config_title:n.config_title=o?.translations[n.config_key]??n.config_key,e[n.config_type].push(n),e},a[6]=o?.translations,a[7]=e):e=a[7];const t=Object.entries(l?.config).reduce(e,{});let n;a[8]===Symbol.for("react.memo_cache_sentinel")?(n=(e,t)=>{const[a]=e,[n]=t;return(s[n]??0)-(s[a]??0)},a[8]=n):n=a[8];const i=Object.entries(t).sort(n);let u;c="theme-config",a[9]!==r?(u=e=>{const[t,a]=e;return React.createElement("div",{key:t,className:`theme-config-group theme-config-group-${t}`},a.map((e=>React.createElement(ee,{key:e.config_key,control:r,item:e}))))},a[9]=r,a[10]=u):u=a[10],d=i.map(u),a[1]=r,a[2]=o?.translations,a[3]=l?.config,a[4]=c,a[5]=d}else c=a[4],d=a[5];return a[11]!==c||a[12]!==d?(u=React.createElement("div",{className:c},d),a[11]=c,a[12]=d,a[13]=u):u=a[13],u}));function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ae.apply(null,arguments)}const ne=(0,r.forwardRef)(((e,t)=>{const a=(0,n.c)(25);let r,i;if(a[0]!==e){const{control:t,reset:n,...o}=e;r=t,i=o,a[0]=e,a[1]=r,a[2]=i}else r=a[1],i=a[2];const{onboardingCompleted:s}=(0,I.A)();let c;a[3]===Symbol.for("react.memo_cache_sentinel")?(c=new P.A("theme_list"),a[3]=c):c=a[3];const d=c;let u,m;a[4]===Symbol.for("react.memo_cache_sentinel")?(u=["theme_list"],m=()=>d.get(),a[4]=u,a[5]=m):(u=a[4],m=a[5]);const p=!!s;let f;a[6]!==p?(f={queryKey:u,queryFn:m,staleTime:36e5,retry:0,enabled:p},a[6]=p,a[7]=f):f=a[7];const{isLoading:y,error:g,data:b}=(0,q.I)(f);let v,h;null!==g&&console.error("Error fetching domain data:",g.message),a[8]!==b?.data?(h=b?.data?.map(oe)??[],a[8]=b?.data,a[9]=h):h=a[9],v=h;const _=v;let w;a[10]!==b?.data?(w=e=>b?.data?.find((t=>t.name===e)),a[10]=b?.data,a[11]=w):w=a[11];const x=w;let k,E,S;return a[12]!==g?(k=g&&o().createElement("div",{className:"error-message"},(0,A.__)("Error fetching theme settings. Please try again later.","simplybook")),a[12]=g,a[13]=k):k=a[13],a[14]!==r||a[15]!==g||a[16]!==x||a[17]!==y||a[18]!==_||a[19]!==i?.setting||a[20]!==b?.data?(E=!y&&!g&&b?.data&&o().createElement(l.xI,{control:r,name:i?.setting?.id,defaultValue:i?.setting?.value??i?.setting?.default??"",render:e=>{const{field:t,fieldState:a}=e,n=x(t.value);return o().createElement(o().Fragment,null,o().createElement(N.A,ae({},t,{setting:i?.setting,options:_,label:i?.setting?.label,help:i?.setting?.help,required:i?.setting?.required,disabled:y,fieldState:a,className:"w-full",onChange:e=>{t.onChange(e.target.value)}})),n?.config&&o().createElement(te,{control:r,parentSetting:i?.setting,selectedTheme:n}))}}),a[14]=r,a[15]=g,a[16]=x,a[17]=y,a[18]=_,a[19]=i?.setting,a[20]=b?.data,a[21]=E):E=a[21],a[22]!==E||a[23]!==k?(S=o().createElement(o().Fragment,null,k,E),a[22]=E,a[23]=k,a[24]=S):S=a[24],S}));ne.displayName="ThemeField";const re=ne;function oe(e){return{label:e.title.charAt(0).toUpperCase()+e.title.slice(1),value:e.name,key:e.id}}function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},le.apply(null,arguments)}const ie={text:i.A,api:i.A,hidden:f,checkbox:E,select:N.A,colorpicker:R.A,implementation:e=>{const t=(0,n.c)(16);let a,r,o,l;t[0]!==e?(({options:r,value:l,onChange:a,...o}=e),t[0]=e,t[1]=a,t[2]=r,t[3]=o,t[4]=l):(a=t[1],r=t[2],o=t[3],l=t[4]);const i=o.setting&&o.setting.default?o.setting.default:"",s=l||i,{setValue:c}=(0,O.A)();let d;t[5]!==a||t[6]!==o.setting.id||t[7]!==c?(d=async e=>{await c(o.setting.id,e),a(e)},t[5]=a,t[6]=o.setting.id,t[7]=c,t[8]=d):d=t[8];const u=d;let m,p;return t[9]!==u?(m=e=>u(e),t[9]=u,t[10]=m):m=t[10],t[11]!==s||t[12]!==r||t[13]!==o||t[14]!==m?(p=React.createElement("div",{className:"w-full mb-8"},React.createElement(j,C({options:r,value:s,onChange:m},o))),t[11]=s,t[12]=r,t[13]=o,t[14]=m,t[15]=p):p=t[15],p},list:z,palettes:G,authentication:Z,theme:re},se=(0,r.memo)((({setting:e,control:t,reset:a,...n})=>{if(!1===e.visible)return React.createElement("input",{type:"hidden",defaultValue:e.value||e.default});const o=ie[e.type],{saveSettings:i,setValue:s,getValue:c,settings:d}=(0,O.A)();if(!o)return React.createElement("div",{className:"w-full"},"Unknown field type:",e.type,", id:",e.id);const u={...e.required&&{validate:{required:e=>!!e||(0,A.__)("This field is required","simplybook")}},...e.validation?.regex&&{pattern:{value:new RegExp(e.validation.regex),message:e.validation.message||(0,A.__)("Invalid format","simplybook")}},...e.min&&{min:e.min},...e.max&&{max:e.max},...e.minLength&&{minLength:e.minLength},...e.maxLength&&{maxLength:e.maxLength},...e.validate&&{validate:e.validate}};let m=e.value||e.default;return"checkbox"===e.type&&(m="1"===m||!0===m||1===m),"self"===e?.control?React.createElement(S.A,null,React.createElement(o,le({className:e.inline_group?"inline-flex":"",setting:e,required:e.required,label:e.label,disabled:n.settingsIsUpdating||e.disabled,context:e.context,help:e.help,options:e.options,control:t,reset:a},n,ie[e.type]))):React.createElement(S.A,null,React.createElement(l.xI,{name:e.id,control:t,rules:u,defaultValue:m,render:({field:t,fieldState:a})=>((0,r.useEffect)((()=>{c(e.id)!==t.value&&e.save_on_change&&t.value.length>0&&(console.log("saving field on change",e.id,t.value),(async t=>{s(e.id,t),e.mapping&&e.mapping.forEach((e=>{s(e,t)}))})(t.value))}),[t.value]),React.createElement(o,le({},n,{className:n.className,setting:e,fieldState:a,required:e.required,label:e.label,copyField:e.copy_field,disabled:n.settingsIsUpdating||e.disabled,context:e.context,tooltip:e.tooltip,help:e.help,options:e.options},t)))}))}));se.displayName="FormField";const ce=se,de=e=>{const t=(0,n.c)(9),{fields:a,control:r,reset:l}=e;let i,s;if(t[0]!==r||t[1]!==a||t[2]!==l){let e;t[4]!==r||t[5]!==l?(e=e=>o().createElement(ce,{className:"inline"==e?.style?"form-field-inline":"w-full",setting:e,key:e.id,control:r,reset:l}),t[4]=r,t[5]=l,t[6]=e):e=t[6],i=a.map(e),t[0]=r,t[1]=a,t[2]=l,t[3]=i}else i=t[3];return t[7]!==i?(s=o().createElement(o().Fragment,null,i),t[7]=i,t[8]=s):s=t[8],s}},3970:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(1728),r=a(4164);const o=e=>{const t=(0,n.c)(5),{className:a,children:o}=e;let l,i;return t[0]!==a?(l=(0,r.A)("left-column flex",a),t[0]=a,t[1]=l):l=t[1],t[2]!==o||t[3]!==l?(i=React.createElement("div",{className:l},o),t[2]=o,t[3]=l,t[4]=i):i=t[4],i};o.displayName="LeftColumn";const l=o},7047:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(1728),r=a(4164);const o=e=>{const t=(0,n.c)(6),{className:a,style:o,children:l}=e;let i,s;return t[0]!==a?(i=(0,r.A)("right-column w-full flex",a),t[0]=a,t[1]=i):i=t[1],t[2]!==l||t[3]!==o||t[4]!==i?(s=React.createElement("div",{className:i,style:o},l),t[2]=l,t[3]=o,t[4]=i,t[5]=s):s=t[5],s};o.displayName="RightColumn";const l=o},6801:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(1728),r=a(1609),o=a.n(r),l=a(4164);const i=e=>{const t=(0,n.c)(11),{FrameWrapperClass:a,className:r,title:i,src:s,allow:c,refPolicy:d}=e;let u,m,p;return t[0]!==a?(u=(0,l.A)(a,"FrameWrapper"),t[0]=a,t[1]=u):u=t[1],t[2]!==c||t[3]!==r||t[4]!==d||t[5]!==s||t[6]!==i?(m=o().createElement("iframe",{className:r,src:s,title:i,allow:c,referrerPolicy:d}),t[2]=c,t[3]=r,t[4]=d,t[5]=s,t[6]=i,t[7]=m):m=t[7],t[8]!==u||t[9]!==m?(p=o().createElement(o().Fragment,null,o().createElement("div",{className:u},m)),t[8]=u,t[9]=m,t[10]=p):p=t[10],p};i.displayName="VideoFrame";const s=i},2446:(e,t,a)=>{a.d(t,{A:()=>y});var n=a(1728),r=a(2166),o=a(9785),l=a(1439),i=a(332),s=a(7723),c=a(1730),d=a(8514),u=a(1609),m=a(296),p=(a(1888),a(5424),a(5204));const f=e=>{const t=(0,n.c)(25),{path:a,rightColumn:f,bottomText:y,primaryButton:g,secondaryButton:b,customHtml:v,syncFieldConfig:h}=e;let _;t[0]!==g?(_=void 0===g?{label:(0,s.__)("Next","simplybook")}:g,t[0]=g,t[1]=_):_=t[1];const w=_,x=void 0===b?null:b,k=void 0===v?null:v,{getURLForStep:E,getCurrentStepId:N,getCurrentStep:S,updateData:A,data:R,defaultData:j,isLastStep:O,recaptchaToken:C,apiError:q,setApiError:P,onboardingCompleted:T,setOnboardingCompleted:F}=(0,l.A)(),I=(0,r.Z)();let L;t[2]!==R||t[3]!==j?(L={defaultValues:j,values:R,mode:"onTouched"},t[2]=R,t[3]=j,t[4]=L):L=t[4];const{handleSubmit:V,control:D,setValue:B,getValues:H,formState:U}=(0,o.mN)(L),{isValid:z,isValidating:M,touchedFields:$}=U,{getValue:W}=(0,c.A)(),[,K]=(0,u.useState)(""),G=S(a);N(a);const[Q,J]=(0,u.useState)(!z);let X,Z;t[5]!==z?(X=()=>{J(!z)},Z=[z],t[5]=z,t[6]=X,t[7]=Z):(X=t[6],Z=t[7]),(0,u.useEffect)(X,Z),h&&((e,t,a)=>{const n=H(e);$[e]?a(n):void 0!==t&&B(e,t,{shouldValidate:!0,shouldTouch:!0})})(h.key,h.value,h.setValue);const Y=async(e,t)=>{const n=void 0===t?"primary":t;P(null),J(!0);let r={...e};if(r.recaptchaToken=C,"primary"===n&&w.modifyData?r=w.modifyData(r):"secondary"===n&&x.modifyData&&(r=x.modifyData(r)),G.beforeSubmit)try{if(!1===await G.beforeSubmit(r))return void J(!1)}catch(e){const t=e;return J(!1),void console.error("Submission cancelled:",t)}await A(r),J(!1),"primary"===n&&w.navigateTo?I({to:w.navigateTo}):"secondary"===n&&x.navigateTo?I({to:x.navigateTo}):O(a)?I({to:"/"}):S(a).id<=3&&T?I({to:E(4)}):I({to:E(N(a)+1)})};let ee,te,ae,ne;t[8]!==W?(ee=()=>{const e=W("company_name");e&&e.length>0&&K(e)},te=W("company_name"),t[8]=W,t[9]=ee,t[10]=te):(ee=t[9],te=t[10]),t[11]!==te?(ae=[te],t[11]=te,t[12]=ae):ae=t[12],(0,u.useEffect)(ee,ae),t[13]!==E||t[14]!==I||t[15]!==P||t[16]!==F?(ne=async()=>{const e=await(async()=>await(0,p.A)("onboarding/retry_onboarding","POST"))();if("success"!==e.status)return P(e.message),!1;F(!1),await I({to:E(1)})},t[13]=E,t[14]=I,t[15]=P,t[16]=F,t[17]=ne):ne=t[17];const re=ne;let oe,le,ie;return t[18]!==w.label?(oe=w.label??(0,s.__)("Next","simplybook"),t[18]=w.label,t[19]=oe):oe=t[19],t[20]!==q||t[21]!==re?(le=q&&React.createElement(m.A,{errorHeading:(0,s.__)("Something went wrong","simplybook"),error:q,resolve:{callback:re,label:(0,s.__)("Or restart the onboarding","simplybook")}}),t[20]=q,t[21]=re,t[22]=le):le=t[22],t[23]!==f?(ie=React.createElement("div",{className:"col-span-4 col-start-7 row-span-2 my-12"},f),t[23]=f,t[24]=ie):ie=t[24],React.createElement(React.Fragment,null,React.createElement("div",{className:`w-full col-span-4 col-start-3 ${G.fields?.length?"my-12":""} flex flex-col text-black`},React.createElement("div",{className:"flex flex-col"},React.createElement("form",{className:"flex flex-wrap justify-between"},React.createElement(d.A,{fields:G.fields,control:D}),k,React.createElement(i.A,{className:"w-full mt-4",showLoader:M,btnVariant:"secondary",label:oe,context:y,button:{disabled:w.disabled??Q,onClick:V((e=>Y(e,"primary")))}}),x&&React.createElement(i.A,{btnVariant:"tertiary",label:x.label,button:{disabled:Q,onClick:V((e=>Y(e,"secondary")))}}))),le),ie)};f.displayName="OnboardingStep";const y=f},1439:(e,t,a)=>{a.d(t,{A:()=>m});var n=a(1728),r=a(1609),o=a(7723),l=a(7665),i=a(9270),s=a(7097),c=a(5424),d=a(5204);var u=a(1730);const m=()=>{const e=(0,n.c)(17),{getValue:t}=(0,u.A)(),[a,m]=(0,r.useState)(""),y=(0,l.jE)(),{settings:g}=(0,u.A)();let b,v,h,_={NL:"Netherlands",DE:"Germany",AT:"Austria",BE:"Belgium"};simplybook?.simplybook_countries&&(_=Object.entries(simplybook.simplybook_countries).reduce(p,{})),e[0]===Symbol.for("react.memo_cache_sentinel")?(b=async e=>{const t=await(0,c.A)({data:e});return"success"===t.status||(m(t.message),!1)},e[0]=b):b=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(v=async e=>{const t=await(async({data:e=!0})=>await(0,d.A)("onboarding/company_registration","POST",{data:e}))({data:e});if("success"!==t?.status)return m(t?.message??(0,o.__)("Unknown error encountered while registering your company. Please try again.","simplybook")),!1;m("")},e[1]=v):v=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(h=async e=>{const t=await(async({data:e=!0})=>await(0,d.A)("onboarding/confirm_email","POST",{data:e}))({data:e});return"success"!==t.status?(m(t.message),!1):(m(""),!0)},e[2]=h):h=e[2];const w=[{id:1,path:"/onboarding/create-your-account",fields:[{id:"email",type:"text",label:(0,o.__)("Email address","simplybook"),required:!0,validation:{regex:"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",message:(0,o.__)("Please enter a valid email address","simplybook")}},{required:!0,id:"terms-and-conditions",type:"checkbox",label:sprintf((0,o.__)("I agree to the %sterms and conditions%s","simplybook"),'<a href="https://simplybook.me/terms-and-conditions" target="_blank">',"</a>")}],beforeSubmit:b},{id:2,path:"/onboarding/information-check",fields:[{id:"company_name",type:"text",label:"Company name",required:!0},{id:"category",type:"select",style:"inline",required:!0,inline_group:!0,label:(0,o.__)("Business category","simplybook"),options:[{value:"3",label:(0,o.__)("Beauty and wellness","simplybook")},{value:"43",label:(0,o.__)("Sport and fitness","simplybook")},{value:"5",label:(0,o.__)("Personal meetings and services","simplybook")},{value:"1",label:(0,o.__)("Medical","simplybook")},{value:"4",label:(0,o.__)("Events and entertainment","simplybook")},{value:"6",label:(0,o.__)("Education","simplybook")},{value:"75",label:(0,o.__)("Retailers","simplybook")},{value:"7",label:(0,o.__)("Officials","simplybook")},{value:"8",label:(0,o.__)("Other category","simplybook")}]},{id:"service",type:"text",style:"inline",label:(0,o.__)("What service do you provide?","simplybook"),required:!0},{id:"phone",type:"text",style:"inline",label:(0,o.__)("Phone","simplybook"),validation:{regex:["^[0-9\\s().\\-+]+$"],message:(0,o.__)("Please enter a valid phone number","simplybook")},required:!0},{id:"address",type:"text",style:"inline",label:(0,o.__)("Address","simplybook"),required:!0},{id:"zip",type:"text",style:"inline",label:(0,o.__)("Postal Code","simplybook"),required:!0},{id:"city",type:"text",style:"inline",label:(0,o.__)("City","simplybook"),required:!0},{id:"country",type:"select",label:(0,o.__)("Country","simplybook"),options:_,required:!0}],beforeSubmit:v},{id:3,path:"/onboarding/confirm-email",fields:[{id:"confirmation-code",type:"text",label:(0,o.__)("Confirmation Code","simplybook"),required:!0}],beforeSubmit:h},{id:4,path:"/onboarding/style-widget",beforeSubmit:f,fields:[]},{id:5,path:"/onboarding/implementation",fields:[{id:"implementation",type:"implementation",label:"",default:"generated",save_on_change:!0,options:[{value:"generated",label:(0,o.__)("Simple","simplybook"),description:(0,o.__)("Generate page","simplybook")},{value:"manual",label:(0,o.__)("Shortcode","simplybook"),description:(0,o.__)("Do it yourself","simplybook")}]}],beforeSubmit:async e=>"manual"===t("implementation")?(async e=>{const t=await(async({data:e=!0})=>await(0,d.A)("onboarding/finish_onboarding","POST",{data:e}))({data:e});return"success"!==t.status?(m(t.message),!1):(O(!0),!0)})(e):(async e=>{if(!e?.calendarPageUrl)return m((0,o.__)("Please enter a valid calendar page URL","simplybook")),!1;if(!e?.calendarPageAvailable)return m((0,o.__)("This calendar page URL is taken. Please choose another one.","simplybook")),!1;const t={calendarPageUrl:e.calendarPageUrl},a=await(async({payload:e=!0})=>await(0,d.A)("onboarding/generate_pages","POST",{payload:e}))({payload:t});return"success"!==a.status?(m(a.message),!1):(O(!0),!0)})(e)}],x={};w.forEach((e=>{e.fields.forEach((e=>{x[e.id]=""}))}));const k={};let E;g?.forEach((e=>{e.id in x&&(k[e.id]=e.value)})),e[3]===Symbol.for("react.memo_cache_sentinel")?(E=["onboarding_data"],e[3]=E):E=e[3];const N=(0,i.I)({queryKey:E,initialData:{...x,...k,onboardingCompleted:simplybook.is_onboarding_completed},staleTime:3e5});let S;e[4]!==y?(S={mutationFn:async e=>{y.setQueryData(["onboarding_data"],(t=>({...t,...e}))),y.invalidateQueries(["onboarding_data"])}},e[4]=y,e[5]=S):S=e[5];const{mutate:A}=(0,s.n)(S);let R;e[6]!==y?(R={mutationFn:async e=>{y.setQueryData(["onboarding_data"],(t=>({...t,onboardingCompleted:e})))},onSuccess:()=>{y.invalidateQueries(["onboarding_data"])}},e[6]=y,e[7]=R):R=e[7];const{mutate:j}=(0,s.n)(R),O=j;let C,q,P,T,F;return e[8]===Symbol.for("react.memo_cache_sentinel")?(C=()=>{m("")},e[8]=C):C=e[8],e[9]!==t?(q=t("implementation"),e[9]=t,e[10]=q):q=e[10],e[11]!==q?(P=[q],e[11]=q,e[12]=P):P=e[12],(0,r.useEffect)(C,P),e[13]!==A?(T=e=>A({recaptchaToken:e}),e[13]=A,e[14]=T):T=e[14],e[15]!==O?(F=e=>O(e),e[15]=O,e[16]=F):F=e[16],{steps:w,data:N.data,defaultData:x,updateData:A,getCurrentStepId:e=>w.find((t=>t.path===e))?.id,getCurrentStep:e=>w.find((t=>t.path===e)),getURLForStep:e=>w[e-1]?.path,isLastStep:e=>w.length===w.find((t=>t.path===e))?.id,recaptchaToken:N.data?.recaptchaToken||"",setRecaptchaToken:T,onboardingCompleted:N.data?.onboardingCompleted||!1,setOnboardingCompleted:F,apiError:a,setApiError:m}};function p(e,t){const[a,n]=t;return e[a]=n,e}async function f(e){return await(async({primary_color:e="",secondary_color:t="",active_color:a=""})=>await(0,d.A)("onboarding/save_widget_style","POST",{primary_color:e,secondary_color:t,active_color:a}))({primary_color:e.primary_color,secondary_color:e.secondary_color,active_color:e.active_color}),!0}},1730:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(1728),r=a(7665),o=a(9270),l=a(7097),i=a(4576);const s=()=>{const e=(0,n.c)(21),t=(0,r.jE)();let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=new i.A,e[0]=a):a=e[0];const s=a;let d,u,m;e[1]===Symbol.for("react.memo_cache_sentinel")?(d=["setting_fields"],u=()=>s.setRoute("settings/get").setPayload({withValues:!0}).post(),e[1]=d,e[2]=u):(d=e[1],u=e[2]),e[3]===Symbol.for("react.memo_cache_sentinel")?(m={queryKey:d,queryFn:u,staleTime:3e5,initialData:{data:window.simplybook?.settings_fields},retry:0,select:c},e[3]=m):m=e[3];const p=(0,o.I)(m);let f,y;e[4]===Symbol.for("react.memo_cache_sentinel")?(f=async e=>await s.setRoute("settings/save").setPayload(e).post(),e[4]=f):f=e[4],e[5]!==t?(y={mutationFn:f,onSuccess:e=>{if("success"!==e?.status)throw e;t.setQueryData(["setting_fields"],(t=>e?.data?[...e?.data]:[])),t.invalidateQueries({queryKey:["setting_fields"]})}},e[5]=t,e[6]=y):y=e[6];const{mutateAsync:g}=(0,l.n)(y);let b;e[7]!==p?.data?(b=e=>p?.data.find((t=>t.id===e))?.value,e[7]=p?.data,e[8]=b):b=e[8];const v=b;let h;e[9]!==p?.data||e[10]!==g?(h=(e,t)=>{const a=p?.data?.map((a=>a.id===e?{...a,value:t}:a));a&&g(a)},e[9]=p?.data,e[10]=g,e[11]=h):h=e[11];const _=h,w=p?.data,x=p?.isLoading;let k,E;return e[12]!==t?(k=()=>t.invalidateQueries({queryKey:["setting_fields"]}),e[12]=t,e[13]=k):k=e[13],e[14]!==v||e[15]!==g||e[16]!==_||e[17]!==k||e[18]!==w||e[19]!==x?(E={settings:w,saveSettings:g,getValue:v,setValue:_,isSavingSettings:x,invalidateSettings:k},e[14]=v,e[15]=g,e[16]=_,e[17]=k,e[18]=w,e[19]=x,e[20]=E):E=e[20],E};function c(e){return e?.data??e}},7493:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(1728),r=a(9270),o=a(5204),l=a(1439),i=a(1609);const s=()=>{const e=(0,n.c)(20),{onboardingCompleted:t,setOnboardingCompleted:a}=(0,l.A)(),[s,c]=(0,i.useState)(!t);let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d={status:"waiting"},e[0]=d):d=e[0];const[u,m]=(0,i.useState)(d),[p,f]=(0,i.useState)(0),[y,g]=(0,i.useState)(!1);let b,v,h;e[1]===Symbol.for("react.memo_cache_sentinel")?(b=["registration_callback_status"],v={status:"waiting"},e[1]=b,e[2]=v):(b=e[1],v=e[2]),e[3]!==p||e[4]!==s||e[5]!==u||e[6]!==a?(h=async()=>{if(!s)return console.log("Polling disabled"),u;f(p+1);const e=await(0,o.A)("check_registration_callback_status","POST",{data:{status:"waiting"}});return m(e.data),"completed"===e.data.status&&(c(!1),g(!0),a(!0)),p>100&&c(!1),e.data},e[3]=p,e[4]=s,e[5]=u,e[6]=a,e[7]=h):h=e[7];const _=!!s;let w,x,k;e[8]!==s?(w=e=>!!s&&3e3,e[8]=s,e[9]=w):w=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(x=e=>{c(!1)},e[10]=x):x=e[10],e[11]!==h||e[12]!==_||e[13]!==w?(k={queryKey:b,initialData:v,queryFn:h,enabled:_,refetchInterval:w,onError:x},e[11]=h,e[12]=_,e[13]=w,e[14]=k):k=e[14];const{isFetching:E}=(0,r.I)(k);let N,S;return e[15]===Symbol.for("react.memo_cache_sentinel")?(N=()=>c(!0),e[15]=N):N=e[15],e[16]!==E||e[17]!==s||e[18]!==y?(S={startPolling:N,pollingEnabled:s,isPolling:E,pollingSuccess:y},e[16]=E,e[17]=s,e[18]=y,e[19]=S):S=e[19],S}},3775:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(1728),r=a(7665),o=a(9270),l=a(4576);const i=()=>{const e=(0,n.c)(9),t=(0,r.jE)();let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=new l.A,e[0]=a):a=e[0];const i=a;let s;e[1]===Symbol.for("react.memo_cache_sentinel")?(s={queryKey:["get_widget"],queryFn:()=>i.setRoute("get_widget").get(),staleTime:3e5,retry:0,enabled:!1},e[1]=s):s=e[1];const{data:c,refetch:d}=(0,o.I)(s);let u;e[2]!==t||e[3]!==d?(u=async()=>{t.invalidateQueries({queryKey:["get_widget"]}).then((function(e){return d()}))},e[2]=t,e[3]=d,e[4]=u):u=e[4];const m=u;let p;e[5]===Symbol.for("react.memo_cache_sentinel")?(p=async e=>await i.setRoute("get_preview_widget").setPayload(e).post(),e[5]=p):p=e[5];const f=p,y=c?.data?.widget;let g;return e[6]!==m||e[7]!==y?(g={widgetScript:y,invalidateAndRefetchWidgetScript:m,createPreviewWidget:f},e[6]=m,e[7]=y,e[8]=g):g=e[8],g}},3157:(e,t,a)=>{a.r(t),a.d(t,{Route:()=>y});var n=a(6037),r=a(7723),o=a(2446),l=a(1609),i=a(5204);const s=async(e=1)=>{const t=await(0,i.A)("onboarding/get_recaptcha_sitekey","POST");return""===t.data.site_key&&e<=5?(console.error("Recaptcha site key is empty, retry after 3 seconds, attempt ",e),await new Promise((e=>setTimeout(e,2e3))),s(e++)):t.data.site_key},c=s;var d=a(1439),u=a(3970),m=a(7047),p=a(6801);const f="/onboarding/confirm-email",y=(0,n.uV)(f)({component:()=>{const{setRecaptchaToken:e}=(0,d.A)(),t=(0,l.useRef)(null),[a,n]=(0,l.useState)(!1),[i,s]=(0,l.useState)("");return(0,l.useEffect)((()=>(a||(n(!0),(async()=>{let a=await c();const n=document.createElement("script");n.src="https://www.google.com/recaptcha/api.js?onload=onloadRecaptchaCallback&render=explicit",n.async=!0,n.defer=!0,n.onload=()=>{window.onloadRecaptchaCallback=()=>{window.grecaptcha&&t.current&&window.grecaptcha.render(t.current,{sitekey:a,callback:t=>{e(t)}})}},document.body.appendChild(n)})()),()=>{delete window.onloadRecaptchaCallback;const e=document.querySelector('script[src="https://www.google.com/recaptcha/api.js"]');e&&document.body.removeChild(e)})),[]),React.createElement(React.Fragment,null,React.createElement(u.A,{className:"flex flex-col justify-center col-span-5 col-start-2"},React.createElement("div",{className:"text-center"},React.createElement("h2",{className:"mt-2 text-lg font-light text-black"},(0,r.__)("Lets get you verified!","simplybook")),React.createElement("h1",{className:"text-4xl font-semibold text-black mb-4"},(0,r.__)("Fill in the authentication code sent to your email","simplybook"))),React.createElement(o.A,{path:f,syncFieldConfig:{key:"confirmation-code",value:i,setValue:e=>{s(e)}},customHtml:React.createElement("div",{id:"recaptcha_container",className:"my-4",ref:t}),primaryButton:{label:(0,r.__)("Verify email","simplybook"),showLoader:!0}})),React.createElement(m.A,{className:"flex flex-col justify-center col-span-5"},React.createElement("div",{className:"flex flex-col items-center pb-4"},React.createElement(p.A,{FrameWrapperClass:"h-full w-full aspect-w-16 aspect-h-9 mb-8",className:"w-full h-full",src:"https://www.youtube.com/embed/qgMn9dKJAt4",title:"How to get started with SimplyBook.me",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",refPolicy:"strict-origin-when-cross-origin"}),React.createElement("div",{className:"text-center flex flex-col items-center"},React.createElement("h1",{className:"m-0 mb-4 text-2xl"},(0,r.__)("SimplyBook.me fits seamlessly into your business","simplybook")),React.createElement("small",{className:"text-lg text-gray-400 w-3/4"},(0,r.__)("It’s easy to keep your appointments in sync with the apps and plugins you need.","simplybook"))))))}})}}]);